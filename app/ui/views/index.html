<!DOCTYPE html>
<html>
  <head>
    <title>Radiodan Remote Control</title>
    <link rel="stylesheet" href="assets/css/lib/pure-min.css">
    <link rel="stylesheet" href="assets/css/app.css">
    <script data-initial-data>
      var data = JSON.parse('{{ json | safe }}');
    </script>
  </head>

  <body>
    <h1>Radiodan</h1>

    <script data-ui-template type="text/ractive">
      {% raw %}
        {{#power}}
        <section>
          <p>
            Power {{ isOn ? 'On' : 'Off' }}
            <a  on-tap="power"
                href="/power">Turn {{ isOn ? 'Off' : 'On' }}</a>
          </p>
        </section>
        {{/power}}

        {{#audio}}
        <section id="volume" class="volume">
          <h2>Volume</h2>
          <input type="range"
                 on-change="volume"
                 min="0" max="100" value="{{volume}}" />
        </section>
        {{/audio}}

        <section id="services" class="services">
          <ul class="service-list">
          {{#services}}
            <li on-tap="service"
                class="service-item {{ current === id ? 'is-playing' : '' }}">
              <a  href="/radio/service/{{ id }}">
                <img src="{{ logos.svg }}" alt="{{ title }}" />
              </a>
            </li>
          {{/services}}
          </ul>
        </section>
      {% endraw %}
    </script>

    <div data-ui-container>
    </div>

    <section id="behaviours">
      <h2>Magic Button</h2>
      <ul>
        <li><a href="/avoider/">Avoider</a></li>
      </ul>
    </section>

    <script src="assets/js/app.{% if isDebug %}debug.{% endif %}js"></script>
  </body>
</html>
