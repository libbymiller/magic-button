<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0,maximum-scale=1.0" />
    <script src="/assets/lib/viewporter/viewporter.js"></script>

    <title>Radiodan Remote Control</title>
    <link rel="stylesheet" href="/assets/css/app.css">

    <!-- Important Owl stylesheet -->
    <link rel="stylesheet" href="/assets/lib/owl-carousel/owl.carousel.css">
    <!-- Default Theme -->
    <link rel="stylesheet" href="/assets/lib/owl-carousel/owl.theme.css">
  </head>

  <body>
    <div id="viewporter">

    <div data-ui-container>
      <div class="splash">
        <i></i>
        <span>Loading&hellip;</span>
      </div>
    </div>

    <script>
      window.splashStartTime = Date.now();
      console.log('Rendering splash', splashStartTime);
    </script>

    {% include "partials/masthead.html"  %}
    {% include "partials/playout.html"   %}
    {% include "partials/volume.html"    %}
    {% include "partials/metadata.html"  %}
    {% include "partials/services.html"  %}
    {% include "partials/progress.html"  %}
    {% include "partials/avoider.html"   %}
    {% include "partials/announcer.html" %}
    {% include "partials/error.html" %}
    {% include "partials/standby.html" %}
    {% include "partials/settings.html" %}

    <script id="mainTmpl" data-ui-template type="text/ractive">
      {% raw %}
        <div class="{{radio.power.isOn ? 'is-on' : 'is-off' }} {{ ui.panels.settings.isOpen ? 'is-settings' : 'is-controls' }}">
        <section id="masthead" class="layout panel masthead">
          {{>mastheadTmpl}}
        </section>

        {{>standbyTmpl}}

        {{#ui.error}}
        <section id="error" class="panel">
          {{>errorTmpl}}
        </section>
        {{/ui.error}}

        <div id="controls">
          <section id="playout" class="layout panel">
            {{>playoutTmpl}}
          </section>

          <section id="volume" class="layout panel {{ ui.panels.volume.isOpen ? '' : 'is-closed' }}">
            {{>volumeTmpl}}
          </section>

          <section  id="services"
                    class="layout panel services {{ ui.panels.services.isOpen ? '' : 'is-closed' }}">
            {{>servicesTmpl}}
          </section>

          <section id="metadata" class="layout">
            {{>metadataTmpl}}
          </section>

          <section id="magic">
            <ul class="magic">
              {{#radio.magic}}
                {{>avoiderTempl}}
                {{>announcerTempl}}
              {{/radio.magic}}
            </ul>
          </section>
        </div><!-- #controls -->

        <section id="settings">
          {{>settingsTmpl}}
        </section>
      {% endraw %}
    </script>
    </div><!-- #viewporter -->
    <script src="assets/js/app.{% if isDebug %}debug.{% endif %}js"></script>
  </body>
</html>
