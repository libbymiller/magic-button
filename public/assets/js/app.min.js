!function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t){function e(){h.info("init"),r.addChangeListener(function(){p.set("power",r.getState())}),i.addChangeListener(function(){p.set("audio",i.getState())}),o.addChangeListener(function(){p.set("services",o.getAllServicesAsArray())}),a.addChangeListener(function(t){var e=u.getCurrentId();e===t&&p.set("nowAndNext",a.get(e))}),s.addChangeListener(function(t){var e=u.getCurrentId();e===t&&p.set("nowPlaying",s.get(e))}),u.addChangeListener(function(){p.set("current",u.getCurrent())}),c.addChangeListener(function(){p.set("avoider",c.getState())}),l.addChangeListener(function(){p.set("announcer",l.getState())}),f.addChangeListener(function(){p.set("settings",f.getState())}),n.connectEventStream(),n.getInitialState().then(function(t){if(t.debug&&t.debug.logLevel){var e=t.debug.logLevel.toUpperCase();console.log("Log level %o requested",e),h.useDefaults(),h[e]?(h.setLevel(h[e]),console.log("Log level %o set",e)):console.warn("%o not available",e)}}),t("./api/announce")()}var n=t("./utils/api"),r=t("./stores/power"),i=t("./stores/audio"),o=t("./stores/services"),a=t("./stores/now-and-next"),s=t("./stores/now-playing"),u=t("./stores/current-service"),c=t("./stores/avoider"),l=t("./stores/announcer"),f=t("./stores/radio-settings"),h=t("js-logger"),p=t("./view");p.init().then(e)},{"./api/announce":4,"./stores/announcer":24,"./stores/audio":25,"./stores/avoider":26,"./stores/current-service":27,"./stores/now-and-next":28,"./stores/now-playing":29,"./stores/power":30,"./stores/radio-settings":31,"./stores/services":32,"./utils/api":34,"./view":35,"js-logger":42}],2:[function(t,e){"use strict";var n=t("js-logger"),r=t("../dispatcher/dispatcher"),i=t("../constants/constants").ActionTypes;e.exports={receiveInitialState:function(t){n.debug("receiveInitialState",t),r.handleServerAction({type:i.RECEIVE_INITIAL_STATE,state:t})},receiveStateUpdate:function(t){var e=t.topic.split(".")[0],i=t;n.debug("receiveStateUpdate",e,i),r.handleServerAction({type:e,state:i})},receiveAnnouncerState:function(t){n.debug("receiveAnnouncerState",t),r.handleServerAction({type:i.ANNOUNCER,state:t})},receiveAvoiderSettings:function(t){n.debug("receiveAvoiderSettings",t),r.handleServerAction({type:i.RECEIVE_AVOIDER_SETTINGS,state:t})},receiveRadioSettings:function(t){n.debug("receiveRadioSettings",t),r.handleServerAction({type:i.RECEIVE_RADIO_SETTINGS,state:t})}}},{"../constants/constants":17,"../dispatcher/dispatcher":18,"js-logger":42}],3:[function(t,e){var n=t("js-logger"),r=t("../dispatcher/dispatcher"),i=t("../constants/constants").ActionTypes,o=t("../stores/power"),a=t("../stores/avoider"),s=t("../stores/announcer"),u=t("../stores/radio-settings");e.exports={togglePower:function(){var e;n.debug("togglePower"),r.handleViewAction({type:i.POWER}),e=o.getState().isOn,t("../api/power")(e)},changeVolume:function(e){n.debug("changeVolume",e),r.handleViewAction({type:i.VOLUME,state:{volume:e}}),t("../api/volume")(e)},changeService:function(e){n.debug("changeService",e),t("../api/service")(e)},toggleAvoider:function(){var e=a.getState().isAvoiding;n.debug("toggleAvoider - current state",e),t("../api/avoid").set(e)},requestAvoiderSettings:function(){t("../api/avoid").settings()},requestRadioSettings:function(){t("../api/radio-settings")()},avoiderSettings:function(e){t("../api/avoid").settings(e)},toggleAnnouncer:function(){var e=s.getState().isAnnouncing;n.debug("toggleAnnouncer - current state",e),t("../api/announce")(e)},toggleRadioSettingPreferredServer:function(e){u.togglePreferredService(e),r.handleViewAction({type:i.SETTINGS,state:u.getState()}),t("../api/radio-settings")(u.getState())}}},{"../api/announce":4,"../api/avoid":5,"../api/power":6,"../api/radio-settings":7,"../api/service":8,"../api/volume":9,"../constants/constants":17,"../dispatcher/dispatcher":18,"../stores/announcer":24,"../stores/avoider":26,"../stores/power":30,"../stores/radio-settings":31,"js-logger":42}],4:[function(t,e){var n=t("../xhr"),r=(t("../utils").success,t("../utils").failure),i=t("../actions/server-action-creators");e.exports=function(t){null==t&&n.get("/announcer/state.json").then(function(t){return JSON.parse(t)}).then(i.receiveAnnouncerState,r);var e=t?"DELETE":"POST";n(e,"/announcer").catch(r)}},{"../actions/server-action-creators":2,"../utils":33,"../xhr":36}],5:[function(t,e){var n=t("../xhr"),r=(t("../utils").success,t("../utils").failure,t("../actions/server-action-creators"));e.exports.set=function(t){var e=t?"DELETE":"POST";n(e,"/avoider")},e.exports.settings=function(t){if(t){var e=JSON.stringify(t),i={headers:{"Content-type":"application/json"},data:e};n.post("/avoider/settings.json",i)}else n.get("/avoider/settings.json").then(function(t){return JSON.parse(t)}).then(r.receiveAvoiderSettings)}},{"../actions/server-action-creators":2,"../utils":33,"../xhr":36}],6:[function(t,e){{var n=t("../xhr");t("../utils").success,t("../utils").failure}e.exports=function(t){var e=t?"PUT":"DELETE";n(e,"/radio/power")}},{"../utils":33,"../xhr":36}],7:[function(t,e){var n=t("../xhr"),r=t("../utils"),i=(r.success,r.failure),o=t("../actions/server-action-creators");e.exports=function(t){if(t){console.warn("data",t);var e=JSON.stringify(t),r={headers:{"Content-type":"application/json"},data:e};n.post("/radio/settings.json",r).catch(i)}else n.get("/radio/settings.json").then(function(t){return JSON.parse(t)}).then(o.receiveRadioSettings).catch(i)}},{"../actions/server-action-creators":2,"../utils":33,"../xhr":36}],8:[function(t,e){var n=t("../xhr"),r=t("../utils").success,i=t("../utils").failure;e.exports=function(t){n.post("/radio/service/"+t).then(r("service"),i("service"))}},{"../utils":33,"../xhr":36}],9:[function(t,e){var n=t("../xhr"),r=t("../utils").success,i=t("../utils").failure;e.exports=function(t){n.post("/radio/volume/value/"+t).then(r("volume"),i("volume"))}},{"../utils":33,"../xhr":36}],10:[function(t,e){var n=t("ractive");e.exports=n.extend({template:"#announcerTmpl",isolated:!0,twoway:!1,debug:!0,data:{settingsOpen:!1,state:null},components:{CircularProgress:t("./circular-progress")},computed:{percentThrough:function(){var t,e,n,r=this.get("state.start"),i=this.get("state.end"),o=this.get("now");return r&&i&&o?(t=i-r,e=o-r,n=e/t,n=100*n.toFixed(2)):this.get("state.isAnnouncing")&&(n=100),0>n&&(n=0),n>100&&(n=100),n},timeLeft:function(){var t=this.get("now"),e=this.get("state.end"),n=e>t,r=null;return e&&t&&n&&(r=this.formatTimeDiff(Math.round(e-t))),r}},init:function(){this.observe("state.end",function(t){t&&!this.countdownTimerId?this.countdownTimerId=window.setInterval(function(){this.set("now",new Date)}.bind(this),1e3):(window.clearInterval(this.countdownTimerId),this.countdownTimerId=null)})}})},{"./circular-progress":12,ractive:43}],11:[function(t,e){var n=t("ractive");e.exports=n.extend({template:"#avoiderTmpl",isolated:!0,twoway:!0,debug:!0,data:{settingsOpen:!1,state:null},components:{CircularProgress:t("./circular-progress"),ServicesList:t("./services-list")},computed:{percentThrough:function(){var t,e,n,r=this.get("start"),i=this.get("end"),o=this.get("now");return r&&i&&o?(t=i-r,e=o-r,n=e/t,n=100*n.toFixed(2)):this.get("state.isAvoiding")&&(n=100),0>n&&(n=0),n>100&&(n=100),n},timeLeft:function(){var t=this.get("now"),e=this.get("state.end"),n=e>t,r=null;return e&&t&&n&&(r=this.formatTimeDiff(Math.round(e-t))),r}},init:function(){this.observe("state.end",function(t){t&&!this.countdownTimerId?this.countdownTimerId=window.setInterval(function(){this.set("now",new Date)}.bind(this),1e3):(window.clearInterval(this.countdownTimerId),this.countdownTimerId=null)}),this.on("settings",function(){this.get("settingsOpen")||this.fire("settings-requested"),this.set("settingsOpen",!this.get("settingsOpen"))}),this.on("avoid-service-setting",function(t){this.set("state.settings.serviceId",t),this.fire("settings-changed",this.get("state.settings"))}),this.on("state-settings-avoid-type",function(t){this.set("state.settings.avoidType",t.node.value),this.fire("settings-changed",this.get("state.settings"))})},formatTimeDiff:function(t){var e=t/1e3,n=e/60,r=Math.abs(Math.floor(n)-n);return r=Math.floor(60*r),10>r&&(r="0"+r),Math.floor(n)+"m "+r}})},{"./circular-progress":12,"./services-list":15,ractive:43}],12:[function(t,e){var n,r,i,o=t("ractive"),a=t("../lib/d3");n=a.svg.arc().innerRadius(44.4827586).outerRadius(50).startAngle(0),r=a.svg.arc().innerRadius(49.5).outerRadius(50).startAngle(0),i=a.scale.linear().domain([0,100]).range([0,2*Math.PI]).clamp([!0]);var s={outerArcPath:r({endAngle:2*Math.PI}),progressArcPath:n({endAngle:0})},u=o.extend({template:"#progressTempl",isolated:!0,twoway:!1,debug:!0,computed:{angle:function(){var t=this.get("percentThrough");return t?i(t):0}},init:function(){this.set(s),this.observe("angle",function(t){arc=n,this.set({progressArcPath:arc({endAngle:t})})})}});e.exports=u},{"../lib/d3":19,ractive:43}],13:[function(t,e){var n=t("ractive");e.exports=n.extend({template:"#controlsTmpl",isolated:!0,twoway:!1,debug:!0,components:{Playout:t("./simple")("#playoutTmpl"),ServicesList:t("./services-list"),Volume:t("./simple")("#volumeTmpl"),Metadata:t("./metadata"),Avoider:t("./avoider"),Announcer:t("./announcer")},data:{servicesPanel:{isOpen:!1}},init:function(){this.on({"services-panel-toggle":function(){var t=this.get("servicesPanel.isOpen");this.set("servicesPanel.isOpen",!t)},"volume-panel-toggle":function(){var t=this.get("volume.isOpen");this.set("volume.isOpen",!t)}})}})},{"./announcer":10,"./avoider":11,"./metadata":14,"./services-list":15,"./simple":16,ractive:43}],14:[function(t,e){var n=t("ractive");e.exports=n.extend({template:"#metadataTmpl",isolated:!0,debug:!0,twoway:!1,data:{view:"prog",first:function(t){return t[0]},imageUrl:function(t,e){return t.replace("$recipe",e)}},init:function(){this.on("track-display",function(){var t=this.get("view");this.set("view","track"===t?"prog":"track")})}})},{ractive:43}],15:[function(t,e){var n=t("ractive");e.exports=n.extend({template:"#servicesTmpl",isolated:!0,twoway:!1,debug:!0,init:function(){var t=this;this.on({"services-partial":function(e){e.original.preventDefault();var n=e.context.id;t.fire("selected",n)}})}})},{ractive:43}],16:[function(t,e){var n=t("ractive");e.exports=function(e){return n.extend({template:e,isolated:!0,twoway:!1,debug:!0,components:{ServicesList:t("./services-list")}})}},{"./services-list":15,ractive:43}],17:[function(t,e){e.exports={ActionTypes:{RECEIVE_INITIAL_STATE:"RECEIVE_INITIAL_STATE",RECEIVE_STATE_UPDATE:"RECEIVE_STATE_UPDATE",RECEIVE_AVOIDER_SETTINGS:"RECEIVE_AVOIDER_SETTINGS",RECEIVE_RADIO_SETTINGS:"RECEIVE_RADIO_SETTINGS",POWER:"power",AUDIO:"audio",SERVICE:"service",SETTINGS:"settings",NOW_AND_NEXT:"nowAndNext",NOW_PLAYING:"nowPlaying",AVOIDER:"avoider",ANNOUNCER:"announcer"},Payload:{SERVER_ACTION:"SERVER_ACTION",VIEW_ACTION:"VIEW_ACTION"}}},{}],18:[function(t,e){var n=t("underscore"),r=t("../lib/flux").Dispatcher,i=t("../constants/constants");e.exports=n.extend(new r,{handleServerAction:function(t){var e={source:i.Payload.SERVER_ACTION,action:t};this.dispatch(e)},handleViewAction:function(t){var e={source:i.Payload.VIEW_ACTION,action:t};this.dispatch(e)}})},{"../constants/constants":17,"../lib/flux":20,underscore:44}],19:[function(t,e){!function(){function t(t,e){return e>t?-1:t>e?1:t>=e?0:0/0}function n(t){return null!=t&&!isNaN(t)}function r(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function i(t){return t.length}function o(t){for(var e=1;t*e%1;)e*=10;return e}function a(t,e){try{for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}catch(r){t.prototype=e}}function s(){}function u(t){return ds+t in this}function c(t){return t=ds+t,t in this&&delete this[t]}function l(){var t=[];return this.forEach(function(e){t.push(e)}),t}function f(){var t=0;for(var e in this)e.charCodeAt(0)===gs&&++t;return t}function h(){for(var t in this)if(t.charCodeAt(0)===gs)return!1;return!0}function p(){}function d(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function g(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var n=0,r=vs.length;r>n;++n){var i=vs[n]+e;if(i in t)return i}}function v(){}function m(){}function y(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new s;return e.on=function(e,i){var o,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function w(){Ka.event.preventDefault()}function b(){for(var t,e=Ka.event;t=e.sourceEvent;)e=t;return e}function x(t){for(var e=new m,n=0,r=arguments.length;++n<r;)e[arguments[n]]=y(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=Ka.event;i.target=t,Ka.event=i,e[i.type].apply(n,r)}finally{Ka.event=o}}},e}function E(t){return ys(t,_s),t}function _(t){return"function"==typeof t?t:function(){return ws(t,this)}}function T(t){return"function"==typeof t?t:function(){return bs(t,this)}}function C(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=Ka.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i}function S(t){return t.trim().replace(/\s+/g," ")}function A(t){return new RegExp("(?:^|\\s+)"+Ka.requote(t)+"(?:\\s+|$)","g")}function k(t){return t.trim().split(/^|\s+/)}function M(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=k(t).map(N);var i=t.length;return"function"==typeof e?r:n}function N(t){var e=A(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",S(i+" "+t))):n.setAttribute("class",S(i.replace(e," ")))}}function I(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function O(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function R(t){return"function"==typeof t?t:(t=Ka.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function L(t){return{__data__:t}}function P(t){return function(){return Es(this,t)}}function D(e){return arguments.length||(e=t),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function j(t,e){for(var n=0,r=t.length;r>n;n++)for(var i,o=t[n],a=0,s=o.length;s>a;a++)(i=o[a])&&e(i,a,n);return t}function F(t){return ys(t,Cs),t}function q(t){var e,n;return function(r,i,o){var a,s=t[o].update,u=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=s[e])&&++e<u;);return a}}function $(){var t=this.__transition__;t&&++t.active}function V(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function i(){var i=u(e,es(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=n),i._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+Ka.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),u=H;s>0&&(t=t.substring(0,s));var c=As.get(t);return c&&(t=c,u=W),s?e?i:r:e?v:o}function H(t,e){return function(n){var r=Ka.event;Ka.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{Ka.event=r}}}function W(t,e){var n=H(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function z(){var t=".dragsuppress-"+ ++Ms,e="click"+t,n=Ka.select(is).on("touchmove"+t,w).on("dragstart"+t,w).on("selectstart"+t,w);if(ks){var r=rs.style,i=r[ks];r[ks]="none"}return function(o){function a(){n.on(e,null)}n.on(t,null),ks&&(r[ks]=i),o&&(n.on(e,function(){w(),a()},!0),setTimeout(a,0))}}function U(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function B(){return Ka.event.changedTouches[0].identifier}function X(){return Ka.event.target}function Y(){return is}function G(t){return t>0?1:0>t?-1:0}function Z(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function J(t){return t>1?0:-1>t?Ns:Math.acos(t)}function Q(t){return t>1?Os:-1>t?-Os:Math.asin(t)}function K(t){return((t=Math.exp(t))-1/t)/2}function te(t){return((t=Math.exp(t))+1/t)/2}function ee(t){return((t=Math.exp(2*t))-1)/(t+1)}function ne(t){return(t=Math.sin(t/2))*t}function re(){}function ie(t,e,n){return new oe(t,e,n)}function oe(t,e,n){this.h=t,this.s=e,this.l=n}function ae(t,e,n){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(a-o)*t/60:180>t?a:240>t?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+e):n+e-n*e,o=2*n-a,we(i(t+120),i(t),i(t-120))}function se(t,e,n){return new ue(t,e,n)}function ue(t,e,n){this.h=t,this.c=e,this.l=n}function ce(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),le(n,Math.cos(t*=Ps)*e,Math.sin(t)*e)}function le(t,e,n){return new fe(t,e,n)}function fe(t,e,n){this.l=t,this.a=e,this.b=n}function he(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return i=de(i)*Bs,r=de(r)*Xs,o=de(o)*Ys,we(ve(3.2404542*i-1.5371385*r-.4985314*o),ve(-.969266*i+1.8760108*r+.041556*o),ve(.0556434*i-.2040259*r+1.0572252*o))}function pe(t,e,n){return t>0?se(Math.atan2(n,e)*Ds,Math.sqrt(e*e+n*n),t):se(0/0,0/0,t)}function de(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ge(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ve(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function me(t){return we(t>>16,t>>8&255,255&t)}function ye(t){return me(t)+""}function we(t,e,n){return new be(t,e,n)}function be(t,e,n){this.r=t,this.g=e,this.b=n}function xe(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function Ee(t,e,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(Se(i[0]),Se(i[1]),Se(i[2]))}return(o=Js.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.substring(1),16))||(4===t.length?(a=(3840&o)>>4,a=a>>4|a,s=240&o,s=s>>4|s,u=15&o,u=u<<4|u):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function _e(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=.5>u?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=0/0,i=u>0&&1>u?0:r),ie(r,i,u)}function Te(t,e,n){t=Ce(t),e=Ce(e),n=Ce(n);var r=ge((.4124564*t+.3575761*e+.1804375*n)/Bs),i=ge((.2126729*t+.7151522*e+.072175*n)/Xs),o=ge((.0193339*t+.119192*e+.9503041*n)/Ys);return le(116*i-16,500*(r-i),200*(i-o))}function Ce(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Se(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Ae(t){return"function"==typeof t?t:function(){return t}}function ke(t){return t}function Me(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Ne(e,n,t,r)}}function Ne(t,e,n,r){function i(){var t,e=u.status;if(!e&&u.responseText||e>=200&&300>e||304===e){try{t=n.call(o,u)}catch(r){return void a.error.call(o,r)}a.load.call(o,t)}else a.error.call(o,u)}var o={},a=Ka.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,c=null;return!is.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(t){var e=Ka.event;Ka.event=t;try{a.progress.call(o,u)}finally{Ka.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(c=t,o):c},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(es(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var l in s)u.setRequestHeader(l,s[l]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=c&&(u.responseType=c),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),a.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},Ka.rebind(o,a,"on"),null==r?o:o.get(Ie(r))}function Ie(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Oe(){var t=Re(),e=Le()-t;e>24?(isFinite(e)&&(clearTimeout(eu),eu=setTimeout(Oe,e)),tu=0):(tu=1,ru(Oe))}function Re(){var t=Date.now();for(nu=Qs;nu;)t>=nu.t&&(nu.f=nu.c(t-nu.t)),nu=nu.n;return t}function Le(){for(var t,e=Qs,n=1/0;e;)e.f?e=t?t.n=e.n:Qs=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return Ks=t,n}function Pe(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function De(t,e){var n=Math.pow(10,3*ps(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function je(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r?function(t){for(var e=t.length,i=[],o=0,a=r[0];e>0&&a>0;)i.push(t.substring(e-=a,e+a)),a=r[o=(o+1)%r.length];return i.reverse().join(n)}:ke;return function(t){var n=ou.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"",u=n[4]||"",c=n[5],l=+n[6],f=n[7],h=n[8],p=n[9],d=1,g="",v="",m=!1;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===a)&&(c=r="0",a="=",f&&(l-=Math.floor((l-1)/4))),p){case"n":f=!0,p="g";break;case"%":d=100,v="%",p="f";break;case"p":d=100,v="%",p="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+p.toLowerCase());case"c":case"d":m=!0,h=0;break;case"s":d=-1,p="r"}"$"===u&&(g=i[0],v=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):("e"==p||"f"==p)&&(h=Math.max(0,Math.min(20,h)))),p=au.get(p)||Fe;var y=c&&f;return function(t){var n=v;if(m&&t%1)return"";var i=0>t||0===t&&0>1/t?(t=-t,"-"):s;if(0>d){var u=Ka.formatPrefix(t,h);t=u.scale(t),n=u.symbol+v}else t*=d;t=p(t,h);var w=t.lastIndexOf("."),b=0>w?t:t.substring(0,w),x=0>w?"":e+t.substring(w+1);!c&&f&&(b=o(b));var E=g.length+b.length+x.length+(y?0:i.length),_=l>E?new Array(E=l-E+1).join(r):"";return y&&(b=o(_+b)),i+=g,t=b+x,("<"===a?i+t+_:">"===a?_+i+t:"^"===a?_.substring(0,E>>=1)+i+t+_.substring(E):i+(y?t:_+t))+n}}}function Fe(t){return t+""}function qe(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function $e(t,e,n){function r(e){var n=t(e),r=o(n,1);return r-e>e-n?n:r}function i(n){return e(n=t(new uu(n-1)),1),n}function o(t,n){return e(t=new uu(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;r>a;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;r>a;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{uu=qe;var r=new qe;return r._=t,a(r,e,n)}finally{uu=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var u=t.utc=Ve(t);return u.floor=u,u.round=Ve(r),u.ceil=Ve(i),u.offset=Ve(o),u.range=s,t}function Ve(t){return function(e,n){try{uu=qe;var r=new qe;return r._=e,t(r,n)._}finally{uu=Date}}}function He(t){function e(t){function e(e){for(var n,i,o,a=[],s=-1,u=0;++s<r;)37===t.charCodeAt(s)&&(a.push(t.substring(u,s)),null!=(i=lu[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=k[n])&&(n=o(e,null==i?"e"===n?" ":"0":i)),a.push(n),u=s+1);return a.push(t.substring(u,s)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,t,e,0);if(i!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&uu!==qe,a=new(o?qe:uu);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+Math.floor(r.Z/100),r.M+r.Z%100,r.S,r.L),o?a._:a},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,o,a,s=0,u=e.length,c=n.length;u>s;){if(r>=c)return-1;if(i=e.charCodeAt(s++),37===i){if(a=e.charAt(s++),o=M[a in lu?e.charAt(s++):a],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){E.lastIndex=0;var r=E.exec(e.substring(n));return r?(t.w=_.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){b.lastIndex=0;var r=b.exec(e.substring(n));return r?(t.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){S.lastIndex=0;var r=S.exec(e.substring(n));return r?(t.m=A.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){T.lastIndex=0;var r=T.exec(e.substring(n));return r?(t.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,k.c.toString(),e,r)}function u(t,e,r){return n(t,k.x.toString(),e,r)}function c(t,e,r){return n(t,k.X.toString(),e,r)}function l(t,e,n){var r=w.get(e.substring(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var f=t.dateTime,h=t.date,p=t.time,d=t.periods,g=t.days,v=t.shortDays,m=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{uu=qe;var e=new uu;return e._=t,r(e)}finally{uu=Date}}var r=e(t);return n.parse=function(t){try{uu=qe;var e=r.parse(t);return e&&e._}finally{uu=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=cn;var w=Ka.map(),b=ze(g),x=Ue(g),E=ze(v),_=Ue(v),T=ze(m),C=Ue(m),S=ze(y),A=Ue(y);d.forEach(function(t,e){w.set(t.toLowerCase(),e)});var k={a:function(t){return v[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return m[t.getMonth()]},c:e(f),d:function(t,e){return We(t.getDate(),e,2)},e:function(t,e){return We(t.getDate(),e,2)},H:function(t,e){return We(t.getHours(),e,2)},I:function(t,e){return We(t.getHours()%12||12,e,2)},j:function(t,e){return We(1+su.dayOfYear(t),e,3)},L:function(t,e){return We(t.getMilliseconds(),e,3)},m:function(t,e){return We(t.getMonth()+1,e,2)},M:function(t,e){return We(t.getMinutes(),e,2)},p:function(t){return d[+(t.getHours()>=12)]},S:function(t,e){return We(t.getSeconds(),e,2)},U:function(t,e){return We(su.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return We(su.mondayOfYear(t),e,2)},x:e(h),X:e(p),y:function(t,e){return We(t.getFullYear()%100,e,2)},Y:function(t,e){return We(t.getFullYear()%1e4,e,4)},Z:sn,"%":function(){return"%"}},M={a:r,A:i,b:o,B:a,c:s,d:tn,e:tn,H:nn,I:nn,j:en,L:an,m:Ke,M:rn,p:l,S:on,U:Xe,w:Be,W:Ye,x:u,X:c,y:Ze,Y:Ge,Z:Je,"%":un};return e}function We(t,e,n){var r=0>t?"-":"",i=(r?-t:t)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(e)+i:i)}function ze(t){return new RegExp("^(?:"+t.map(Ka.requote).join("|")+")","i")}function Ue(t){for(var e=new s,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Be(t,e,n){fu.lastIndex=0;var r=fu.exec(e.substring(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Xe(t,e,n){fu.lastIndex=0;var r=fu.exec(e.substring(n));return r?(t.U=+r[0],n+r[0].length):-1}function Ye(t,e,n){fu.lastIndex=0;var r=fu.exec(e.substring(n));return r?(t.W=+r[0],n+r[0].length):-1}function Ge(t,e,n){fu.lastIndex=0;var r=fu.exec(e.substring(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ze(t,e,n){fu.lastIndex=0;var r=fu.exec(e.substring(n,n+2));return r?(t.y=Qe(+r[0]),n+r[0].length):-1}function Je(t,e,n){return/^[+-]\d{4}$/.test(e=e.substring(n,n+5))?(t.Z=+e,n+5):-1}function Qe(t){return t+(t>68?1900:2e3)}function Ke(t,e,n){fu.lastIndex=0;var r=fu.exec(e.substring(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function tn(t,e,n){fu.lastIndex=0;var r=fu.exec(e.substring(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function en(t,e,n){fu.lastIndex=0;var r=fu.exec(e.substring(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function nn(t,e,n){fu.lastIndex=0;var r=fu.exec(e.substring(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function rn(t,e,n){fu.lastIndex=0;var r=fu.exec(e.substring(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function on(t,e,n){fu.lastIndex=0;var r=fu.exec(e.substring(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function an(t,e,n){fu.lastIndex=0;var r=fu.exec(e.substring(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function sn(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=~~(ps(e)/60),i=ps(e)%60;return n+We(r,"0",2)+We(i,"0",2)}function un(t,e,n){hu.lastIndex=0;var r=hu.exec(e.substring(n,n+1));return r?n+r[0].length:-1}function cn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function ln(){}function fn(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function hn(t,e){t&&vu.hasOwnProperty(t.type)&&vu[t.type](t,e)}function pn(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function dn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)pn(t[n],e,1);e.polygonEnd()}function gn(){function t(t,e){t*=Ps,e=e*Ps/2+Ns/4;var n=t-r,a=n>=0?1:-1,s=a*n,u=Math.cos(e),c=Math.sin(e),l=o*c,f=i*u+l*Math.cos(s),h=l*a*Math.sin(s);yu.add(Math.atan2(h,f)),r=t,i=u,o=c}var e,n,r,i,o;wu.point=function(a,s){wu.point=t,r=(e=a)*Ps,i=Math.cos(s=(n=s)*Ps/2+Ns/4),o=Math.sin(s)},wu.lineEnd=function(){t(e,n)}}function vn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function mn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function yn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function wn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function bn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function xn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function En(t){return[Math.atan2(t[1],t[0]),Q(t[2])]}function _n(t,e){return ps(t[0]-e[0])<Rs&&ps(t[1]-e[1])<Rs}function Tn(t,e){t*=Ps;var n=Math.cos(e*=Ps);Cn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Cn(t,e,n){++bu,Eu+=(t-Eu)/bu,_u+=(e-_u)/bu,Tu+=(n-Tu)/bu}function Sn(){function t(t,i){t*=Ps;var o=Math.cos(i*=Ps),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(i),c=Math.atan2(Math.sqrt((c=n*u-r*s)*c+(c=r*a-e*u)*c+(c=e*s-n*a)*c),e*a+n*s+r*u);xu+=c,Cu+=c*(e+(e=a)),Su+=c*(n+(n=s)),Au+=c*(r+(r=u)),Cn(e,n,r)}var e,n,r;Iu.point=function(i,o){i*=Ps;var a=Math.cos(o*=Ps);e=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Iu.point=t,Cn(e,n,r)}}function An(){Iu.point=Tn}function kn(){function t(t,e){t*=Ps;var n=Math.cos(e*=Ps),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),c=i*u-o*s,l=o*a-r*u,f=r*s-i*a,h=Math.sqrt(c*c+l*l+f*f),p=r*a+i*s+o*u,d=h&&-J(p)/h,g=Math.atan2(h,p);ku+=d*c,Mu+=d*l,Nu+=d*f,xu+=g,Cu+=g*(r+(r=a)),Su+=g*(i+(i=s)),Au+=g*(o+(o=u)),Cn(r,i,o)}var e,n,r,i,o;Iu.point=function(a,s){e=a,n=s,Iu.point=t,a*=Ps;var u=Math.cos(s*=Ps);r=u*Math.cos(a),i=u*Math.sin(a),o=Math.sin(s),Cn(r,i,o)
},Iu.lineEnd=function(){t(e,n),Iu.lineEnd=An,Iu.point=Tn}}function Mn(){return!0}function Nn(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(_n(n,r)){i.lineStart();for(var s=0;e>s;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var u=new On(n,t,null,!0),c=new On(n,null,u,!1);u.o=c,o.push(u),a.push(c),u=new On(r,t,null,!1),c=new On(r,null,u,!0),u.o=c,o.push(u),a.push(c)}}),a.sort(e),In(o),In(a),o.length){for(var s=0,u=n,c=a.length;c>s;++s)a[s].e=u=!u;for(var l,f,h=o[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;l=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(var s=0,c=l.length;c>s;++s)i.point((f=l[s])[0],f[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d){l=p.p.z;for(var s=l.length-1;s>=0;--s)i.point((f=l[s])[0],f[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,l=p.z,d=!d}while(!p.v);i.lineEnd()}}}function In(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function On(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Rn(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);v.point(n[0],n[1])}function u(){y.point=s,v.lineStart()}function c(){y.point=a,v.lineEnd()}function l(t,e){g.push([t,e]);var n=i(t,e);b.point(n[0],n[1])}function f(){b.lineStart(),g=[]}function h(){l(g[0][0],g[0][1]),b.lineEnd();var t,e=b.clean(),n=w.buffer(),r=n.length;if(g.pop(),d.push(g),g=null,r){if(1&e){t=n[0];var i,r=t.length-1,a=-1;for(o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);return void o.lineEnd()}r>1&&2&e&&n.push(n.pop().concat(n.shift())),p.push(n.filter(Ln))}}var p,d,g,v=e(o),m=i.invert(r[0],r[1]),y={point:a,lineStart:u,lineEnd:c,polygonStart:function(){y.point=l,y.lineStart=f,y.lineEnd=h,p=[],d=[],o.polygonStart()},polygonEnd:function(){y.point=a,y.lineStart=u,y.lineEnd=c,p=Ka.merge(p);var t=jn(m,d);p.length?Nn(p,Dn,t,n,o):t&&(o.lineStart(),n(null,null,1,o),o.lineEnd()),o.polygonEnd(),p=d=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},w=Pn(),b=e(w);return y}}function Ln(t){return t.length>1}function Pn(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:v,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Dn(t,e){return((t=t.x)[0]<0?t[1]-Os-Rs:Os-t[1])-((e=e.x)[0]<0?e[1]-Os-Rs:Os-e[1])}function jn(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;yu.reset();for(var s=0,u=e.length;u>s;++s){var c=e[s],l=c.length;if(l)for(var f=c[0],h=f[0],p=f[1]/2+Ns/4,d=Math.sin(p),g=Math.cos(p),v=1;;){v===l&&(v=0),t=c[v];var m=t[0],y=t[1]/2+Ns/4,w=Math.sin(y),b=Math.cos(y),x=m-h,E=x>=0?1:-1,_=E*x,T=_>Ns,C=d*w;if(yu.add(Math.atan2(C*E*Math.sin(_),g*b+C*Math.cos(_))),o+=T?x+E*Is:x,T^h>=n^m>=n){var S=yn(vn(f),vn(t));xn(S);var A=yn(i,S);xn(A);var k=(T^x>=0?-1:1)*Q(A[2]);(r>k||r===k&&(S[0]||S[1]))&&(a+=T^x>=0?1:-1)}if(!v++)break;h=m,d=w,g=b,f=t}}return(-Rs>o||Rs>o&&0>yu)^1&a}function Fn(t){var e,n=0/0,r=0/0,i=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Ns:-Ns,u=ps(o-n);ps(u-Ns)<Rs?(t.point(n,r=(r+a)/2>0?Os:-Os),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Ns&&(ps(n-i)<Rs&&(n-=i*Rs),ps(o-s)<Rs&&(o-=s*Rs),r=qn(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=0/0},clean:function(){return 2-e}}}function qn(t,e,n,r){var i,o,a=Math.sin(t-n);return ps(a)>Rs?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function $n(t,e,n,r){var i;if(null==t)i=n*Os,r.point(-Ns,i),r.point(0,i),r.point(Ns,i),r.point(Ns,0),r.point(Ns,-i),r.point(0,-i),r.point(-Ns,-i),r.point(-Ns,0),r.point(-Ns,i);else if(ps(t[0]-e[0])>Rs){var o=t[0]<e[0]?Ns:-Ns;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Vn(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(f,h){var p,d=[f,h],g=e(f,h),v=a?g?0:i(f,h):g?i(f+(0>f?Ns:-Ns),h):0;if(!n&&(c=u=g)&&t.lineStart(),g!==u&&(p=r(n,d),(_n(n,p)||_n(d,p))&&(d[0]+=Rs,d[1]+=Rs,g=e(d[0],d[1]))),g!==u)l=0,g?(t.lineStart(),p=r(d,n),t.point(p[0],p[1])):(p=r(n,d),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(s&&n&&a^g){var m;v&o||!(m=r(d,n,!0))||(l=0,a?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||n&&_n(n,d)||t.point(d[0],d[1]),n=d,u=g,o=v},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return l|(c&&u)<<1}}}function r(t,e,n){var r=vn(t),i=vn(e),a=[1,0,0],s=yn(r,i),u=mn(s,s),c=s[0],l=u-c*c;if(!l)return!n&&t;var f=o*u/l,h=-o*c/l,p=yn(a,s),d=bn(a,f),g=bn(s,h);wn(d,g);var v=p,m=mn(d,v),y=mn(v,v),w=m*m-y*(mn(d,d)-1);if(!(0>w)){var b=Math.sqrt(w),x=bn(v,(-m-b)/y);if(wn(x,d),x=En(x),!n)return x;var E,_=t[0],T=e[0],C=t[1],S=e[1];_>T&&(E=_,_=T,T=E);var A=T-_,k=ps(A-Ns)<Rs,M=k||Rs>A;if(!k&&C>S&&(E=C,C=S,S=E),M?k?C+S>0^x[1]<(ps(x[0]-_)<Rs?C:S):C<=x[1]&&x[1]<=S:A>Ns^(_<=x[0]&&x[0]<=T)){var N=bn(v,(-m+b)/y);return wn(N,d),[x,En(N)]}}}function i(e,n){var r=a?t:Ns-t,i=0;return-r>e?i|=1:e>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var o=Math.cos(t),a=o>0,s=ps(o)>Rs,u=gr(t,6*Ps);return Rn(e,n,u,a?[0,-t]:[-Ns,t-Ns])}function Hn(t,e,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,c=a.y,l=s.x,f=s.y,h=0,p=1,d=l-u,g=f-c;if(o=t-u,d||!(o>0)){if(o/=d,0>d){if(h>o)return;p>o&&(p=o)}else if(d>0){if(o>p)return;o>h&&(h=o)}if(o=n-u,d||!(0>o)){if(o/=d,0>d){if(o>p)return;o>h&&(h=o)}else if(d>0){if(h>o)return;p>o&&(p=o)}if(o=e-c,g||!(o>0)){if(o/=g,0>g){if(h>o)return;p>o&&(p=o)}else if(g>0){if(o>p)return;o>h&&(h=o)}if(o=r-c,g||!(0>o)){if(o/=g,0>g){if(o>p)return;o>h&&(h=o)}else if(g>0){if(h>o)return;p>o&&(p=o)}return h>0&&(i.a={x:u+h*d,y:c+h*g}),1>p&&(i.b={x:u+p*d,y:c+p*g}),i}}}}}}function Wn(t,e,n,r){function i(r,i){return ps(r[0]-t)<Rs?i>0?0:3:ps(r[0]-n)<Rs?i>0?2:1:ps(r[1]-e)<Rs?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=v.length,r=t[1],i=0;n>i;++i)for(var o,a=1,s=v[i],u=s.length,c=s[0];u>a;++a)o=s[a],c[1]<=r?o[1]>r&&Z(c,o,t)>0&&++e:o[1]<=r&&Z(c,o,t)<0&&--e,c=o;return 0!==e}function c(o,s,u,c){var l=0,f=0;if(null==o||(l=i(o,u))!==(f=i(s,u))||a(o,s)<0^u>0){do c.point(0===l||3===l?t:n,l>1?r:e);while((l=(l+u+4)%4)!==f)}else c.point(s[0],s[1])}function l(i,o){return i>=t&&n>=i&&o>=e&&r>=o}function f(t,e){l(t,e)&&s.point(t,e)}function h(){M.point=d,v&&v.push(m=[]),T=!0,_=!1,x=E=0/0}function p(){g&&(d(y,w),b&&_&&A.rejoin(),g.push(A.buffer())),M.point=f,_&&s.lineEnd()}function d(t,e){t=Math.max(-Ru,Math.min(Ru,t)),e=Math.max(-Ru,Math.min(Ru,e));var n=l(t,e);if(v&&m.push([t,e]),T)y=t,w=e,b=n,T=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&_)s.point(t,e);else{var r={a:{x:x,y:E},b:{x:t,y:e}};k(r)?(_||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),C=!1):n&&(s.lineStart(),s.point(t,e),C=!1)}x=t,E=e,_=n}var g,v,m,y,w,b,x,E,_,T,C,S=s,A=Pn(),k=Hn(t,e,n,r),M={point:f,lineStart:h,lineEnd:p,polygonStart:function(){s=A,g=[],v=[],C=!0},polygonEnd:function(){s=S,g=Ka.merge(g);var e=u([t,r]),n=C&&e,i=g.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),c(null,null,1,s),s.lineEnd()),i&&Nn(g,o,e,c,s),s.polygonEnd()),g=v=m=null}};return M}}function zn(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function Un(t){var e=0,n=Ns/3,r=sr(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Ns/180,n=t[1]*Ns/180):[e/Ns*180,n/Ns*180]},i}function Bn(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,Q((o-(t*t+n*n)*i*i)/(2*i))]},n}function Xn(){function t(t,e){Pu+=i*t-r*e,r=t,i=e}var e,n,r,i;$u.point=function(o,a){$u.point=t,e=r=o,n=i=a},$u.lineEnd=function(){t(e,n)}}function Yn(t,e){Du>t&&(Du=t),t>Fu&&(Fu=t),ju>e&&(ju=e),e>qu&&(qu=e)}function Gn(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=Zn(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=Zn(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Zn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Jn(t,e){Eu+=t,_u+=e,++Tu}function Qn(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);Cu+=a*(e+t)/2,Su+=a*(n+r)/2,Au+=a,Jn(e=t,n=r)}var e,n;Hu.point=function(r,i){Hu.point=t,Jn(e=r,n=i)}}function Kn(){Hu.point=Jn}function tr(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);Cu+=a*(r+t)/2,Su+=a*(i+e)/2,Au+=a,a=i*t-r*e,ku+=a*(r+t),Mu+=a*(i+e),Nu+=3*a,Jn(r=t,i=e)}var e,n,r,i;Hu.point=function(o,a){Hu.point=t,Jn(e=r=o,n=i=a)},Hu.lineEnd=function(){t(e,n)}}function er(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,a,0,Is)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return a=t,s},result:v};return s}function nr(t){function e(t){return(s?r:n)(t)}function n(e){return or(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){w=0/0,T.point=o,e.lineStart()}function o(n,r){var o=vn([n,r]),a=t(n,r);i(w,b,y,x,E,_,w=a[0],b=a[1],y=n,x=o[0],E=o[1],_=o[2],s,e),e.point(w,b)}function a(){T.point=n,e.lineEnd()}function u(){r(),T.point=c,T.lineEnd=l}function c(t,e){o(f=t,h=e),p=w,d=b,g=x,v=E,m=_,T.point=o}function l(){i(w,b,y,x,E,_,p,d,f,g,v,m,s,e),T.lineEnd=a,a()}var f,h,p,d,g,v,m,y,w,b,x,E,_,T={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),T.lineStart=u},polygonEnd:function(){e.polygonEnd(),T.lineStart=r}};return T}function i(e,n,r,s,u,c,l,f,h,p,d,g,v,m){var y=l-e,w=f-n,b=y*y+w*w;if(b>4*o&&v--){var x=s+p,E=u+d,_=c+g,T=Math.sqrt(x*x+E*E+_*_),C=Math.asin(_/=T),S=ps(ps(_)-1)<Rs||ps(r-h)<Rs?(r+h)/2:Math.atan2(E,x),A=t(S,C),k=A[0],M=A[1],N=k-e,I=M-n,O=w*N-y*I;(O*O/b>o||ps((y*N+w*I)/b-.5)>.3||a>s*p+u*d+c*g)&&(i(e,n,r,s,u,c,k,M,S,x/=T,E/=T,_,v,m),m.point(k,M),i(k,M,S,x,E,_,l,f,h,p,d,g,v,m))}}var o=.5,a=Math.cos(30*Ps),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function rr(t){var e=nr(function(e,n){return t([e*Ds,n*Ds])});return function(t){return ur(e(t))}}function ir(t){this.stream=t}function or(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function ar(t){return sr(function(){return t})()}function sr(t){function e(t){return t=s(t[0]*Ps,t[1]*Ps),[t[0]*h+u,c-t[1]*h]}function n(t){return t=s.invert((t[0]-u)/h,(c-t[1])/h),t&&[t[0]*Ds,t[1]*Ds]}function r(){s=zn(a=fr(m,y,w),o);var t=o(g,v);return u=p-t[0]*h,c=d+t[1]*h,i()}function i(){return l&&(l.valid=!1,l=null),e}var o,a,s,u,c,l,f=nr(function(t,e){return t=o(t,e),[t[0]*h+u,c-t[1]*h]}),h=150,p=480,d=250,g=0,v=0,m=0,y=0,w=0,b=Ou,x=ke,E=null,_=null;return e.stream=function(t){return l&&(l.valid=!1),l=ur(b(a,f(x(t)))),l.valid=!0,l},e.clipAngle=function(t){return arguments.length?(b=null==t?(E=t,Ou):Vn((E=+t)*Ps),i()):E},e.clipExtent=function(t){return arguments.length?(_=t,x=t?Wn(t[0][0],t[0][1],t[1][0],t[1][1]):ke,i()):_},e.scale=function(t){return arguments.length?(h=+t,r()):h},e.translate=function(t){return arguments.length?(p=+t[0],d=+t[1],r()):[p,d]},e.center=function(t){return arguments.length?(g=t[0]%360*Ps,v=t[1]%360*Ps,r()):[g*Ds,v*Ds]},e.rotate=function(t){return arguments.length?(m=t[0]%360*Ps,y=t[1]%360*Ps,w=t.length>2?t[2]%360*Ps:0,r()):[m*Ds,y*Ds,w*Ds]},Ka.rebind(e,f,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function ur(t){return or(t,function(e,n){t.point(e*Ps,n*Ps)})}function cr(t,e){return[t,e]}function lr(t,e){return[t>Ns?t-Is:-Ns>t?t+Is:t,e]}function fr(t,e,n){return t?e||n?zn(pr(t),dr(e,n)):pr(t):e||n?dr(e,n):lr}function hr(t){return function(e,n){return e+=t,[e>Ns?e-Is:-Ns>e?e+Is:e,n]}}function pr(t){var e=hr(t);return e.invert=hr(-t),e}function dr(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,c=Math.sin(e),l=c*r+s*i;return[Math.atan2(u*o-l*a,s*r-c*i),Q(l*o+u*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,c=Math.sin(e),l=c*o-u*a;return[Math.atan2(u*o+c*a,s*r+l*i),Q(l*r-s*i)]},n}function gr(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var u=a*e;null!=i?(i=vr(n,i),o=vr(n,o),(a>0?o>i:i>o)&&(i+=a*Is)):(i=t+a*Is,o=t-.5*u);for(var c,l=i;a>0?l>o:o>l;l-=u)s.point((c=En([n,-r*Math.cos(l),-r*Math.sin(l)]))[0],c[1])}}function vr(t,e){var n=vn(e);n[0]-=t,xn(n);var r=J(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Rs)%(2*Math.PI)}function mr(t,e,n){var r=Ka.range(t,e-Rs,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function yr(t,e,n){var r=Ka.range(t,e-Rs,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function wr(t){return t.source}function br(t){return t.target}function xr(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),c=i*Math.sin(t),l=a*Math.cos(n),f=a*Math.sin(n),h=2*Math.asin(Math.sqrt(ne(r-e)+i*a*ne(n-t))),p=1/Math.sin(h),d=h?function(t){var e=Math.sin(t*=h)*p,n=Math.sin(h-t)*p,r=n*u+e*l,i=n*c+e*f,a=n*o+e*s;return[Math.atan2(i,r)*Ds,Math.atan2(a,Math.sqrt(r*r+i*i))*Ds]}:function(){return[t*Ds,e*Ds]};return d.distance=h,d}function Er(){function t(t,i){var o=Math.sin(i*=Ps),a=Math.cos(i),s=ps((t*=Ps)-e),u=Math.cos(s);Wu+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u),e=t,n=o,r=a}var e,n,r;zu.point=function(i,o){e=i*Ps,n=Math.sin(o*=Ps),r=Math.cos(o),zu.point=t},zu.lineEnd=function(){zu.point=zu.lineEnd=v}}function _r(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}function Tr(t,e){function n(t,e){a>0?-Os+Rs>e&&(e=-Os+Rs):e>Os-Rs&&(e=Os-Rs);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Ns/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=G(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Os]},n):Sr}function Cr(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return ps(i)<Rs?cr:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-G(i)*Math.sqrt(t*t+n*n)]},n)}function Sr(t,e){return[t,Math.log(Math.tan(Ns/4+e/2))]}function Ar(t){var e,n=ar(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Ns*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function kr(t,e){return[Math.log(Math.tan(Ns/4+e/2)),-t]}function Mr(t){return t[0]}function Nr(t){return t[1]}function Ir(t){for(var e=t.length,n=[0,1],r=2,i=2;e>i;i++){for(;r>1&&Z(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Or(t,e){return t[0]-e[0]||t[1]-e[1]}function Rr(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Lr(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],c=n[1],l=e[1]-u,f=r[1]-c,h=(s*(u-c)-f*(i-o))/(f*a-s*l);return[i+h*a,u+h*l]}function Pr(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Dr(){ri(this),this.edge=this.site=this.circle=null}function jr(t){var e=nc.pop()||new Dr;return e.site=t,e}function Fr(t){Yr(t),Ku.remove(t),nc.push(t),ri(t)}function qr(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];Fr(t);for(var u=o;u.circle&&ps(n-u.circle.x)<Rs&&ps(r-u.circle.cy)<Rs;)o=u.P,s.unshift(u),Fr(u),u=o;s.unshift(u),Yr(u);for(var c=a;c.circle&&ps(n-c.circle.x)<Rs&&ps(r-c.circle.cy)<Rs;)a=c.N,s.push(c),Fr(c),c=a;s.push(c),Yr(c);var l,f=s.length;for(l=1;f>l;++l)c=s[l],u=s[l-1],ti(c.edge,u.site,c.site,i);u=s[0],c=s[f-1],c.edge=Qr(u.site,c.site,null,i),Xr(u),Xr(c)}function $r(t){for(var e,n,r,i,o=t.x,a=t.y,s=Ku._;s;)if(r=Vr(s,a)-o,r>Rs)s=s.L;else{if(i=o-Hr(s,a),!(i>Rs)){r>-Rs?(e=s.P,n=s):i>-Rs?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=jr(t);if(Ku.insert(e,u),e||n){if(e===n)return Yr(e),n=jr(e.site),Ku.insert(u,n),u.edge=n.edge=Qr(e.site,u.site),Xr(e),void Xr(n);if(!n)return void(u.edge=Qr(e.site,u.site));Yr(e),Yr(n);var c=e.site,l=c.x,f=c.y,h=t.x-l,p=t.y-f,d=n.site,g=d.x-l,v=d.y-f,m=2*(h*v-p*g),y=h*h+p*p,w=g*g+v*v,b={x:(v*y-p*w)/m+l,y:(h*w-g*y)/m+f};ti(n.edge,c,d,b),u.edge=Qr(c,t,null,b),n.edge=Qr(t,d,null,b),Xr(e),Xr(n)}}function Vr(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;n=a.site;var s=n.x,u=n.y,c=u-e;if(!c)return s;var l=s-r,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-u+c/2+i-o/2)))/f+r:(r+s)/2}function Hr(t,e){var n=t.N;if(n)return Vr(n,e);var r=t.site;return r.y===e?r.x:1/0}function Wr(t){this.site=t,this.edges=[]}function zr(t){for(var e,n,r,i,o,a,s,u,c,l,f=t[0][0],h=t[1][0],p=t[0][1],d=t[1][1],g=Qu,v=g.length;v--;)if(o=g[v],o&&o.prepare())for(s=o.edges,u=s.length,a=0;u>a;)l=s[a].end(),r=l.x,i=l.y,c=s[++a%u].start(),e=c.x,n=c.y,(ps(r-e)>Rs||ps(i-n)>Rs)&&(s.splice(a,0,new ei(Kr(o.site,l,ps(r-f)<Rs&&d-i>Rs?{x:f,y:ps(e-f)<Rs?n:d}:ps(i-d)<Rs&&h-r>Rs?{x:ps(n-d)<Rs?e:h,y:d}:ps(r-h)<Rs&&i-p>Rs?{x:h,y:ps(e-h)<Rs?n:p}:ps(i-p)<Rs&&r-f>Rs?{x:ps(n-p)<Rs?e:f,y:p}:null),o.site,null)),++u)}function Ur(t,e){return e.angle-t.angle}function Br(){ri(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xr(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,c=r.y-s,l=o.x-a,f=o.y-s,h=2*(u*f-c*l);if(!(h>=-Ls)){var p=u*u+c*c,d=l*l+f*f,g=(f*p-c*d)/h,v=(u*d-l*p)/h,f=v+s,m=rc.pop()||new Br;m.arc=t,m.site=i,m.x=g+a,m.y=f+Math.sqrt(g*g+v*v),m.cy=f,t.circle=m;for(var y=null,w=ec._;w;)if(m.y<w.y||m.y===w.y&&m.x<=w.x){if(!w.L){y=w.P;break}w=w.L}else{if(!w.R){y=w;break}w=w.R}ec.insert(y,m),y||(tc=m)}}}}function Yr(t){var e=t.circle;e&&(e.P||(tc=e.N),ec.remove(e),rc.push(e),ri(e),t.circle=null)}function Gr(t){for(var e,n=Ju,r=Hn(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!Zr(e,t)||!r(e)||ps(e.a.x-e.b.x)<Rs&&ps(e.a.y-e.b.y)<Rs)&&(e.a=e.b=null,n.splice(i,1))}function Zr(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],c=e[1][1],l=t.l,f=t.r,h=l.x,p=l.y,d=f.x,g=f.y,v=(h+d)/2,m=(p+g)/2;if(g===p){if(a>v||v>=s)return;if(h>d){if(o){if(o.y>=c)return}else o={x:v,y:u};n={x:v,y:c}}else{if(o){if(o.y<u)return}else o={x:v,y:c};n={x:v,y:u}}}else if(r=(h-d)/(g-p),i=m-r*v,-1>r||r>1)if(h>d){if(o){if(o.y>=c)return}else o={x:(u-i)/r,y:u};n={x:(c-i)/r,y:c}}else{if(o){if(o.y<u)return}else o={x:(c-i)/r,y:c};n={x:(u-i)/r,y:u}}else if(g>p){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Jr(t,e){this.l=t,this.r=e,this.a=this.b=null}function Qr(t,e,n,r){var i=new Jr(t,e);return Ju.push(i),n&&ti(i,t,e,n),r&&ti(i,e,t,r),Qu[t.i].edges.push(new ei(i,t,e)),Qu[e.i].edges.push(new ei(i,e,t)),i}function Kr(t,e,n){var r=new Jr(t,null);return r.a=e,r.b=n,Ju.push(r),r}function ti(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function ei(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function ni(){this._=null}function ri(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ii(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function oi(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ai(t){for(;t.L;)t=t.L;return t}function si(t,e){var n,r,i,o=t.sort(ui).pop();for(Ju=[],Qu=new Array(t.length),Ku=new ni,ec=new ni;;)if(i=tc,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))(o.x!==n||o.y!==r)&&(Qu[o.i]=new Wr(o),$r(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;qr(i.arc)}e&&(Gr(e),zr(e));var a={cells:Qu,edges:Ju};return Ku=ec=Ju=Qu=null,a}function ui(t,e){return e.y-t.y||e.x-t.x}function ci(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function li(t){return t.x}function fi(t){return t.y}function hi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function pi(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=e.nodes;u[0]&&pi(t,u[0],n,r,a,s),u[1]&&pi(t,u[1],a,r,i,s),u[2]&&pi(t,u[2],n,s,a,o),u[3]&&pi(t,u[3],a,s,i,o)}}function di(t,e){t=Ka.rgb(t),e=Ka.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+xe(Math.round(n+o*t))+xe(Math.round(r+a*t))+xe(Math.round(i+s*t))}}function gi(t,e){var n,r={},i={};for(n in t)n in e?r[n]=yi(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function vi(t,e){return e-=t=+t,function(n){return t+e*n}}function mi(t,e){var n,r,i,o,a,s=0,u=0,c=[],l=[];for(t+="",e+="",oc.lastIndex=0,r=0;n=oc.exec(e);++r)n.index&&c.push(e.substring(s,u=n.index)),l.push({i:c.length,x:n[0]}),c.push(null),s=oc.lastIndex;for(s<e.length&&c.push(e.substring(s)),r=0,o=l.length;(n=oc.exec(t))&&o>r;++r)if(a=l[r],a.x==n[0]){if(a.i)if(null==c[a.i+1])for(c[a.i-1]+=a.x,c.splice(a.i,1),i=r+1;o>i;++i)l[i].i--;else for(c[a.i-1]+=a.x+c[a.i+1],c.splice(a.i,2),i=r+1;o>i;++i)l[i].i-=2;else if(null==c[a.i+1])c[a.i]=a.x;else for(c[a.i]=a.x+c[a.i+1],c.splice(a.i+1,1),i=r+1;o>i;++i)l[i].i--;l.splice(r,1),o--,r--}else a.x=vi(parseFloat(n[0]),parseFloat(a.x));for(;o>r;)a=l.pop(),null==c[a.i+1]?c[a.i]=a.x:(c[a.i]=a.x+c[a.i+1],c.splice(a.i+1,1)),o--;return 1===c.length?null==c[0]?(a=l[0].x,function(t){return a(t)+""}):function(){return e}:function(t){for(r=0;o>r;++r)c[(a=l[r]).i]=a.x(t);return c.join("")}}function yi(t,e){for(var n,r=Ka.interpolators.length;--r>=0&&!(n=Ka.interpolators[r](t,e)););return n}function wi(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)r.push(yi(t[n],e[n]));for(;o>n;++n)i[n]=t[n];for(;a>n;++n)i[n]=e[n];return function(t){for(n=0;s>n;++n)i[n]=r[n](t);return i}}function bi(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function xi(t){return function(e){return 1-t(1-e)}}function Ei(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function _i(t){return t*t}function Ti(t){return t*t*t}function Ci(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Si(t){return function(e){return Math.pow(e,t)}}function Ai(t){return 1-Math.cos(t*Os)}function ki(t){return Math.pow(2,10*(t-1))}function Mi(t){return 1-Math.sqrt(1-t*t)}function Ni(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Is*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Is/e)}}function Ii(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Oi(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ri(t,e){t=Ka.hcl(t),e=Ka.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ce(n+o*t,r+a*t,i+s*t)+""}}function Li(t,e){t=Ka.hsl(t),e=Ka.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ae(n+o*t,r+a*t,i+s*t)+""}}function Pi(t,e){t=Ka.lab(t),e=Ka.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return he(n+o*t,r+a*t,i+s*t)+""}}function Di(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function ji(t){var e=[t.a,t.b],n=[t.c,t.d],r=qi(e),i=Fi(e,n),o=qi($i(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ds,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ds:0}function Fi(t,e){return t[0]*e[0]+t[1]*e[1]}function qi(t){var e=Math.sqrt(Fi(t,t));return e&&(t[0]/=e,t[1]/=e),e}function $i(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Vi(t,e){var n,r=[],i=[],o=Ka.transform(t),a=Ka.transform(e),s=o.translate,u=a.translate,c=o.rotate,l=a.rotate,f=o.skew,h=a.skew,p=o.scale,d=a.scale;return s[0]!=u[0]||s[1]!=u[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:vi(s[0],u[0])},{i:3,x:vi(s[1],u[1])})):r.push(u[0]||u[1]?"translate("+u+")":""),c!=l?(c-l>180?l+=360:l-c>180&&(c+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:vi(c,l)})):l&&r.push(r.pop()+"rotate("+l+")"),f!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:vi(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),p[0]!=d[0]||p[1]!=d[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:vi(p[0],d[0])},{i:n-2,x:vi(p[1],d[1])})):(1!=d[0]||1!=d[1])&&r.push(r.pop()+"scale("+d+")"),n=i.length,function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}}function Hi(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return(n-t)*e}}function Wi(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return Math.max(0,Math.min(1,(n-t)*e))}}function zi(t){for(var e=t.source,n=t.target,r=Bi(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Ui(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Bi(t,e){if(t===e)return t;for(var n=Ui(t),r=Ui(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Xi(t){t.fixed|=2}function Yi(t){t.fixed&=-7}function Gi(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Zi(t){t.fixed&=-5}function Ji(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)o=a[u],null!=o&&(Ji(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function Qi(t,e){return Ka.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=no,t}function Ki(t){return t.children}function to(t){return t.value}function eo(t,e){return e.value-t.value}function no(t){return Ka.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ro(t){return t.x}function io(t){return t.y}function oo(t,e,n){t.y0=e,t.y=n}function ao(t){return Ka.range(t.length)}function so(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function uo(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function co(t){return t.reduce(lo,0)}function lo(t,e){return t+e[1]}function fo(t,e){return ho(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function ho(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function po(t){return[Ka.min(t),Ka.max(t)]}function go(t,e){return t.parent==e.parent?1:2}function vo(t){var e=t.children;return e&&e.length?e[0]:t._tree.thread}function mo(t){var e,n=t.children;return n&&(e=n.length)?n[e-1]:t._tree.thread}function yo(t,e){var n=t.children;if(n&&(i=n.length))for(var r,i,o=-1;++o<i;)e(r=yo(n[o],e),t)>0&&(t=r);return t}function wo(t,e){return t.x-e.x}function bo(t,e){return e.x-t.x}function xo(t,e){return t.depth-e.depth}function Eo(t,e){function n(t,r){var i=t.children;if(i&&(a=i.length))for(var o,a,s=null,u=-1;++u<a;)o=i[u],n(o,s),s=o;e(t,r)}n(t,null)}function _o(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o]._tree,e.prelim+=n,e.mod+=n,n+=e.shift+(r+=e.change)}function To(t,e,n){t=t._tree,e=e._tree;var r=n/(e.number-t.number);t.change+=r,e.change-=r,e.shift+=n,e.prelim+=n,e.mod+=n}function Co(t,e,n){return t._tree.ancestor.parent==e.parent?t._tree.ancestor:n}function So(t,e){return t.value-e.value}function Ao(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function ko(t,e){t._pack_next=e,e._pack_prev=t}function Mo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function No(t){function e(t){l=Math.min(t.x-t.r,l),f=Math.max(t.x+t.r,f),h=Math.min(t.y-t.r,h),p=Math.max(t.y+t.r,p)}if((n=t.children)&&(c=n.length)){var n,r,i,o,a,s,u,c,l=1/0,f=-1/0,h=1/0,p=-1/0;if(n.forEach(Io),r=n[0],r.x=-r.r,r.y=0,e(r),c>1&&(i=n[1],i.x=i.r,i.y=0,e(i),c>2))for(o=n[2],Lo(r,i,o),e(o),Ao(r,o),r._pack_prev=o,Ao(o,i),i=r._pack_next,a=3;c>a;a++){Lo(r,i,o=n[a]);var d=0,g=1,v=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(Mo(s,o)){d=1;break}if(1==d)for(u=r._pack_prev;u!==s._pack_prev&&!Mo(u,o);u=u._pack_prev,v++);d?(v>g||g==v&&i.r<r.r?ko(r,i=s):ko(r=u,i),a--):(Ao(r,o),i=o,e(o))}var m=(l+f)/2,y=(h+p)/2,w=0;for(a=0;c>a;a++)o=n[a],o.x-=m,o.y-=y,w=Math.max(w,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=w,n.forEach(Oo)}}function Io(t){t._pack_next=t._pack_prev=t}function Oo(t){delete t._pack_next,delete t._pack_prev}function Ro(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Ro(i[o],e,n,r)}function Lo(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o;a*=a,r*=r;var u=.5+(r-a)/(2*s),c=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+c*o,n.y=t.y+u*o-c*i}else n.x=t.x+r,n.y=t.y}function Po(t){return 1+Ka.max(t,function(t){return t.y})}function Do(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function jo(t){var e=t.children;return e&&e.length?jo(e[0]):t}function Fo(t){var e,n=t.children;return n&&(e=n.length)?Fo(n[e-1]):t}function qo(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function $o(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Vo(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Ho(t){return t.rangeExtent?t.rangeExtent():Vo(t.range())}function Wo(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function zo(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Uo(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:vc}function Bo(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=Ka.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function Xo(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?Bo:Wo,u=r?Wi:Hi;return a=i(t,e,u,n),s=i(e,t,u,yi),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(Di)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return Jo(t,e)},o.tickFormat=function(e,n){return Qo(t,e,n)},o.nice=function(e){return Go(t,e),i()
},o.copy=function(){return Xo(t,e,n,r)},i()}function Yo(t,e){return Ka.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Go(t,e){return zo(t,Uo(Zo(t,e)[2]))}function Zo(t,e){null==e&&(e=10);var n=Vo(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Jo(t,e){return Ka.range.apply(Ka,Zo(t,e))}function Qo(t,e,n){var r=Zo(t,e);if(n){var i=ou.exec(n);if(i.shift(),"s"===i[8]){var o=Ka.formatPrefix(Math.max(ps(r[0]),ps(r[1])));return i[7]||(i[7]="."+Ko(o.scale(r[2]))),i[8]="f",n=Ka.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+ta(i[8],r)),n=i.join("")}else n=",."+Ko(r[2])+"f";return Ka.format(n)}function Ko(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function ta(t,e){var n=Ko(e[2]);return t in mc?Math.abs(n-Ko(Math.max(ps(e[0]),ps(e[1]))))+ +("e"!==t):n-2*("%"===t)}function ea(t,e,n,r){function i(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),a):e},a.nice=function(){var e=zo(r.map(i),n?Math:wc);return t.domain(e),r=e.map(o),a},a.ticks=function(){var t=Vo(r),a=[],s=t[0],u=t[1],c=Math.floor(i(s)),l=Math.ceil(i(u)),f=e%1?2:e;if(isFinite(l-c)){if(n){for(;l>c;c++)for(var h=1;f>h;h++)a.push(o(c)*h);a.push(o(c))}else for(a.push(o(c));c++<l;)for(var h=f-1;h>0;h--)a.push(o(c)*h);for(c=0;a[c]<s;c++);for(l=a.length;a[l-1]>u;l--);a=a.slice(c,l)}return a},a.tickFormat=function(t,e){if(!arguments.length)return yc;arguments.length<2?e=yc:"function"!=typeof e&&(e=Ka.format(e));var r,s=Math.max(.1,t/a.ticks().length),u=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/o(u(i(t)+r))<=s?e(t):""}},a.copy=function(){return ea(t.copy(),e,n,r)},Yo(a,t)}function na(t,e,n){function r(e){return t(i(e))}var i=ra(e),o=ra(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return Jo(n,t)},r.tickFormat=function(t,e){return Qo(n,t,e)},r.nice=function(t){return r.domain(Go(n,t))},r.exponent=function(a){return arguments.length?(i=ra(e=a),o=ra(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return na(t.copy(),e,n)},Yo(r,t)}function ra(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function ia(t,e){function n(n){return o[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):0/0))-1)%o.length]}function r(e,n){return Ka.range(t.length).map(function(t){return e+n*t})}var i,o,a;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new s;for(var o,a=-1,u=r.length;++a<u;)i.has(o=r[a])||i.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],c=i[1],l=(c-u)/(Math.max(1,t.length-1)+s);return o=r(t.length<2?(u+c)/2:u+l*s/2,l),a=0,e={t:"rangePoints",a:arguments},n},n.rangeBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var c=i[1]<i[0],l=i[c-0],f=i[1-c],h=(f-l)/(t.length-s+2*u);return o=r(l+h*u,h),c&&o.reverse(),a=h*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var c=i[1]<i[0],l=i[c-0],f=i[1-c],h=Math.floor((f-l)/(t.length-s+2*u)),p=f-l-(t.length-s)*h;return o=r(l+Math.round(p/2),h),c&&o.reverse(),a=Math.round(h*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Vo(e.a[0])},n.copy=function(){return ia(t,e)},n.domain(t)}function oa(e,n){function r(){var t=0,r=n.length;for(o=[];++t<r;)o[t-1]=Ka.quantile(e,t/r);return i}function i(t){return isNaN(t=+t)?void 0:n[Ka.bisect(o,t)]}var o;return i.domain=function(n){return arguments.length?(e=n.filter(function(t){return!isNaN(t)}).sort(t),r()):e},i.range=function(t){return arguments.length?(n=t,r()):n},i.quantiles=function(){return o},i.invertExtent=function(t){return t=n.indexOf(t),0>t?[0/0,0/0]:[t>0?o[t-1]:e[0],t<o.length?o[t]:e[e.length-1]]},i.copy=function(){return oa(e,n)},r()}function aa(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=0>e?0/0:e/o+t,[e,e+1/o]},r.copy=function(){return aa(t,e,n)},i()}function sa(t,e){function n(n){return n>=n?e[Ka.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return sa(t,e)},n}function ua(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Jo(t,e)},e.tickFormat=function(e,n){return Qo(t,e,n)},e.copy=function(){return ua(t)},e}function ca(t){return t.innerRadius}function la(t){return t.outerRadius}function fa(t){return t.startAngle}function ha(t){return t.endAngle}function pa(t){function e(e){function a(){c.push("M",o(t(l),s))}for(var u,c=[],l=[],f=-1,h=e.length,p=Ae(n),d=Ae(r);++f<h;)i.call(this,u=e[f],f)?l.push([+p.call(this,u,f),+d.call(this,u,f)]):l.length&&(a(),l=[]);return l.length&&a(),c.length?c.join(""):null}var n=Mr,r=Nr,i=Mn,o=da,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Sc.get(t)||da).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function da(t){return t.join("L")}function ga(t){return da(t)+"Z"}function va(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function ma(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function ya(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function wa(t,e){return t.length<4?da(t):t[1]+Ea(t.slice(1,t.length-1),_a(t,e))}function ba(t,e){return t.length<3?da(t):t[0]+Ea((t.push(t[0]),t),_a([t[t.length-2]].concat(t,[t[1]]),e))}function xa(t,e){return t.length<3?da(t):t[0]+Ea(t,_a(t,e))}function Ea(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return da(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<e.length;c++,u++)o=t[u],s=e[c],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var l=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+l[0]+","+l[1]}return r}function _a(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Ta(t){if(t.length<3)return da(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",ka(Mc,a),",",ka(Mc,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Ma(u,a,s);return t.pop(),u.push("L",r),u.join("")}function Ca(t){if(t.length<4)return da(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(ka(Mc,o)+","+ka(Mc,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Ma(n,o,a);return n.join("")}function Sa(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[ka(Mc,a),",",ka(Mc,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ma(e,a,s);return e.join("")}function Aa(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,c=-1;++c<=n;)r=t[c],i=c/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return Ta(t)}function ka(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ma(t,e,n){t.push("C",ka(Ac,e),",",ka(Ac,n),",",ka(kc,e),",",ka(kc,n),",",ka(Mc,e),",",ka(Mc,n))}function Na(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ia(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Na(i,o);++e<n;)r[e]=(a+(a=Na(i=o,o=t[e+1])))/2;return r[e]=a,r}function Oa(t){for(var e,n,r,i,o=[],a=Ia(t),s=-1,u=t.length-1;++s<u;)e=Na(t[s],t[s+1]),ps(e)<Rs?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Ra(t){return t.length<3?da(t):t[0]+Ea(t,Oa(t))}function La(t){for(var e,n,r,i=-1,o=t.length;++i<o;)e=t[i],n=e[0],r=e[1]+Tc,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Pa(t){function e(e){function u(){g.push("M",s(t(m),f),l,c(t(v.reverse()),f),"Z")}for(var h,p,d,g=[],v=[],m=[],y=-1,w=e.length,b=Ae(n),x=Ae(i),E=n===r?function(){return p}:Ae(r),_=i===o?function(){return d}:Ae(o);++y<w;)a.call(this,h=e[y],y)?(v.push([p=+b.call(this,h,y),d=+x.call(this,h,y)]),m.push([+E.call(this,h,y),+_.call(this,h,y)])):v.length&&(u(),v=[],m=[]);return v.length&&u(),g.length?g.join(""):null}var n=Mr,r=Mr,i=0,o=Nr,a=Mn,s=da,u=s.key,c=s,l="L",f=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=Sc.get(t)||da).key,c=s.reverse||s,l=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(f=t,e):f},e}function Da(t){return t.radius}function ja(t){return[t.x,t.y]}function Fa(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]+Tc;return[n*Math.cos(r),n*Math.sin(r)]}}function qa(){return 64}function $a(){return"circle"}function Va(t){var e=Math.sqrt(t/Ns);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Ha(t,e){return ys(t,Pc),t.id=e,t}function Wa(t,e,n,r){var i=t.id;return j(t,"function"==typeof n?function(t,o,a){t.__transition__[i].tween.set(e,r(n.call(t,t.__data__,o,a)))}:(n=r(n),function(t){t.__transition__[i].tween.set(e,n)}))}function za(t){return null==t&&(t=""),function(){this.textContent=t}}function Ua(t,e,n,r){var i=t.__transition__||(t.__transition__={active:0,count:0}),o=i[n];if(!o){var a=r.time;o=i[n]={tween:new s,time:a,ease:r.ease,delay:r.delay,duration:r.duration},++i.count,Ka.timer(function(r){function s(r){return i.active>n?c():(i.active=n,o.event&&o.event.start.call(t,l,e),o.tween.forEach(function(n,r){(r=r.call(t,l,e))&&g.push(r)}),void Ka.timer(function(){return d.c=u(r||1)?Mn:u,1},0,a))}function u(r){if(i.active!==n)return c();for(var a=r/p,s=f(a),u=g.length;u>0;)g[--u].call(t,s);return a>=1?(o.event&&o.event.end.call(t,l,e),c()):void 0}function c(){return--i.count?delete i[n]:delete t.__transition__,1}var l=t.__data__,f=o.ease,h=o.delay,p=o.duration,d=nu,g=[];return d.t=h+a,r>=h?s(r-h):void(d.c=s)},0,a)}}function Ba(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function Xa(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function Ya(t){return t.toISOString()}function Ga(t,e,n){function r(e){return t(e)}function i(t,n){var r=t[1]-t[0],i=r/n,o=Ka.bisect(zc,i);return o==zc.length?[e.year,Zo(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/zc[o-1]<zc[o]/i?o-1:o]:[Xc,Zo(t,n)[2]]}return r.invert=function(e){return Za(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Za)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Za(+n+1),e).length}var o=r.domain(),a=Vo(o),s=null==t?i(a,10):"number"==typeof t&&i(a,t);return s&&(t=s[0],e=s[1]),r.domain(zo(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Za(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Za(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Vo(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Za(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Ga(t.copy(),e,n)},Yo(r,t)}function Za(t){return new Date(t)}function Ja(t){return JSON.parse(t.responseText)}function Qa(t){var e=ns.createRange();return e.selectNode(ns.body),e.createContextualFragment(t.responseText)}var Ka={version:"3.4.4"};Date.now||(Date.now=function(){return+new Date});var ts=[].slice,es=function(t){return ts.call(t)},ns=document,rs=ns.documentElement,is=window;try{es(rs.childNodes)[0].nodeType}catch(os){es=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{ns.createElement("div").style.setProperty("opacity",0,"")}catch(as){var ss=is.Element.prototype,us=ss.setAttribute,cs=ss.setAttributeNS,ls=is.CSSStyleDeclaration.prototype,fs=ls.setProperty;ss.setAttribute=function(t,e){us.call(this,t,e+"")},ss.setAttributeNS=function(t,e,n){cs.call(this,t,e,n+"")},ls.setProperty=function(t,e,n){fs.call(this,t,e+"",n)}}Ka.ascending=t,Ka.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0},Ka.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=t[i])&&n>=n);)n=void 0;for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o&&!(null!=(n=e.call(t,t[i],i))&&n>=n);)n=void 0;for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},Ka.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=t[i])&&n>=n);)n=void 0;for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o&&!(null!=(n=e.call(t,t[i],i))&&n>=n);)n=void 0;for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},Ka.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a&&!(null!=(n=i=t[o])&&n>=n);)n=i=void 0;for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<a&&!(null!=(n=i=e.call(t,t[o],o))&&n>=n);)n=void 0;for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},Ka.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)isNaN(n=+t[o])||(r+=n);else for(;++o<i;)isNaN(n=+e.call(t,t[o],o))||(r+=n);return r},Ka.mean=function(t,e){var r,i=t.length,o=0,a=-1,s=0;if(1===arguments.length)for(;++a<i;)n(r=t[a])&&(o+=(r-o)/++s);else for(;++a<i;)n(r=e.call(t,t[a],a))&&(o+=(r-o)/++s);return s?o:void 0},Ka.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},Ka.median=function(e,r){return arguments.length>1&&(e=e.map(r)),e=e.filter(n),e.length?Ka.quantile(e.sort(t),.5):void 0};var hs=r(t);Ka.bisectLeft=hs.left,Ka.bisect=Ka.bisectRight=hs.right,Ka.bisector=function(e){return r(1===e.length?function(n,r){return t(e(n),r)}:e)},Ka.shuffle=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t},Ka.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},Ka.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],o=new Array(0>r?0:r);r>n;)o[n]=[e=i,i=t[++n]];return o},Ka.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=Ka.min(arguments,i),n=new Array(e);++t<e;)for(var r,o=-1,a=n[t]=new Array(r);++o<r;)a[o]=arguments[o][t];return n},Ka.transpose=function(t){return Ka.zip.apply(Ka,t)},Ka.keys=function(t){var e=[];for(var n in t)e.push(n);return e},Ka.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Ka.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Ka.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n};var ps=Math.abs;Ka.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],a=o(ps(n)),s=-1;if(t*=a,e*=a,n*=a,0>n)for(;(r=t+n*++s)>e;)i.push(r/a);else for(;(r=t+n*++s)<e;)i.push(r/a);return i},Ka.map=function(t){var e=new s;if(t instanceof s)t.forEach(function(t,n){e.set(t,n)});else for(var n in t)e.set(n,t[n]);return e},a(s,{has:u,get:function(t){return this[ds+t]},set:function(t,e){return this[ds+t]=e},remove:c,keys:l,values:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},entries:function(){var t=[];return this.forEach(function(e,n){t.push({key:e,value:n})}),t},size:f,empty:h,forEach:function(t){for(var e in this)e.charCodeAt(0)===gs&&t.call(this,e.substring(1),this[e])}});var ds="\x00",gs=ds.charCodeAt(0);Ka.nest=function(){function t(e,a,u){if(u>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var c,l,f,h,p=-1,d=a.length,g=o[u++],v=new s;++p<d;)(h=v.get(c=g(l=a[p])))?h.push(l):v.set(c,[l]);return e?(l=e(),f=function(n,r){l.set(n,t(e,r,u))}):(l={},f=function(n,r){l[n]=t(e,r,u)}),v.forEach(f),l}function e(t,n){if(n>=o.length)return t;var r=[],i=a[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,i={},o=[],a=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(Ka.map,n,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return a[o.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},Ka.set=function(t){var e=new p;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},a(p,{has:u,add:function(t){return this[ds+t]=!0,t},remove:function(t){return t=ds+t,t in this&&delete this[t]},values:l,size:f,empty:h,forEach:function(t){for(var e in this)e.charCodeAt(0)===gs&&t.call(this,e.substring(1))}}),Ka.behavior={},Ka.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=d(t,e,e[n]);return t};var vs=["webkit","ms","moz","Moz","o","O"];Ka.dispatch=function(){for(var t=new m,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=y(t);return t},m.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.substring(n+1),t=t.substring(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},Ka.event=null,Ka.requote=function(t){return t.replace(ms,"\\$&")};var ms=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ys={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},ws=function(t,e){return e.querySelector(t)},bs=function(t,e){return e.querySelectorAll(t)},xs=rs[g(rs,"matchesSelector")],Es=function(t,e){return xs.call(t,e)};"function"==typeof Sizzle&&(ws=function(t,e){return Sizzle(t,e)[0]||null},bs=Sizzle,Es=Sizzle.matchesSelector),Ka.selection=function(){return Ss};var _s=Ka.selection.prototype=[];_s.select=function(t){var e,n,r,i,o=[];t=_(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,c=r.length;++u<c;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return E(o)},_s.selectAll=function(t){var e,n,r=[];t=T(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=es(t.call(n,n.__data__,s,i))),e.parentNode=n);return E(r)};var Ts={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Ka.ns={prefix:Ts,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.substring(0,e),t=t.substring(e+1)),Ts.hasOwnProperty(n)?{space:Ts[n],local:t}:t}},_s.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=Ka.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(C(e,t[e]));return this}return this.each(C(t,e))},_s.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=k(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!A(t[i]).test(e))return!1;return!0}for(e in t)this.each(M(e,t[e]));return this}return this.each(M(t,e))},_s.style=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e="");for(n in t)this.each(I(n,t[n],e));return this}if(2>r)return is.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(I(t,e,n))},_s.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(O(e,t[e]));return this}return this.each(O(t,e))},_s.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},_s.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},_s.append=function(t){return t=R(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},_s.insert=function(t,e){return t=R(t),e=_(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},_s.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},_s.data=function(t,e){function n(t,n){var r,i,o,a=t.length,f=n.length,h=Math.min(a,f),p=new Array(f),d=new Array(f),g=new Array(a);if(e){var v,m=new s,y=new s,w=[];for(r=-1;++r<a;)v=e.call(i=t[r],i.__data__,r),m.has(v)?g[r]=i:m.set(v,i),w.push(v);for(r=-1;++r<f;)v=e.call(n,o=n[r],r),(i=m.get(v))?(p[r]=i,i.__data__=o):y.has(v)||(d[r]=L(o)),y.set(v,o),m.remove(v);for(r=-1;++r<a;)m.has(w[r])&&(g[r]=t[r])}else{for(r=-1;++r<h;)i=t[r],o=n[r],i?(i.__data__=o,p[r]=i):d[r]=L(o);for(;f>r;++r)d[r]=L(n[r]);for(;a>r;++r)g[r]=t[r]}d.update=p,d.parentNode=p.parentNode=g.parentNode=t.parentNode,u.push(d),c.push(p),l.push(g)}var r,i,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(t[o]=i.__data__);return t}var u=F([]),c=E([]),l=E([]);if("function"==typeof t)for(;++o<a;)n(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],t);return c.enter=function(){return u},c.exit=function(){return l},c},_s.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},_s.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=P(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;u>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return E(i)},_s.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},_s.sort=function(t){t=D.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},_s.each=function(t){return j(this,function(e,n,r){t.call(e,e.__data__,n,r)})},_s.call=function(t){var e=es(arguments);return t.apply(e[0]=this,e),this},_s.empty=function(){return!this.node()},_s.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},_s.size=function(){var t=0;return this.each(function(){++t}),t};var Cs=[];Ka.selection.enter=F,Ka.selection.enter.prototype=Cs,Cs.append=_s.append,Cs.empty=_s.empty,Cs.node=_s.node,Cs.call=_s.call,Cs.size=_s.size,Cs.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,l=i.length;++c<l;)(o=i[c])?(e.push(r[c]=n=t.call(i.parentNode,o.__data__,c,s)),n.__data__=o.__data__):e.push(null)}return E(a)},Cs.insert=function(t,e){return arguments.length<2&&(e=q(this)),_s.insert.call(this,t,e)},_s.transition=function(){for(var t,e,n=Ic||++Dc,r=[],i=Oc||{time:Date.now(),ease:Ci,delay:0,duration:250},o=-1,a=this.length;++o<a;){r.push(t=[]);for(var s=this[o],u=-1,c=s.length;++u<c;)(e=s[u])&&Ua(e,u,n,i),t.push(e)}return Ha(r,n)},_s.interrupt=function(){return this.each($)},Ka.select=function(t){var e=["string"==typeof t?ws(t,ns):t];return e.parentNode=rs,E([e])},Ka.selectAll=function(t){var e=es("string"==typeof t?bs(t,ns):t);return e.parentNode=rs,E([e])};var Ss=Ka.select(rs);_s.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e=!1);for(n in t)this.each(V(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(V(t,e,n))};var As=Ka.map({mouseenter:"mouseover",mouseleave:"mouseout"});As.forEach(function(t){"on"+t in ns&&As.remove(t)});var ks="onselectstart"in ns?null:g(rs.style,"userSelect"),Ms=0;Ka.mouse=function(t){return U(t,b())},Ka.touches=function(t,e){return arguments.length<2&&(e=b().touches),e?es(e).map(function(e){var n=U(t,e);return n.identifier=e.identifier,n}):[]},Ka.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function e(t,e,i,o,a){return function(){function s(){var t,n,r=e(h,g);r&&(t=r[0]-w[0],n=r[1]-w[1],d|=t|n,w=r,p({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:t,dy:n}))}function u(){e(h,g)&&(m.on(o+v,null).on(a+v,null),y(d&&Ka.event.target===f),p({type:"dragend"}))}var c,l=this,f=Ka.event.target,h=l.parentNode,p=n.of(l,arguments),d=0,g=t(),v=".drag"+(null==g?"":"-"+g),m=Ka.select(i()).on(o+v,s).on(a+v,u),y=z(),w=e(h,g);r?(c=r.apply(l,arguments),c=[c.x-w[0],c.y-w[1]]):c=[0,0],p({type:"dragstart"})}}var n=x(t,"drag","dragstart","dragend"),r=null,i=e(v,Ka.mouse,Y,"mousemove","mouseup"),o=e(B,Ka.touch,X,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},Ka.rebind(t,n,"on")};var Ns=Math.PI,Is=2*Ns,Os=Ns/2,Rs=1e-6,Ls=Rs*Rs,Ps=Ns/180,Ds=180/Ns,js=Math.SQRT2,Fs=2,qs=4;Ka.interpolateZoom=function(t,e){function n(t){var e=t*y;if(m){var n=te(g),a=o/(Fs*h)*(n*ee(js*e+g)-K(g));return[r+a*c,i+a*l,o*n/te(js*e+g)]}return[r+t*c,i+t*l,o*Math.exp(js*e)]}var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2],c=a-r,l=s-i,f=c*c+l*l,h=Math.sqrt(f),p=(u*u-o*o+qs*f)/(2*o*Fs*h),d=(u*u-o*o-qs*f)/(2*u*Fs*h),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(d*d+1)-d),m=v-g,y=(m||Math.log(u/o))/js;return n.duration=1e3*y,n},Ka.behavior.zoom=function(){function t(t){t.on(A,c).on(Hs+".zoom",f).on(k,h).on("dblclick.zoom",p).on(N,l)}function e(t){return[(t[0]-T.x)/T.k,(t[1]-T.y)/T.k]}function n(t){return[t[0]*T.k+T.x,t[1]*T.k+T.y]}function r(t){T.k=Math.max(S[0],Math.min(S[1],t))}function i(t,e){e=n(e),T.x+=t[0]-e[0],T.y+=t[1]-e[1]}function o(){b&&b.domain(y.range().map(function(t){return(t-T.x)/T.k}).map(y.invert)),_&&_.domain(E.range().map(function(t){return(t-T.y)/T.k}).map(E.invert))}function a(t){t({type:"zoomstart"})}function s(t){o(),t({type:"zoom",scale:T.k,translate:[T.x,T.y]})}function u(t){t({type:"zoomend"})}function c(){function t(){l=1,i(Ka.mouse(r),p),s(c)}function n(){f.on(k,is===r?h:null).on(M,null),d(l&&Ka.event.target===o),u(c)}var r=this,o=Ka.event.target,c=I.of(r,arguments),l=0,f=Ka.select(is).on(k,t).on(M,n),p=e(Ka.mouse(r)),d=z();$.call(r),a(c)}function l(){function t(){var t=Ka.touches(p);return h=T.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=e(t))}),t}function n(){for(var e=Ka.event.changedTouches,n=0,o=e.length;o>n;++n)g[e[n].identifier]=null;var a=t(),u=Date.now();if(1===a.length){if(500>u-m){var c=a[0],l=g[c.identifier];r(2*T.k),i(c,l),w(),s(d)}m=u}else if(a.length>1){var c=a[0],f=a[1],h=c[0]-f[0],p=c[1]-f[1];v=h*h+p*p}}function o(){for(var t,e,n,o,a=Ka.touches(p),u=0,c=a.length;c>u;++u,o=null)if(n=a[u],o=g[n.identifier]){if(e)break;t=n,e=o}if(o){var l=(l=n[0]-t[0])*l+(l=n[1]-t[1])*l,f=v&&Math.sqrt(l/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],r(f*h)}m=null,i(t,e),s(d)}function f(){if(Ka.event.touches.length){for(var e=Ka.event.changedTouches,n=0,r=e.length;r>n;++n)delete g[e[n].identifier];for(var i in g)return void t()}E.on(y,null),_.on(A,c).on(N,l),C(),u(d)}var h,p=this,d=I.of(p,arguments),g={},v=0,y=".zoom-"+Ka.event.changedTouches[0].identifier,b="touchmove"+y,x="touchend"+y,E=Ka.select(Ka.event.target).on(b,o).on(x,f),_=Ka.select(p).on(A,null).on(N,n),C=z();$.call(p),n(),a(d)}function f(){var t=I.of(this,arguments);v?clearTimeout(v):($.call(this),a(t)),v=setTimeout(function(){v=null,u(t)},50),w();var n=g||Ka.mouse(this);d||(d=e(n)),r(Math.pow(2,.002*$s())*T.k),i(n,d),s(t)}function h(){d=null}function p(){var t=I.of(this,arguments),n=Ka.mouse(this),o=e(n),c=Math.log(T.k)/Math.LN2;a(t),r(Math.pow(2,Ka.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)),i(n,o),s(t),u(t)}var d,g,v,m,y,b,E,_,T={x:0,y:0,k:1},C=[960,500],S=Vs,A="mousedown.zoom",k="mousemove.zoom",M="mouseup.zoom",N="touchstart.zoom",I=x(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=I.of(this,arguments),e=T;Ic?Ka.select(this).transition().each("start.zoom",function(){T=this.__chart__||{x:0,y:0,k:1},a(t)}).tween("zoom:zoom",function(){var n=C[0],r=C[1],i=n/2,o=r/2,a=Ka.interpolateZoom([(i-T.x)/T.k,(o-T.y)/T.k,n/T.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=a(e),u=n/r[2];this.__chart__=T={x:i-r[0]*u,y:o-r[1]*u,k:u},s(t)}}).each("end.zoom",function(){u(t)}):(this.__chart__=T,a(t),s(t),u(t))})},t.translate=function(e){return arguments.length?(T={x:+e[0],y:+e[1],k:T.k},o(),t):[T.x,T.y]},t.scale=function(e){return arguments.length?(T={x:T.x,y:T.y,k:+e},o(),t):T.k},t.scaleExtent=function(e){return arguments.length?(S=null==e?Vs:[+e[0],+e[1]],t):S},t.center=function(e){return arguments.length?(g=e&&[+e[0],+e[1]],t):g},t.size=function(e){return arguments.length?(C=e&&[+e[0],+e[1]],t):C},t.x=function(e){return arguments.length?(b=e,y=e.copy(),T={x:0,y:0,k:1},t):b},t.y=function(e){return arguments.length?(_=e,E=e.copy(),T={x:0,y:0,k:1},t):_},Ka.rebind(t,I,"on")};var $s,Vs=[0,1/0],Hs="onwheel"in ns?($s=function(){return-Ka.event.deltaY*(Ka.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ns?($s=function(){return Ka.event.wheelDelta},"mousewheel"):($s=function(){return-Ka.event.detail},"MozMousePixelScroll");re.prototype.toString=function(){return this.rgb()+""},Ka.hsl=function(t,e,n){return 1===arguments.length?t instanceof oe?ie(t.h,t.s,t.l):Ee(""+t,_e,ie):ie(+t,+e,+n)};var Ws=oe.prototype=new re;Ws.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),ie(this.h,this.s,this.l/t)},Ws.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),ie(this.h,this.s,t*this.l)},Ws.rgb=function(){return ae(this.h,this.s,this.l)},Ka.hcl=function(t,e,n){return 1===arguments.length?t instanceof ue?se(t.h,t.c,t.l):t instanceof fe?pe(t.l,t.a,t.b):pe((t=Te((t=Ka.rgb(t)).r,t.g,t.b)).l,t.a,t.b):se(+t,+e,+n)};var zs=ue.prototype=new re;zs.brighter=function(t){return se(this.h,this.c,Math.min(100,this.l+Us*(arguments.length?t:1)))},zs.darker=function(t){return se(this.h,this.c,Math.max(0,this.l-Us*(arguments.length?t:1)))},zs.rgb=function(){return ce(this.h,this.c,this.l).rgb()},Ka.lab=function(t,e,n){return 1===arguments.length?t instanceof fe?le(t.l,t.a,t.b):t instanceof ue?ce(t.l,t.c,t.h):Te((t=Ka.rgb(t)).r,t.g,t.b):le(+t,+e,+n)};var Us=18,Bs=.95047,Xs=1,Ys=1.08883,Gs=fe.prototype=new re;Gs.brighter=function(t){return le(Math.min(100,this.l+Us*(arguments.length?t:1)),this.a,this.b)},Gs.darker=function(t){return le(Math.max(0,this.l-Us*(arguments.length?t:1)),this.a,this.b)},Gs.rgb=function(){return he(this.l,this.a,this.b)},Ka.rgb=function(t,e,n){return 1===arguments.length?t instanceof be?we(t.r,t.g,t.b):Ee(""+t,we,ae):we(~~t,~~e,~~n)
};var Zs=be.prototype=new re;Zs.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&i>e&&(e=i),n&&i>n&&(n=i),r&&i>r&&(r=i),we(Math.min(255,~~(e/t)),Math.min(255,~~(n/t)),Math.min(255,~~(r/t)))):we(i,i,i)},Zs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),we(~~(t*this.r),~~(t*this.g),~~(t*this.b))},Zs.hsl=function(){return _e(this.r,this.g,this.b)},Zs.toString=function(){return"#"+xe(this.r)+xe(this.g)+xe(this.b)};var Js=Ka.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Js.forEach(function(t,e){Js.set(t,me(e))}),Ka.functor=Ae,Ka.xhr=Me(ke),Ka.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=Ne(t,e,null==n?r:i(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n},a}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(l>=c)return a;if(i)return i=!1,o;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<c;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}l=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&++l):10===r&&(i=!0),t.substring(e+1,n).replace(/""/g,'"')}for(;c>l;){var r=t.charCodeAt(l++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(l)&&(++l,++s);else if(r!==u)continue;return t.substring(e,l-s)}return t.substring(e)}for(var r,i,o={},a={},s=[],c=t.length,l=0,f=0;(r=n())!==a;){for(var h=[];r!==o&&r!==a;)h.push(r),r=n();(!e||(h=e(h,f++)))&&s.push(h)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new p,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(a).join(t)].concat(e.map(function(e){return i.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},Ka.csv=Ka.dsv(",","text/csv"),Ka.tsv=Ka.dsv("	","text/tab-separated-values"),Ka.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=b().changedTouches),e)for(var r,i=0,o=e.length;o>i;++i)if((r=e[i]).identifier===n)return U(t,r)};var Qs,Ks,tu,eu,nu,ru=is[g(is,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Ka.timer=function(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var i=n+e,o={c:t,t:i,f:!1,n:null};Ks?Ks.n=o:Qs=o,Ks=o,tu||(eu=clearTimeout(eu),tu=1,ru(Oe))},Ka.timer.flush=function(){Re(),Le()},Ka.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var iu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(De);Ka.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=Ka.round(t,Pe(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),iu[8+n/3]};var ou=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,au=Ka.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=Ka.round(t,Pe(t,e))).toFixed(Math.max(0,Math.min(20,Pe(t*(1+1e-15),e))))}}),su=Ka.time={},uu=Date;qe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){cu.setUTCDate.apply(this._,arguments)},setDay:function(){cu.setUTCDay.apply(this._,arguments)},setFullYear:function(){cu.setUTCFullYear.apply(this._,arguments)},setHours:function(){cu.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){cu.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){cu.setUTCMinutes.apply(this._,arguments)},setMonth:function(){cu.setUTCMonth.apply(this._,arguments)},setSeconds:function(){cu.setUTCSeconds.apply(this._,arguments)},setTime:function(){cu.setTime.apply(this._,arguments)}};var cu=Date.prototype;su.year=$e(function(t){return t=su.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),su.years=su.year.range,su.years.utc=su.year.utc.range,su.day=$e(function(t){var e=new uu(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),su.days=su.day.range,su.days.utc=su.day.utc.range,su.dayOfYear=function(t){var e=su.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=su[t]=$e(function(t){return(t=su.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=su.year(t).getDay();return Math.floor((su.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});su[t+"s"]=n.range,su[t+"s"].utc=n.utc.range,su[t+"OfYear"]=function(t){var n=su.year(t).getDay();return Math.floor((su.dayOfYear(t)+(n+e)%7)/7)}}),su.week=su.sunday,su.weeks=su.sunday.range,su.weeks.utc=su.sunday.utc.range,su.weekOfYear=su.sundayOfYear;var lu={"-":"",_:" ",0:"0"},fu=/^\s*\d+/,hu=/^%/;Ka.locale=function(t){return{numberFormat:je(t),timeFormat:He(t)}};var pu=Ka.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Ka.format=pu.numberFormat,Ka.geo={},ln.prototype={s:0,t:0,add:function(t){fn(t,this.t,du),fn(du.s,this.s,this),this.s?this.t+=du.t:this.s=du.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var du=new ln;Ka.geo.stream=function(t,e){t&&gu.hasOwnProperty(t.type)?gu[t.type](t,e):hn(t,e)};var gu={Feature:function(t,e){hn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)hn(n[r].geometry,e)}},vu={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){pn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)pn(n[r],e,0)},Polygon:function(t,e){dn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)dn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)hn(n[r],e)}};Ka.geo.area=function(t){return mu=0,Ka.geo.stream(t,wu),mu};var mu,yu=new ln,wu={sphere:function(){mu+=4*Ns},point:v,lineStart:v,lineEnd:v,polygonStart:function(){yu.reset(),wu.lineStart=gn},polygonEnd:function(){var t=2*yu;mu+=0>t?4*Ns+t:t,wu.lineStart=wu.lineEnd=wu.point=v}};Ka.geo.bounds=function(){function t(t,e){w.push(b=[l=t,h=t]),f>e&&(f=e),e>p&&(p=e)}function e(e,n){var r=vn([e*Ps,n*Ps]);if(m){var i=yn(m,r),o=[i[1],-i[0],0],a=yn(o,i);xn(a),a=En(a);var u=e-d,c=u>0?1:-1,g=a[0]*Ds*c,v=ps(u)>180;if(v^(g>c*d&&c*e>g)){var y=a[1]*Ds;y>p&&(p=y)}else if(g=(g+360)%360-180,v^(g>c*d&&c*e>g)){var y=-a[1]*Ds;f>y&&(f=y)}else f>n&&(f=n),n>p&&(p=n);v?d>e?s(l,e)>s(l,h)&&(h=e):s(e,h)>s(l,h)&&(l=e):h>=l?(l>e&&(l=e),e>h&&(h=e)):e>d?s(l,e)>s(l,h)&&(h=e):s(e,h)>s(l,h)&&(l=e)}else t(e,n);m=r,d=e}function n(){x.point=e}function r(){b[0]=l,b[1]=h,x.point=t,m=null}function i(t,n){if(m){var r=t-d;y+=ps(r)>180?r+(r>0?360:-360):r}else g=t,v=n;wu.point(t,n),e(t,n)}function o(){wu.lineStart()}function a(){i(g,v),wu.lineEnd(),ps(y)>Rs&&(l=-(h=180)),b[0]=l,b[1]=h,m=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function c(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var l,f,h,p,d,g,v,m,y,w,b,x={point:t,lineStart:n,lineEnd:r,polygonStart:function(){x.point=i,x.lineStart=o,x.lineEnd=a,y=0,wu.polygonStart()},polygonEnd:function(){wu.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=r,0>yu?(l=-(h=180),f=-(p=90)):y>Rs?p=90:-Rs>y&&(f=-90),b[0]=l,b[1]=h}};return function(t){p=h=-(l=f=1/0),w=[],Ka.geo.stream(t,x);var e=w.length;if(e){w.sort(u);for(var n,r=1,i=w[0],o=[i];e>r;++r)n=w[r],c(n[0],i)||c(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,d=-1/0,e=o.length-1,r=0,i=o[e];e>=r;i=n,++r)n=o[r],(a=s(i[1],n[0]))>d&&(d=a,l=n[0],h=i[1])}return w=b=null,1/0===l||1/0===f?[[0/0,0/0],[0/0,0/0]]:[[l,f],[h,p]]}}(),Ka.geo.centroid=function(t){bu=xu=Eu=_u=Tu=Cu=Su=Au=ku=Mu=Nu=0,Ka.geo.stream(t,Iu);var e=ku,n=Mu,r=Nu,i=e*e+n*n+r*r;return Ls>i&&(e=Cu,n=Su,r=Au,Rs>xu&&(e=Eu,n=_u,r=Tu),i=e*e+n*n+r*r,Ls>i)?[0/0,0/0]:[Math.atan2(n,e)*Ds,Q(r/Math.sqrt(i))*Ds]};var bu,xu,Eu,_u,Tu,Cu,Su,Au,ku,Mu,Nu,Iu={sphere:v,point:Tn,lineStart:Sn,lineEnd:An,polygonStart:function(){Iu.lineStart=kn},polygonEnd:function(){Iu.lineStart=Sn}},Ou=Rn(Mn,Fn,$n,[-Ns,-Ns/2]),Ru=1e9;Ka.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(s){return arguments.length?(o=Wn(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(Ka.geo.conicEqualArea=function(){return Un(Bn)}).raw=Bn,Ka.geo.albers=function(){return Ka.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Ka.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}var e,n,r,i,o=Ka.geo.albers(),a=Ka.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Ka.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var c=o.scale(),l=+e[0],f=+e[1];return n=o.translate(e).clipExtent([[l-.455*c,f-.238*c],[l+.455*c,f+.238*c]]).stream(u).point,r=a.translate([l-.307*c,f+.201*c]).clipExtent([[l-.425*c+Rs,f+.12*c+Rs],[l-.214*c-Rs,f+.234*c-Rs]]).stream(u).point,i=s.translate([l-.205*c,f+.212*c]).clipExtent([[l-.214*c+Rs,f+.166*c+Rs],[l-.115*c-Rs,f+.234*c-Rs]]).stream(u).point,t},t.scale(1070)};var Lu,Pu,Du,ju,Fu,qu,$u={point:v,lineStart:v,lineEnd:v,polygonStart:function(){Pu=0,$u.lineStart=Xn},polygonEnd:function(){$u.lineStart=$u.lineEnd=$u.point=v,Lu+=ps(Pu/2)}},Vu={point:Yn,lineStart:v,lineEnd:v,polygonStart:v,polygonEnd:v},Hu={point:Jn,lineStart:Qn,lineEnd:Kn,polygonStart:function(){Hu.lineStart=tr},polygonEnd:function(){Hu.point=Jn,Hu.lineStart=Qn,Hu.lineEnd=Kn}};Ka.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),Ka.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,r,i,o,a,s=4.5;return t.area=function(t){return Lu=0,Ka.geo.stream(t,i($u)),Lu},t.centroid=function(t){return Eu=_u=Tu=Cu=Su=Au=ku=Mu=Nu=0,Ka.geo.stream(t,i(Hu)),Nu?[ku/Nu,Mu/Nu]:Au?[Cu/Au,Su/Au]:Tu?[Eu/Tu,_u/Tu]:[0/0,0/0]},t.bounds=function(t){return Fu=qu=-(Du=ju=1/0),Ka.geo.stream(t,i(Vu)),[[Du,ju],[Fu,qu]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||rr(t):ke,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new Gn:new er(t),"function"!=typeof s&&o.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(Ka.geo.albersUsa()).context(null)},Ka.geo.transform=function(t){return{stream:function(e){var n=new ir(e);for(var r in t)n[r]=t[r];return n}}},ir.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Ka.geo.projection=ar,Ka.geo.projectionMutator=sr,(Ka.geo.equirectangular=function(){return ar(cr)}).raw=cr.invert=cr,Ka.geo.rotation=function(t){function e(e){return e=t(e[0]*Ps,e[1]*Ps),e[0]*=Ds,e[1]*=Ds,e}return t=fr(t[0]%360*Ps,t[1]*Ps,t.length>2?t[2]*Ps:0),e.invert=function(e){return e=t.invert(e[0]*Ps,e[1]*Ps),e[0]*=Ds,e[1]*=Ds,e},e},lr.invert=cr,Ka.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=fr(-t[0]*Ps,-t[1]*Ps,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=Ds,t[1]*=Ds}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=gr((e=+r)*Ps,i*Ps),t):e},t.precision=function(r){return arguments.length?(n=gr(e*Ps,(i=+r)*Ps),t):i},t.angle(90)},Ka.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Ps,i=t[1]*Ps,o=e[1]*Ps,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),c=Math.cos(i),l=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=c*l-u*f*s)*n),u*l+c*f*s)},Ka.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Ka.range(Math.ceil(o/v)*v,i,v).map(h).concat(Ka.range(Math.ceil(c/m)*m,u,m).map(p)).concat(Ka.range(Math.ceil(r/d)*d,n,d).filter(function(t){return ps(t%v)>Rs}).map(l)).concat(Ka.range(Math.ceil(s/g)*g,a,g).filter(function(t){return ps(t%m)>Rs}).map(f))}var n,r,i,o,a,s,u,c,l,f,h,p,d=10,g=d,v=90,m=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(p(u).slice(1),h(i).reverse().slice(1),p(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],c=+e[0][1],u=+e[1][1],o>i&&(e=o,o=i,i=e),c>u&&(e=c,c=u,u=e),t.precision(y)):[[o,c],[i,u]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(v=+e[0],m=+e[1],t):[v,m]},t.minorStep=function(e){return arguments.length?(d=+e[0],g=+e[1],t):[d,g]},t.precision=function(e){return arguments.length?(y=+e,l=mr(s,a,90),f=yr(r,n,y),h=mr(c,u,90),p=yr(o,i,y),t):y},t.majorExtent([[-180,-90+Rs],[180,90-Rs]]).minorExtent([[-180,-80-Rs],[180,80+Rs]])},Ka.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=wr,i=br;return t.distance=function(){return Ka.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},Ka.geo.interpolate=function(t,e){return xr(t[0]*Ps,t[1]*Ps,e[0]*Ps,e[1]*Ps)},Ka.geo.length=function(t){return Wu=0,Ka.geo.stream(t,zu),Wu};var Wu,zu={sphere:v,point:v,lineStart:Er,lineEnd:v,polygonStart:v,polygonEnd:v},Uu=_r(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Ka.geo.azimuthalEqualArea=function(){return ar(Uu)}).raw=Uu;var Bu=_r(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},ke);(Ka.geo.azimuthalEquidistant=function(){return ar(Bu)}).raw=Bu,(Ka.geo.conicConformal=function(){return Un(Tr)}).raw=Tr,(Ka.geo.conicEquidistant=function(){return Un(Cr)}).raw=Cr;var Xu=_r(function(t){return 1/t},Math.atan);(Ka.geo.gnomonic=function(){return ar(Xu)}).raw=Xu,Sr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Os]},(Ka.geo.mercator=function(){return Ar(Sr)}).raw=Sr;var Yu=_r(function(){return 1},Math.asin);(Ka.geo.orthographic=function(){return ar(Yu)}).raw=Yu;var Gu=_r(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Ka.geo.stereographic=function(){return ar(Gu)}).raw=Gu,kr.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Os]},(Ka.geo.transverseMercator=function(){var t=Ar(kr),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[-t[1],t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},t.rotate([0,0])}).raw=kr,Ka.geom={},Ka.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=Ae(n),o=Ae(r),a=t.length,s=[],u=[];for(e=0;a>e;e++)s.push([+i.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(Or),e=0;a>e;e++)u.push([s[e][0],-s[e][1]]);var c=Ir(s),l=Ir(u),f=l[0]===c[0],h=l[l.length-1]===c[c.length-1],p=[];for(e=c.length-1;e>=0;--e)p.push(t[s[c[e]][2]]);for(e=+f;e<l.length-h;++e)p.push(t[s[l[e]][2]]);return p}var n=Mr,r=Nr;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},Ka.geom.polygon=function(t){return ys(t,Zu),t};var Zu=Ka.geom.polygon.prototype=[];Zu.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Zu.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},Zu.clip=function(t){for(var e,n,r,i,o,a,s=Pr(t),u=-1,c=this.length-Pr(this),l=this[c-1];++u<c;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-s)-1],n=-1;++n<r;)a=e[n],Rr(a,l,i)?(Rr(o,l,i)||t.push(Lr(o,a,l,i)),t.push(a)):Rr(o,l,i)&&t.push(Lr(o,a,l,i)),o=a;s&&t.push(t[0]),l=i}return t};var Ju,Qu,Ku,tc,ec,nc=[],rc=[];Wr.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Ur),e.length},ei.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ni.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ai(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ii(this,n),t=n,n=t.U),n.C=!1,r.C=!0,oi(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(oi(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ii(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?ai(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,ii(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,oi(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ii(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,oi(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ii(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,oi(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},Ka.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return si(n(t),s).cells.forEach(function(n,s){var u=n.edges,c=n.site,l=e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):c.x>=r&&c.x<=o&&c.y>=i&&c.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];l.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Rs)*Rs,y:Math.round(a(t,e)/Rs)*Rs,i:e}})}var r=Mr,i=Nr,o=r,a=i,s=ic;return t?e(t):(e.links=function(t){return si(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return si(n(t)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort(Ur),u=-1,c=s.length,l=s[c-1].edge,f=l.l===a?l.r:l.l;++u<c;)i=l,o=f,l=s[u].edge,f=l.l===a?l.r:l.l,r<o.i&&r<f.i&&ci(a,o,f)<0&&e.push([t[r],t[o.i],t[f.i]])}),e},e.x=function(t){return arguments.length?(o=Ae(r=t),e):r},e.y=function(t){return arguments.length?(a=Ae(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?ic:t,e):s===ic?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===ic?null:s&&s[1]},e)};var ic=[[-1e6,-1e6],[1e6,1e6]];Ka.geom.delaunay=function(t){return Ka.geom.voronoi().triangles(t)},Ka.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(ps(u-n)+ps(l-r)<.01)c(t,e,n,r,i,o,a,s);else{var f=t.point;t.x=t.y=t.point=null,c(t,f,u,l,i,o,a,s),c(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else c(t,e,n,r,i,o,a,s)}function c(t,e,n,r,i,a,s,u){var c=.5*(i+s),l=.5*(a+u),f=n>=c,h=r>=l,p=(h<<1)+f;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]=hi()),f?i=c:s=c,h?a=l:u=l,o(t,e,n,r,i,a,s,u)}var l,f,h,p,d,g,v,m,y,w=Ae(s),b=Ae(u);if(null!=e)g=e,v=n,m=r,y=i;else if(m=y=-(g=v=1/0),f=[],h=[],d=t.length,a)for(p=0;d>p;++p)l=t[p],l.x<g&&(g=l.x),l.y<v&&(v=l.y),l.x>m&&(m=l.x),l.y>y&&(y=l.y),f.push(l.x),h.push(l.y);else for(p=0;d>p;++p){var x=+w(l=t[p],p),E=+b(l,p);g>x&&(g=x),v>E&&(v=E),x>m&&(m=x),E>y&&(y=E),f.push(x),h.push(E)}var _=m-g,T=y-v;_>T?y=v+_:m=g+T;var C=hi();if(C.add=function(t){o(C,t,+w(t,++p),+b(t,p),g,v,m,y)},C.visit=function(t){pi(t,C,g,v,m,y)},p=-1,null==e){for(;++p<d;)o(C,t[p],f[p],h[p],g,v,m,y);--p}else t.forEach(C.add);return f=h=t=l=null,C}var a,s=Mr,u=Nr;return(a=arguments.length)?(s=li,u=fi,3===a&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(u=t,o):u},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},Ka.interpolateRgb=di,Ka.interpolateObject=gi,Ka.interpolateNumber=vi,Ka.interpolateString=mi;var oc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;Ka.interpolate=yi,Ka.interpolators=[function(t,e){var n=typeof e;return("string"===n?Js.has(e)||/^(#|rgb\(|hsl\()/.test(e)?di:mi:e instanceof re?di:Array.isArray(e)?wi:"object"===n&&isNaN(e)?gi:vi)(t,e)}],Ka.interpolateArray=wi;var ac=function(){return ke},sc=Ka.map({linear:ac,poly:Si,quad:function(){return _i},cubic:function(){return Ti},sin:function(){return Ai},exp:function(){return ki},circle:function(){return Mi},elastic:Ni,back:Ii,bounce:function(){return Oi}}),uc=Ka.map({"in":ke,out:xi,"in-out":Ei,"out-in":function(t){return Ei(xi(t))}});Ka.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.substring(0,e):t,r=e>=0?t.substring(e+1):"in";return n=sc.get(n)||ac,r=uc.get(r)||ke,bi(r(n.apply(null,ts.call(arguments,1))))},Ka.interpolateHcl=Ri,Ka.interpolateHsl=Li,Ka.interpolateLab=Pi,Ka.interpolateRound=Di,Ka.transform=function(t){var e=ns.createElementNS(Ka.ns.prefix.svg,"g");return(Ka.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new ji(n?n.matrix:cc)})(t)},ji.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var cc={a:1,b:0,c:0,d:1,e:0,f:0};Ka.interpolateTransform=Vi,Ka.layout={},Ka.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(zi(t[n]));return e}},Ka.layout.chord=function(){function t(){var t,c,f,h,p,d={},g=[],v=Ka.range(o),m=[];for(n=[],r=[],t=0,h=-1;++h<o;){for(c=0,p=-1;++p<o;)c+=i[h][p];g.push(c),m.push(Ka.range(o)),t+=c}for(a&&v.sort(function(t,e){return a(g[t],g[e])}),s&&m.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(Is-l*o)/t,c=0,h=-1;++h<o;){for(f=c,p=-1;++p<o;){var y=v[h],w=m[y][p],b=i[y][w],x=c,E=c+=b*t;d[y+"-"+w]={index:y,subindex:w,startAngle:x,endAngle:E,value:b}}r[y]={index:y,startAngle:f,endAngle:c,value:(c-f)/t},c+=l}for(h=-1;++h<o;)for(p=h-1;++p<o;){var _=d[h+"-"+p],T=d[p+"-"+h];(_.value||T.value)&&n.push(_.value<T.value?{source:T,target:_}:{source:_,target:T})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,u,c={},l=0;return c.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,c):i},c.padding=function(t){return arguments.length?(l=t,n=r=null,c):l},c.sortGroups=function(t){return arguments.length?(a=t,n=r=null,c):a},c.sortSubgroups=function(t){return arguments.length?(s=t,n=null,c):s},c.sortChords=function(t){return arguments.length?(u=t,n&&e(),c):u},c.chords=function(){return n||t(),n},c.groups=function(){return r||t(),r},c},Ka.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,u=o*o+a*a;if(u>s*s/v){if(d>u){var c=e.charge/u;t.px-=o*c,t.py-=a*c}return!0}if(e.point&&u&&d>u){var c=e.pointCharge/u;t.px-=o*c,t.py-=a*c}}return!e.charge}}function e(t){t.px=Ka.event.x,t.py=Ka.event.y,s.resume()}var n,r,i,o,a,s={},u=Ka.dispatch("start","tick","end"),c=[1,1],l=.9,f=lc,h=fc,p=-30,d=hc,g=.1,v=.64,m=[],y=[];return s.tick=function(){if((r*=.99)<.005)return u.end({type:"end",alpha:r=0}),!0;var e,n,s,f,h,d,v,w,b,x=m.length,E=y.length;for(n=0;E>n;++n)s=y[n],f=s.source,h=s.target,w=h.x-f.x,b=h.y-f.y,(d=w*w+b*b)&&(d=r*o[n]*((d=Math.sqrt(d))-i[n])/d,w*=d,b*=d,h.x-=w*(v=f.weight/(h.weight+f.weight)),h.y-=b*v,f.x+=w*(v=1-v),f.y+=b*v);if((v=r*g)&&(w=c[0]/2,b=c[1]/2,n=-1,v))for(;++n<x;)s=m[n],s.x+=(w-s.x)*v,s.y+=(b-s.y)*v;if(p)for(Ji(e=Ka.geom.quadtree(m),r,a),n=-1;++n<x;)(s=m[n]).fixed||e.visit(t(s));for(n=-1;++n<x;)s=m[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*l,s.y-=(s.py-(s.py=s.y))*l);u.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(m=t,s):m},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(c=t,s):c},s.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.friction=function(t){return arguments.length?(l=+t,s):l},s.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,s):p},s.chargeDistance=function(t){return arguments.length?(d=t*t,s):Math.sqrt(d)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(v=t*t,s):Math.sqrt(v)},s.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(u.start({type:"start",alpha:r=t}),Ka.timer(s.tick)),s):r},s.start=function(){function t(t,r){if(!n){for(n=new Array(u),s=0;u>s;++s)n[s]=[];for(s=0;c>s;++s){var i=y[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[e],s=-1,c=a.length;++s<c;)if(!isNaN(o=a[s][t]))return o;return Math.random()*r}var e,n,r,u=m.length,l=y.length,d=c[0],g=c[1];for(e=0;u>e;++e)(r=m[e]).index=e,r.weight=0;for(e=0;l>e;++e)r=y[e],"number"==typeof r.source&&(r.source=m[r.source]),"number"==typeof r.target&&(r.target=m[r.target]),++r.source.weight,++r.target.weight;for(e=0;u>e;++e)r=m[e],isNaN(r.x)&&(r.x=t("x",d)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof f)for(e=0;l>e;++e)i[e]=+f.call(this,y[e],e);else for(e=0;l>e;++e)i[e]=f;if(o=[],"function"==typeof h)for(e=0;l>e;++e)o[e]=+h.call(this,y[e],e);else for(e=0;l>e;++e)o[e]=h;if(a=[],"function"==typeof p)for(e=0;u>e;++e)a[e]=+p.call(this,m[e],e);else for(e=0;u>e;++e)a[e]=p;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)
},s.drag=function(){return n||(n=Ka.behavior.drag().origin(ke).on("dragstart.force",Xi).on("drag.force",e).on("dragend.force",Yi)),arguments.length?void this.on("mouseover.force",Gi).on("mouseout.force",Zi).call(n):n},Ka.rebind(s,u,"on")};var lc=20,fc=1,hc=1/0;Ka.layout.hierarchy=function(){function t(e,a,s){var u=i.call(n,e,a);if(e.depth=a,s.push(e),u&&(c=u.length)){for(var c,l,f=-1,h=e.children=new Array(c),p=0,d=a+1;++f<c;)l=h[f]=t(u[f],d,s),l.parent=e,p+=l.value;r&&h.sort(r),o&&(e.value=p)}else delete e.children,o&&(e.value=+o.call(n,e,a)||0);return e}function e(t,r){var i=t.children,a=0;if(i&&(s=i.length))for(var s,u=-1,c=r+1;++u<s;)a+=e(i[u],c);else o&&(a=+o.call(n,t,r)||0);return o&&(t.value=a),a}function n(e){var n=[];return t(e,0,n),n}var r=eo,i=Ki,o=to;return n.sort=function(t){return arguments.length?(r=t,n):r},n.children=function(t){return arguments.length?(i=t,n):i},n.value=function(t){return arguments.length?(o=t,n):o},n.revalue=function(t){return e(t,0),t},n},Ka.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,u,c=-1;for(r=e.value?r/e.value:0;++c<a;)t(s=o[c],n,u=s.value*r,i),n+=u}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=Ka.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},Qi(n,r)},Ka.layout.pie=function(){function t(o){var a=o.map(function(n,r){return+e.call(t,n,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),u=(("function"==typeof i?i.apply(this,arguments):i)-s)/Ka.sum(a),c=Ka.range(o.length);null!=n&&c.sort(n===pc?function(t,e){return a[e]-a[t]}:function(t,e){return n(o[t],o[e])});var l=[];return c.forEach(function(t){var e;l[t]={data:o[t],value:e=a[t],startAngle:s,endAngle:s+=e*u}}),l}var e=Number,n=pc,r=0,i=Is;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t};var pc={};Ka.layout.stack=function(){function t(s,u){var c=s.map(function(n,r){return e.call(t,n,r)}),l=c.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),f=n.call(t,l,u);c=Ka.permute(c,f),l=Ka.permute(l,f);var h,p,d,g=r.call(t,l,u),v=c.length,m=c[0].length;for(p=0;m>p;++p)for(i.call(t,c[0][p],d=g[p],l[0][p][1]),h=1;v>h;++h)i.call(t,c[h][p],d+=l[h-1][p][1],l[h][p][1]);return s}var e=ke,n=ao,r=so,i=oo,o=ro,a=io;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:dc.get(e)||ao,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:gc.get(e)||so,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var dc=Ka.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(uo),o=t.map(co),a=Ka.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,u=0,c=[],l=[];for(e=0;r>e;++e)n=a[e],u>s?(s+=o[n],c.push(n)):(u+=o[n],l.push(n));return l.reverse().concat(c)},reverse:function(t){return Ka.range(t.length).reverse()},"default":ao}),gc=Ka.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,c,l=t.length,f=t[0],h=f.length,p=[];for(p[0]=u=c=0,n=1;h>n;++n){for(e=0,i=0;l>e;++e)i+=t[e][n][1];for(e=0,o=0,s=f[n][0]-f[n-1][0];l>e;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>r;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}p[n]=u-=i?o/i*s:0,c>u&&(c=u)}for(n=0;h>n;++n)p[n]-=c;return p},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];if(r)for(e=0;i>e;e++)t[e][n][1]/=r;else for(e=0;i>e;e++)t[e][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:so});Ka.layout.histogram=function(){function t(t,o){for(var a,s,u=[],c=t.map(n,this),l=r.call(this,c,o),f=i.call(this,l,c,o),o=-1,h=c.length,p=f.length-1,d=e?1:1/h;++o<p;)a=u[o]=[],a.dx=f[o+1]-(a.x=f[o]),a.y=0;if(p>0)for(o=-1;++o<h;)s=c[o],s>=l[0]&&s<=l[1]&&(a=u[Ka.bisect(f,s,1,p)-1],a.y+=d,a.push(t[o]));return u}var e=!0,n=Number,r=po,i=fo;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Ae(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return ho(t,e)}:Ae(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},Ka.layout.tree=function(){function t(t,o){function a(t,e){var r=t.children,i=t._tree;if(r&&(o=r.length)){for(var o,s,c,l=r[0],f=l,h=-1;++h<o;)c=r[h],a(c,s),f=u(c,s,f),s=c;_o(t);var p=.5*(l._tree.prelim+c._tree.prelim);e?(i.prelim=e._tree.prelim+n(t,e),i.mod=i.prelim-p):i.prelim=p}else e&&(i.prelim=e._tree.prelim+n(t,e))}function s(t,e){t.x=t._tree.prelim+e;var n=t.children;if(n&&(r=n.length)){var r,i=-1;for(e+=t._tree.mod;++i<r;)s(n[i],e)}}function u(t,e,r){if(e){for(var i,o=t,a=t,s=e,u=t.parent.children[0],c=o._tree.mod,l=a._tree.mod,f=s._tree.mod,h=u._tree.mod;s=mo(s),o=vo(o),s&&o;)u=vo(u),a=mo(a),a._tree.ancestor=t,i=s._tree.prelim+f-o._tree.prelim-c+n(s,o),i>0&&(To(Co(s,t,r),t,i),c+=i,l+=i),f+=s._tree.mod,c+=o._tree.mod,h+=u._tree.mod,l+=a._tree.mod;s&&!mo(a)&&(a._tree.thread=s,a._tree.mod+=f-l),o&&!vo(u)&&(u._tree.thread=o,u._tree.mod+=c-h,r=t)}return r}var c=e.call(this,t,o),l=c[0];Eo(l,function(t,e){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}}),a(l),s(l,-l._tree.prelim);var f=yo(l,bo),h=yo(l,wo),p=yo(l,xo),d=f.x-n(f,h)/2,g=h.x+n(h,f)/2,v=p.depth||1;return Eo(l,i?function(t){t.x*=r[0],t.y=t.depth*r[1],delete t._tree}:function(t){t.x=(t.x-d)/(g-d)*r[0],t.y=t.depth/v*r[1],delete t._tree}),c}var e=Ka.layout.hierarchy().sort(null).value(null),n=go,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},Qi(t,e)},Ka.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],u=i[0],c=i[1],l=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,Eo(s,function(t){t.r=+l(t.value)}),Eo(s,No),r){var f=r*(e?1:Math.max(2*s.r/u,2*s.r/c))/2;Eo(s,function(t){t.r+=f}),Eo(s,No),Eo(s,function(t){t.r-=f})}return Ro(s,u/2,c/2,e?1:1/Math.max(2*s.r/u,2*s.r/c)),a}var e,n=Ka.layout.hierarchy().sort(So),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},Qi(t,n)},Ka.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),u=s[0],c=0;Eo(u,function(t){var e=t.children;e&&e.length?(t.x=Do(e),t.y=Po(e)):(t.x=a?c+=n(t,a):0,t.y=0,a=t)});var l=jo(u),f=Fo(u),h=l.x-n(l,f)/2,p=f.x+n(f,l)/2;return Eo(u,i?function(t){t.x=(t.x-u.x)*r[0],t.y=(u.y-t.y)*r[1]}:function(t){t.x=(t.x-h)/(p-h)*r[0],t.y=(1-(u.y?t.y/u.y:1))*r[1]}),s}var e=Ka.layout.hierarchy().sort(null).value(null),n=go,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},Qi(t,e)},Ka.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var o=n.children;if(o&&o.length){var a,s,u,c=f(n),l=[],h=o.slice(),d=1/0,g="slice"===p?c.dx:"dice"===p?c.dy:"slice-dice"===p?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(h,c.dx*c.dy/n.value),l.area=0;(u=h.length)>0;)l.push(a=h[u-1]),l.area+=a.area,"squarify"!==p||(s=r(l,g))<=d?(h.pop(),d=s):(l.area-=l.pop().area,i(l,g,c,!1),g=Math.min(c.dx,c.dy),l.length=l.area=0,d=1/0);l.length&&(i(l,g,c,!0),l.length=l.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,a=f(e),s=r.slice(),u=[];for(t(s,a.dx*a.dy/e.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*d/r,r/(e*o*d)):1/0}function i(t,e,n,r){var i,o=-1,a=t.length,s=n.x,c=n.y,l=e?u(t.area/e):0;if(e==n.dx){for((r||l>n.dy)&&(l=n.dy);++o<a;)i=t[o],i.x=s,i.y=c,i.dy=l,s+=i.dx=Math.min(n.x+n.dx-s,l?u(i.area/l):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=l,n.dy-=l}else{for((r||l>n.dx)&&(l=n.dx);++o<a;)i=t[o],i.x=s,i.y=c,i.dx=l,c+=i.dy=Math.min(n.y+n.dy-c,l?u(i.area/l):0);i.z=!1,i.dy+=n.y+n.dy-c,n.x+=l,n.dx-=l}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=c[0],o.dy=c[1],a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),h&&(a=i),i}var a,s=Ka.layout.hierarchy(),u=Math.round,c=[1,1],l=null,f=qo,h=!1,p="squarify",d=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(c=t,o):c},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?qo(e):$o(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return $o(e,t)}if(!arguments.length)return l;var r;return f=null==(l=t)?qo:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(u=t?Math.round:Number,o):u!=Number},o.sticky=function(t){return arguments.length?(h=t,a=null,o):h},o.ratio=function(t){return arguments.length?(d=t,o):d},o.mode=function(t){return arguments.length?(p=t+"",o):p},Qi(o,s)},Ka.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=Ka.random.normal.apply(Ka,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=Ka.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},Ka.scale={};var vc={floor:ke,ceil:ke};Ka.scale.linear=function(){return Xo([0,1],[0,1],yi,!1)};var mc={s:1,g:1,p:1,r:1,e:1};Ka.scale.log=function(){return ea(Ka.scale.linear().domain([0,1]),10,!0,[1,10])};var yc=Ka.format(".0e"),wc={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Ka.scale.pow=function(){return na(Ka.scale.linear(),1,[0,1])},Ka.scale.sqrt=function(){return Ka.scale.pow().exponent(.5)},Ka.scale.ordinal=function(){return ia([],{t:"range",a:[[]]})},Ka.scale.category10=function(){return Ka.scale.ordinal().range(bc)},Ka.scale.category20=function(){return Ka.scale.ordinal().range(xc)},Ka.scale.category20b=function(){return Ka.scale.ordinal().range(Ec)},Ka.scale.category20c=function(){return Ka.scale.ordinal().range(_c)};var bc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ye),xc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ye),Ec=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ye),_c=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ye);Ka.scale.quantile=function(){return oa([],[])},Ka.scale.quantize=function(){return aa(0,1,[0,1])},Ka.scale.threshold=function(){return sa([.5],[0,1])},Ka.scale.identity=function(){return ua([0,1])},Ka.svg={},Ka.svg.arc=function(){function t(){var t=e.apply(this,arguments),o=n.apply(this,arguments),a=r.apply(this,arguments)+Tc,s=i.apply(this,arguments)+Tc,u=(a>s&&(u=a,a=s,s=u),s-a),c=Ns>u?"0":"1",l=Math.cos(a),f=Math.sin(a),h=Math.cos(s),p=Math.sin(s);return u>=Cc?t?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":t?"M"+o*l+","+o*f+"A"+o+","+o+" 0 "+c+",1 "+o*h+","+o*p+"L"+t*h+","+t*p+"A"+t+","+t+" 0 "+c+",0 "+t*l+","+t*f+"Z":"M"+o*l+","+o*f+"A"+o+","+o+" 0 "+c+",1 "+o*h+","+o*p+"L0,0Z"}var e=ca,n=la,r=fa,i=ha;return t.innerRadius=function(n){return arguments.length?(e=Ae(n),t):e},t.outerRadius=function(e){return arguments.length?(n=Ae(e),t):n},t.startAngle=function(e){return arguments.length?(r=Ae(e),t):r},t.endAngle=function(e){return arguments.length?(i=Ae(e),t):i},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,o=(r.apply(this,arguments)+i.apply(this,arguments))/2+Tc;return[Math.cos(o)*t,Math.sin(o)*t]},t};var Tc=-Os,Cc=Is-Rs;Ka.svg.line=function(){return pa(ke)};var Sc=Ka.map({linear:da,"linear-closed":ga,step:va,"step-before":ma,"step-after":ya,basis:Ta,"basis-open":Ca,"basis-closed":Sa,bundle:Aa,cardinal:xa,"cardinal-open":wa,"cardinal-closed":ba,monotone:Ra});Sc.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ac=[0,2/3,1/3,0],kc=[0,1/3,2/3,0],Mc=[0,1/6,2/3,1/6];Ka.svg.line.radial=function(){var t=pa(La);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ma.reverse=ya,ya.reverse=ma,Ka.svg.area=function(){return Pa(ke)},Ka.svg.area.radial=function(){var t=Pa(La);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Ka.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),c=e(this,a,t,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,c)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+i(c.r,c.p1,u.r,u.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=u.call(t,i,r)+Tc,l=c.call(t,i,r)+Tc;return{r:o,a0:a,a1:l,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(l),o*Math.sin(l)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Ns)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=wr,a=br,s=Da,u=fa,c=ha;return t.radius=function(e){return arguments.length?(s=Ae(e),t):s},t.source=function(e){return arguments.length?(o=Ae(e),t):o},t.target=function(e){return arguments.length?(a=Ae(e),t):a},t.startAngle=function(e){return arguments.length?(u=Ae(e),t):u},t.endAngle=function(e){return arguments.length?(c=Ae(e),t):c},t},Ka.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=wr,n=br,r=ja;return t.source=function(n){return arguments.length?(e=Ae(n),t):e},t.target=function(e){return arguments.length?(n=Ae(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},Ka.svg.diagonal.radial=function(){var t=Ka.svg.diagonal(),e=ja,n=t.projection;return t.projection=function(t){return arguments.length?n(Fa(e=t)):e},t},Ka.svg.symbol=function(){function t(t,r){return(Nc.get(e.call(this,t,r))||Va)(n.call(this,t,r))}var e=$a,n=qa;return t.type=function(n){return arguments.length?(e=Ae(n),t):e},t.size=function(e){return arguments.length?(n=Ae(e),t):n},t};var Nc=Ka.map({circle:Va,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Lc)),n=e*Lc;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Rc),n=e*Rc/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Rc),n=e*Rc/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});Ka.svg.symbolTypes=Nc.keys();var Ic,Oc,Rc=Math.sqrt(3),Lc=Math.tan(30*Ps),Pc=[],Dc=0;Pc.call=_s.call,Pc.empty=_s.empty,Pc.node=_s.node,Pc.size=_s.size,Ka.transition=function(t){return arguments.length?Ic?t.transition():t:Ss.transition()},Ka.transition.prototype=Pc,Pc.select=function(t){var e,n,r,i=this.id,o=[];t=_(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]);for(var u=this[a],c=-1,l=u.length;++c<l;)(r=u[c])&&(n=t.call(r,r.__data__,c,a))?("__data__"in r&&(n.__data__=r.__data__),Ua(n,c,i,r.__transition__[i]),e.push(n)):e.push(null)}return Ha(o,i)},Pc.selectAll=function(t){var e,n,r,i,o,a=this.id,s=[];t=T(t);for(var u=-1,c=this.length;++u<c;)for(var l=this[u],f=-1,h=l.length;++f<h;)if(r=l[f]){o=r.__transition__[a],n=t.call(r,r.__data__,f,u),s.push(e=[]);for(var p=-1,d=n.length;++p<d;)(i=n[p])&&Ua(i,p,a,o),e.push(i)}return Ha(s,a)},Pc.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=P(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]);for(var n=this[o],s=0,u=n.length;u>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return Ha(i,this.id)},Pc.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):j(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(r){r.__transition__[n].tween.set(t,e)})},Pc.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Vi:yi,s=Ka.ns.qualify(t);return Wa(this,"attr."+t,e,s.local?o:i)},Pc.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=Ka.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},Pc.style=function(t,e,n){function r(){this.style.removeProperty(t)}function i(e){return null==e?r:(e+="",function(){var r,i=is.getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=yi(i,e),function(e){this.style.setProperty(t,r(e),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return Wa(this,"style."+t,e,i)},Pc.styleTween=function(t,e,n){function r(r,i){var o=e.call(this,r,i,is.getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Pc.text=function(t){return Wa(this,"text",t,za)},Pc.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Pc.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=Ka.ease.apply(Ka,arguments)),j(this,function(n){n.__transition__[e].ease=t}))},Pc.delay=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].delay:j(this,"function"==typeof t?function(n,r,i){n.__transition__[e].delay=+t.call(n,n.__data__,r,i)}:(t=+t,function(n){n.__transition__[e].delay=t}))},Pc.duration=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].duration:j(this,"function"==typeof t?function(n,r,i){n.__transition__[e].duration=Math.max(1,t.call(n,n.__data__,r,i))}:(t=Math.max(1,t),function(n){n.__transition__[e].duration=t}))},Pc.each=function(t,e){var n=this.id;if(arguments.length<2){var r=Oc,i=Ic;Ic=n,j(this,function(e,r,i){Oc=e.__transition__[n],t.call(e,e.__data__,r,i)}),Oc=r,Ic=i}else j(this,function(r){var i=r.__transition__[n];(i.event||(i.event=Ka.dispatch("start","end"))).on(t,e)});return this},Pc.transition=function(){for(var t,e,n,r,i=this.id,o=++Dc,a=[],s=0,u=this.length;u>s;s++){a.push(t=[]);for(var e=this[s],c=0,l=e.length;l>c;c++)(n=e[c])&&(r=Object.create(n.__transition__[i]),r.delay+=r.duration,Ua(n,c,o,r)),t.push(n)}return Ha(a,o)},Ka.svg.axis=function(){function t(t){t.each(function(){var t,c=Ka.select(this),l=this.__chart__||n,f=this.__chart__=n.copy(),h=null==u?f.ticks?f.ticks.apply(f,s):f.domain():u,p=null==e?f.tickFormat?f.tickFormat.apply(f,s):ke:e,d=c.selectAll(".tick").data(h,f),g=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Rs),v=Ka.transition(d.exit()).style("opacity",Rs).remove(),m=Ka.transition(d.order()).style("opacity",1),y=Ho(f),w=c.selectAll(".domain").data([0]),b=(w.enter().append("path").attr("class","domain"),Ka.transition(w));g.append("line"),g.append("text");var x=g.select("line"),E=m.select("line"),_=d.select("text").text(p),T=g.select("text"),C=m.select("text");switch(r){case"bottom":t=Ba,x.attr("y2",i),T.attr("y",Math.max(i,0)+a),E.attr("x2",0).attr("y2",i),C.attr("x",0).attr("y",Math.max(i,0)+a),_.attr("dy",".71em").style("text-anchor","middle"),b.attr("d","M"+y[0]+","+o+"V0H"+y[1]+"V"+o);break;case"top":t=Ba,x.attr("y2",-i),T.attr("y",-(Math.max(i,0)+a)),E.attr("x2",0).attr("y2",-i),C.attr("x",0).attr("y",-(Math.max(i,0)+a)),_.attr("dy","0em").style("text-anchor","middle"),b.attr("d","M"+y[0]+","+-o+"V0H"+y[1]+"V"+-o);break;case"left":t=Xa,x.attr("x2",-i),T.attr("x",-(Math.max(i,0)+a)),E.attr("x2",-i).attr("y2",0),C.attr("x",-(Math.max(i,0)+a)).attr("y",0),_.attr("dy",".32em").style("text-anchor","end"),b.attr("d","M"+-o+","+y[0]+"H0V"+y[1]+"H"+-o);break;case"right":t=Xa,x.attr("x2",i),T.attr("x",Math.max(i,0)+a),E.attr("x2",i).attr("y2",0),C.attr("x",Math.max(i,0)+a).attr("y",0),_.attr("dy",".32em").style("text-anchor","start"),b.attr("d","M"+o+","+y[0]+"H0V"+y[1]+"H"+o)}if(f.rangeBand){var S=f,A=S.rangeBand()/2;l=f=function(t){return S(t)+A}}else l.rangeBand?l=f:v.call(t,f);g.call(t,l),m.call(t,f)})}var e,n=Ka.scale.linear(),r=jc,i=6,o=6,a=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Fc?e+"":jc,t):r},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,o=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var jc="bottom",Fc={top:1,right:1,bottom:1,left:1};Ka.svg.brush=function(){function t(o){o.each(function(){var o=Ka.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=o.selectAll(".resize").data(d,ke);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return qc[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,f=Ka.transition(o),h=Ka.transition(a);u&&(l=Ho(u),h.attr("x",l[0]).attr("width",l[1]-l[0]),n(f)),c&&(l=Ho(c),h.attr("y",l[0]).attr("height",l[1]-l[0]),r(f)),e(f)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+l[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",l[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function r(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function i(){function i(){32==Ka.event.keyCode&&(k||(y=null,N[0]-=l[1],N[1]-=f[1],k=2),w())}function d(){32==Ka.event.keyCode&&2==k&&(N[0]+=l[1],N[1]+=f[1],k=0,w())}function g(){var t=Ka.mouse(x),i=!1;b&&(t[0]+=b[0],t[1]+=b[1]),k||(Ka.event.altKey?(y||(y=[(l[0]+l[1])/2,(f[0]+f[1])/2]),N[0]=l[+(t[0]<y[0])],N[1]=f[+(t[1]<y[1])]):y=null),S&&v(t,u,0)&&(n(T),i=!0),A&&v(t,c,1)&&(r(T),i=!0),i&&(e(T),_({type:"brush",mode:k?"move":"resize"}))}function v(t,e,n){var r,i,s=Ho(e),u=s[0],c=s[1],d=N[n],g=n?f:l,v=g[1]-g[0];return k&&(u-=d,c-=v+d),r=(n?p:h)?Math.max(u,Math.min(c,t[n])):t[n],k?i=(r+=d)+v:(y&&(d=Math.max(u,Math.min(c,2*y[n]-r))),r>d?(i=r,r=d):i=d),g[0]!=r||g[1]!=i?(n?a=null:o=null,g[0]=r,g[1]=i,!0):void 0}function m(){g(),T.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Ka.select("body").style("cursor",null),I.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),M(),_({type:"brushend"})}var y,b,x=this,E=Ka.select(Ka.event.target),_=s.of(x,arguments),T=Ka.select(x),C=E.datum(),S=!/^(n|s)$/.test(C)&&u,A=!/^(e|w)$/.test(C)&&c,k=E.classed("extent"),M=z(),N=Ka.mouse(x),I=Ka.select(is).on("keydown.brush",i).on("keyup.brush",d);if(Ka.event.changedTouches?I.on("touchmove.brush",g).on("touchend.brush",m):I.on("mousemove.brush",g).on("mouseup.brush",m),T.interrupt().selectAll("*").interrupt(),k)N[0]=l[0]-N[0],N[1]=f[0]-N[1];else if(C){var O=+/w$/.test(C),R=+/^n/.test(C);b=[l[1-O]-N[0],f[1-R]-N[1]],N[0]=l[O],N[1]=f[R]}else Ka.event.altKey&&(y=N.slice());T.style("pointer-events","none").selectAll(".resize").style("display",null),Ka.select("body").style("cursor",E.style("cursor")),_({type:"brushstart"}),g()}var o,a,s=x(t,"brushstart","brush","brushend"),u=null,c=null,l=[0,0],f=[0,0],h=!0,p=!0,d=$c[0];return t.event=function(t){t.each(function(){var t=s.of(this,arguments),e={x:l,y:f,i:o,j:a},n=this.__chart__||e;this.__chart__=e,Ic?Ka.select(this).transition().each("start.brush",function(){o=n.i,a=n.j,l=n.x,f=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=wi(l,e.x),r=wi(f,e.y);return o=a=null,function(i){l=e.x=n(i),f=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,d=$c[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,d=$c[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(h=!!e[0],p=!!e[1]):u?h=!!e:c&&(p=!!e),t):u&&c?[h,p]:u?h:c?p:null},t.extent=function(e){var n,r,i,s,h;return arguments.length?(u&&(n=e[0],r=e[1],c&&(n=n[0],r=r[0]),o=[n,r],u.invert&&(n=u(n),r=u(r)),n>r&&(h=n,n=r,r=h),(n!=l[0]||r!=l[1])&&(l=[n,r])),c&&(i=e[0],s=e[1],u&&(i=i[1],s=s[1]),a=[i,s],c.invert&&(i=c(i),s=c(s)),i>s&&(h=i,i=s,s=h),(i!=f[0]||s!=f[1])&&(f=[i,s])),t):(u&&(o?(n=o[0],r=o[1]):(n=l[0],r=l[1],u.invert&&(n=u.invert(n),r=u.invert(r)),n>r&&(h=n,n=r,r=h))),c&&(a?(i=a[0],s=a[1]):(i=f[0],s=f[1],c.invert&&(i=c.invert(i),s=c.invert(s)),i>s&&(h=i,i=s,s=h))),u&&c?[[n,i],[r,s]]:u?[n,r]:c&&[i,s])},t.clear=function(){return t.empty()||(l=[0,0],f=[0,0],o=a=null),t},t.empty=function(){return!!u&&l[0]==l[1]||!!c&&f[0]==f[1]},Ka.rebind(t,s,"on")};var qc={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$c=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Vc=su.format=pu.timeFormat,Hc=Vc.utc,Wc=Hc("%Y-%m-%dT%H:%M:%S.%LZ");Vc.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ya:Wc,Ya.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ya.toString=Wc.toString,su.second=$e(function(t){return new uu(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),su.seconds=su.second.range,su.seconds.utc=su.second.utc.range,su.minute=$e(function(t){return new uu(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),su.minutes=su.minute.range,su.minutes.utc=su.minute.utc.range,su.hour=$e(function(t){var e=t.getTimezoneOffset()/60;return new uu(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),su.hours=su.hour.range,su.hours.utc=su.hour.utc.range,su.month=$e(function(t){return t=su.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),su.months=su.month.range,su.months.utc=su.month.utc.range;var zc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Uc=[[su.second,1],[su.second,5],[su.second,15],[su.second,30],[su.minute,1],[su.minute,5],[su.minute,15],[su.minute,30],[su.hour,1],[su.hour,3],[su.hour,6],[su.hour,12],[su.day,1],[su.day,2],[su.week,1],[su.month,1],[su.month,3],[su.year,1]],Bc=Vc.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Mn]]),Xc={range:function(t,e,n){return Ka.range(Math.ceil(t/n)*n,+e,n).map(Za)},floor:ke,ceil:ke};Uc.year=su.year,su.scale=function(){return Ga(Ka.scale.linear(),Uc,Bc)};var Yc=Uc.map(function(t){return[t[0].utc,t[1]]}),Gc=Hc.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Mn]]);Yc.year=su.year.utc,su.scale.utc=function(){return Ga(Ka.scale.linear(),Yc,Gc)},Ka.text=Me(function(t){return t.responseText}),Ka.json=function(t,e){return Ne(t,"application/json",Ja,e)},Ka.html=function(t,e){return Ne(t,"text/html",Qa,e)},Ka.xml=Me(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(Ka):"object"==typeof e&&e.exports?e.exports=Ka:this.d3=Ka}()},{}],20:[function(t,e){e.exports.Dispatcher=t("./lib/Dispatcher")},{"./lib/Dispatcher":21}],21:[function(t,e){"use strict";function n(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var r=t("./invariant"),i=1,o="ID_";n.prototype.register=function(t){var e=o+i++;return this.$Dispatcher_callbacks[e]=t,e},n.prototype.unregister=function(t){r(this.$Dispatcher_callbacks[t],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",t),delete this.$Dispatcher_callbacks[t]},n.prototype.waitFor=function(t){r(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var e=0;e<t.length;e++){var n=t[e];this.$Dispatcher_isPending[n]?r(this.$Dispatcher_isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(r(this.$Dispatcher_callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this.$Dispatcher_invokeCallback(n))}},n.prototype.dispatch=function(t){r(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(t);try{for(var e in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[e]||this.$Dispatcher_invokeCallback(e)}catch(n){console.error(n.stack)}finally{this.$Dispatcher_stopDispatching()}},n.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},n.prototype.$Dispatcher_invokeCallback=function(t){this.$Dispatcher_isPending[t]=!0,this.$Dispatcher_callbacks[t](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[t]=!0
},n.prototype.$Dispatcher_startDispatching=function(t){for(var e in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[e]=!1,this.$Dispatcher_isHandled[e]=!1;this.$Dispatcher_pendingPayload=t,this.$Dispatcher_isDispatching=!0},n.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},e.exports=n},{"./invariant":22}],22:[function(t,e){"use strict";var n=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;u=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return c[l++]}))}throw u.framesToPop=1,u}};e.exports=n},{}],23:[function(t,e){!function(n,r){"use strict";if("undefined"!=typeof e&&e.exports&&"function"==typeof t)r(t("ractive"));else if("function"==typeof define&&define.amd)define(["ractive"],r);else{if(!n.Ractive)throw new Error("Could not find Ractive! It must be loaded before the ractive-events-tap plugin");r(n.Ractive)}}("undefined"!=typeof window?window:this,function(t){"use strict";var e=function(t,e){var n,r,i,o,a,s,u;return o=5,a=400,n=function(n){var r,i,u,c,l,f,h;s||(void 0===n.which||1===n.which)&&(i=n.clientX,u=n.clientY,r=this,c=n.pointerId,l=function(t){t.pointerId==c&&(e({node:r,original:t}),h())},f=function(t){t.pointerId==c&&(Math.abs(t.clientX-i)>=o||Math.abs(t.clientY-u)>=o)&&h()},h=function(){t.removeEventListener("MSPointerUp",l,!1),document.removeEventListener("MSPointerMove",f,!1),document.removeEventListener("MSPointerCancel",h,!1),t.removeEventListener("pointerup",l,!1),document.removeEventListener("pointermove",f,!1),document.removeEventListener("pointercancel",h,!1),t.removeEventListener("click",l,!1),document.removeEventListener("mousemove",f,!1)},window.navigator.pointerEnabled?(t.addEventListener("pointerup",l,!1),document.addEventListener("pointermove",f,!1),document.addEventListener("pointercancel",h,!1)):window.navigator.msPointerEnabled?(t.addEventListener("MSPointerUp",l,!1),document.addEventListener("MSPointerMove",f,!1),document.addEventListener("MSPointerCancel",h,!1)):(t.addEventListener("click",l,!1),document.addEventListener("mousemove",f,!1)),setTimeout(h,a))},window.navigator.pointerEnabled?t.addEventListener("pointerdown",n,!1):window.navigator.msPointerEnabled?t.addEventListener("MSPointerDown",n,!1):t.addEventListener("mousedown",n,!1),r=function(n){var r,i,c,l,f,h,p,d;1===n.touches.length&&(l=n.touches[0],i=l.clientX,c=l.clientY,r=this,f=l.identifier,p=function(t){var n;n=t.changedTouches[0],n.identifier!==f&&d(),t.preventDefault(),s=!0,clearTimeout(u),u=setTimeout(function(){s=!1},400),e({node:r,original:t}),d()},h=function(t){var e;(1!==t.touches.length||t.touches[0].identifier!==f)&&d(),e=t.touches[0],(Math.abs(e.clientX-i)>=o||Math.abs(e.clientY-c)>=o)&&d()},d=function(){t.removeEventListener("touchend",p,!1),window.removeEventListener("touchmove",h,!1),window.removeEventListener("touchcancel",d,!1)},t.addEventListener("touchend",p,!1),window.addEventListener("touchmove",h,!1),window.addEventListener("touchcancel",d,!1),setTimeout(d,a))},t.addEventListener("touchstart",r,!1),("BUTTON"===t.tagName||"button"===t.type)&&(i=function(){var n,r;r=function(n){32===n.which&&e({node:t,original:n})},n=function(){t.removeEventListener("keydown",r,!1),t.removeEventListener("blur",n,!1)},t.addEventListener("keydown",r,!1),t.addEventListener("blur",n,!1)},t.addEventListener("focus",i,!1)),{teardown:function(){t.removeEventListener("pointerdown",n,!1),t.removeEventListener("MSPointerDown",n,!1),t.removeEventListener("mousedown",n,!1),t.removeEventListener("touchstart",r,!1),t.removeEventListener("focus",i,!1)}}};t.events.tap=e})},{ractive:43}],24:[function(t,e){function n(t){t=t||{},l=o(t),t.start&&(l.start=new Date(t.start)),t.end&&(l.end=new Date(t.end))}var r=t("js-logger"),i=t("underscore").extend,o=t("underscore").clone,a=t("events").EventEmitter,s=t("../dispatcher/dispatcher"),u=t("../constants/constants").Payload,c=t("../constants/constants").ActionTypes,l=(t("../stores/services"),{}),f=i(new a,{getState:function(){return o(l)},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)}});f.dispatchToken=s.register(function(t){var e=t.source,i=t.action;switch(i.type){case c.RECEIVE_INITIAL_STATE:r.debug("Announcer: ",i.type,i.state),n(i.state.announcer),f.emitChange();break;case c.ANNOUNCER:r.debug("Announcer: ",i.type,i.state),e===u.SERVER_ACTION?(r.debug("Announcer: SERVER",i.type,i.state),n(i.state.data),f.emitChange()):(r.debug("Announcer: VIEW ACTION pre",l.isAnnouncing),l.isAnnouncing=!l.isAnnouncing,r.debug("Announcer: VIEW ACTION post",l.isAnnouncing),f.emitChange())}}),e.exports=f},{"../constants/constants":17,"../dispatcher/dispatcher":18,"../stores/services":32,events:38,"js-logger":42,underscore:44}],25:[function(t,e){var n=t("js-logger"),r=t("underscore").extend,i=t("underscore").clone,o=t("events").EventEmitter,a=t("../dispatcher/dispatcher"),s=t("../constants/constants").Payload,u=t("../constants/constants").ActionTypes,c={volume:null},l=r(new o,{getState:function(){return i(c)},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)}});l.dispatchToken=a.register(function(t){var e=t.source,r=t.action;switch(r.type){case u.RECEIVE_INITIAL_STATE:c=r.state.audio,l.emitChange();break;case u.AUDIO:e===s.SERVER_ACTION?(n.debug("Audio: SERVER",r.type,r.state),c=r.state.data):(n.debug("Audio: CHANGE",r.type,r.state),c.volume=r.state.volume),l.emitChange()}}),e.exports=l},{"../constants/constants":17,"../dispatcher/dispatcher":18,events:38,"js-logger":42,underscore:44}],26:[function(t,e){function n(t){l=o(t),t.start&&(l.start=new Date(t.start)),t.end&&(l.end=new Date(t.end))}var r=t("js-logger"),i=t("underscore").extend,o=t("underscore").clone,a=t("events").EventEmitter,s=t("../dispatcher/dispatcher"),u=t("../constants/constants").Payload,c=t("../constants/constants").ActionTypes,l=(t("../stores/services"),{}),f=i(new a,{getState:function(){return o(l)},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)}});f.dispatchToken=s.register(function(t){var e=t.source,i=t.action;switch(i.type){case c.RECEIVE_INITIAL_STATE:r.debug("Avoider: ",i.type,i.state),n(i.state.avoider),f.emitChange();break;case c.AVOIDER:r.debug("Avoider: ",i.type,i.state),e===u.SERVER_ACTION?(r.debug("Avoider: SERVER",i.type,i.state),n(i.state.data),f.emitChange()):(r.debug("Avoider: VIEW ACTION pre",l.isAvoiding),l.isAvoiding=!l.isAvoiding,r.debug("Avoider: VIEW ACTION post",l.isAvoiding),f.emitChange());break;case c.RECEIVE_AVOIDER_SETTINGS:r.debug("Avoider Settings: ",i.type,i.state),e===u.SERVER_ACTION&&(r.debug("Avoider: SERVER",i.type,i.state),l.settings=o(i.state),f.emitChange());break;case c.SETTINGS:e===u.SERVER_ACTION&&"settings.avoider"===i.state.topic&&(r.debug("Avoider: SERVER",i.type,i.state),l.settings=o(i.state.data),f.emitChange())}}),e.exports=f},{"../constants/constants":17,"../dispatcher/dispatcher":18,"../stores/services":32,events:38,"js-logger":42,underscore:44}],27:[function(t,e){var n=t("js-logger"),r=t("underscore").extend,i=(t("underscore").clone,t("events").EventEmitter),o=t("../dispatcher/dispatcher"),a=t("../constants/constants").Payload,s=t("../constants/constants").ActionTypes,u=t("../stores/services"),c=null,l=r(new i,{getCurrentId:function(){return c},getCurrent:function(){return u.getService(c)},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)}});l.dispatchToken=o.register(function(t){var e=t.source,r=t.action;switch(r.type){case s.RECEIVE_INITIAL_STATE:n.debug("CurrentService: ",r.type,r.state),c=r.state.current?r.state.current.id:null,l.emitChange();break;case s.SERVICE:n.debug("CurrentService: ",r.type,r.state),e===a.SERVER_ACTION&&"service.changed"===r.state.topic?(n.debug("CurrentService: SERVER",r.type,r.state),c=r.state.data?r.state.data.id:null):n.debug("CurrentService: CHANGE",r.type,r.state),l.emitChange()}}),e.exports=l},{"../constants/constants":17,"../dispatcher/dispatcher":18,"../stores/services":32,events:38,"js-logger":42,underscore:44}],28:[function(t,e){function n(t,e){r.debug("NowAndNext update",t,e),f[t]=e}var r=t("js-logger"),i=t("underscore").extend,o=t("underscore").clone,a=t("events").EventEmitter,s=t("../dispatcher/dispatcher"),u=t("../stores/current-service"),c=t("../constants/constants").Payload,l=t("../constants/constants").ActionTypes,f={},h=i(new a,{get:function(t){return f[t]?o(f[t]):void 0},emitChange:function(t){this.emit("change",t)},addChangeListener:function(t){this.on("change",t)}});h.dispatchToken=s.register(function(t){var e=t.source,i=t.action;switch(i.type){case l.RECEIVE_INITIAL_STATE:s.waitFor([u.dispatchToken]),r.debug("NowAndNext",i.type,i.state),i.state.current&&i.state.current.nowAndNext&&(n(i.state.current.id,i.state.current.nowAndNext),h.emitChange(i.state.current.id));break;case l.SERVICE:r.debug("NowAndNext: ",i.type,i.state),e===c.SERVER_ACTION&&(s.waitFor([u.dispatchToken]),r.debug("NowAndNext: SERVER",i.type,i.state),i.state.data&&i.state.data.nowAndNext&&(n(i.state.data.id,i.state.data.nowAndNext),h.emitChange(i.state.data.id)));break;case l.NOW_AND_NEXT:r.debug("NowAndNext: ",i.type,i.state),e===c.SERVER_ACTION&&(r.debug("NowAndNext: SERVER",i.type,i.state),i.state.service&&i.state.data&&(n(i.state.service,i.state.data),h.emitChange(i.state.service)))}}),e.exports=h},{"../constants/constants":17,"../dispatcher/dispatcher":18,"../stores/current-service":27,events:38,"js-logger":42,underscore:44}],29:[function(t,e){function n(t,e){r.debug("NowPlaying update",t,e),f[t]=e}var r=t("js-logger"),i=t("underscore").extend,o=t("underscore").clone,a=t("events").EventEmitter,s=t("../dispatcher/dispatcher"),u=t("../stores/current-service"),c=t("../constants/constants").Payload,l=t("../constants/constants").ActionTypes,f={},h=i(new a,{get:function(t){return f[t]?o(f[t]):void 0},emitChange:function(t){this.emit("change",t)},addChangeListener:function(t){this.on("change",t)}});h.dispatchToken=s.register(function(t){var e=t.source,i=t.action;switch(i.type){case l.RECEIVE_INITIAL_STATE:s.waitFor([u.dispatchToken]),r.debug("NowPlaying",i.type,i.state),i.state.current&&i.state.current.nowPlaying&&(n(i.state.current.id,i.state.current.nowPlaying),h.emitChange(i.state.current.id));break;case l.SERVICE:r.debug("NowPlaying: ",i.type,i.state),e===c.SERVER_ACTION&&"service.changed"===i.state.topic&&(s.waitFor([u.dispatchToken]),r.debug("NowPlaying: SERVER",i.type,i.state),i.state.data&&i.state.data.nowPlaying&&(n(i.state.data.id,i.state.data.nowPlaying),h.emitChange(i.state.data.id)));break;case l.NOW_PLAYING:r.debug("NowPlaying: ",i.type,i.state),e===c.SERVER_ACTION&&(r.debug("NowPlaying: SERVER",i.type,i.state),i.state.service&&i.state.data&&(n(i.state.service,i.state.data),h.emitChange(i.state.service)))}}),e.exports=h},{"../constants/constants":17,"../dispatcher/dispatcher":18,"../stores/current-service":27,events:38,"js-logger":42,underscore:44}],30:[function(t,e){var n=t("js-logger"),r=t("underscore").extend,i=t("underscore").clone,o=t("events").EventEmitter,a=t("../dispatcher/dispatcher"),s=t("../constants/constants").ActionTypes,u=t("../constants/constants").Payload,c={isOn:null},l=r(new o,{getState:function(){return i(c)},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)}});l.dispatchToken=a.register(function(t){var e=t.source,r=t.action;switch(r.type){case s.RECEIVE_INITIAL_STATE:n.debug("Power: RECEIVE_INITIAL_STATE",r.type,r.state.power),c=r.state.power,l.emitChange();break;case s.POWER:e===u.SERVER_ACTION?(n.debug("Power: SERVER",r.type,r.state.data),c=r.state.data):c.isOn=!c.isOn,l.emitChange()}}),e.exports=l},{"../constants/constants":17,"../dispatcher/dispatcher":18,events:38,"js-logger":42,underscore:44}],31:[function(t,e){var n=t("js-logger"),r=t("underscore").extend,i=t("underscore").clone,o=t("underscore").without,a=t("events").EventEmitter,s=t("../dispatcher/dispatcher"),u=t("../constants/constants").Payload,c=t("../constants/constants").ActionTypes,l=(t("../stores/services"),{}),f=r(new a,{togglePreferredService:function(t){l.preferredServices&&l.preferredServices.indexOf(t)>-1?l.preferredServices=o(l.preferredServices,t):l.preferredServices.push(t)},getState:function(){return i(l)},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)}});f.dispatchToken=s.register(function(t){var e=t.source,r=t.action;switch(r.type){case c.RECEIVE_RADIO_SETTINGS:n.debug("Radio Settings: ",r.type,r.state),e===u.SERVER_ACTION&&(n.debug("Radio Settings: SERVER",r.type,r.state),l=i(r.state),f.emitChange());break;case c.SETTINGS:e===u.SERVER_ACTION&&"settings.radio"===r.state.topic&&(n.debug("Radio Settings: SERVER",r.type,r.state),l=i(r.state.data),f.emitChange())}}),e.exports=f},{"../constants/constants":17,"../dispatcher/dispatcher":18,"../stores/services":32,events:38,"js-logger":42,underscore:44}],32:[function(t,e){function n(t){t.id&&(c[t.id]=t)}var r=t("js-logger"),i=t("underscore").extend,o=t("underscore").clone,a=t("events").EventEmitter,s=t("../dispatcher/dispatcher"),u=t("../constants/constants").ActionTypes,c={},l=i(new a,{getAllServicesAsArray:function(){return Object.keys(c).map(l.getService)},getAllServices:function(){return o(c)},getService:function(t){return c[t]?o(c[t]):void 0},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)}});l.dispatchToken=s.register(function(t){var e=t.action;switch(e.type){case u.RECEIVE_INITIAL_STATE:r.debug("Services",e.type,e.state.services),e.state.services.forEach(n),l.emitChange()}}),e.exports=l},{"../constants/constants":17,"../dispatcher/dispatcher":18,events:38,"js-logger":42,underscore:44}],33:[function(t,e){"use strict";var n=t("underscore"),r=t("js-logger");e.exports={merge:n.extend,clone:n.clone,hasDifferentProperties:function(t,e){return Object.keys(t).some(function(n){var r=t[n],i=e[n];return r!==i})},success:function(t){return function(e){r.debug(t,"success",e)}},failure:function(t){return function(e){r.warn(t,"failure",e.stack)}},createPanelToggleHandler:function(t){var e="ui.panels."+t+".isOpen";return function(){var t=this.get(e);this.set(e,!t)}},debounce:function(t,e){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(r,i)},e)}},throttle:function(t,e,n){e=e||(e=250);var r,i;return function(){var o=n||this,a=+new Date,s=arguments;r&&r+e>a?(clearTimeout(i),i=setTimeout(function(){r=a,t.apply(o,s)},e)):(r=a,t.apply(o,s))}}}},{"js-logger":42,underscore:44}],34:[function(t,e){var n=t("../actions/server-action-creators"),r=t("../xhr");e.exports={getInitialState:function(){return r.get("/radio/state.json").then(function(t){try{var e=JSON.parse(t)}catch(r){}return n.receiveInitialState(e),e})},connectEventStream:function(){var t=new EventSource("/events");t.addEventListener("message",function(t){var e=JSON.parse(t.data);n.receiveStateUpdate(e)})}}},{"../actions/server-action-creators":2,"../xhr":36}],35:[function(t,e){var n=t("js-logger"),r=t("ractive"),i=t("es6-promise").Promise,o=t("./utils").throttle,a=t("jquery");t("./lib/ractive-events-tap"),window.jQuery=a,t("../lib/owl-carousel/owl.carousel");var s,u=t("./actions/state-action-creators");e.exports={init:function(){var e=document.querySelector("[data-ui-container]"),c=document.querySelector("[data-ui-template]#mainTmpl").innerText;return new i(function(i){s=new r({el:e,template:c,debug:!0,twoway:!1,data:{mainView:"controls"},complete:function(){this.on({power:function(t){t.original.preventDefault(),u.togglePower()},"volume-slider-changed":o(function(t){var e=t.node.value;u.changeVolume(e)},1e3),"tune-service":function(t){u.changeService(t)},avoid:function(){u.toggleAvoider()},"avoider-settings-requested":function(){u.requestAvoiderSettings()},"avoider-settings-changed":function(t){u.avoiderSettings(t)},announce:function(){u.toggleAnnouncer()},"settings-panel-requested":function(){n.debug("settings-panel-requested"),u.requestRadioSettings(),this.set("mainView","settings"===this.get("mainView")?"controls":"settings")},"preferred-service-changed":function(t){n.debug("preferred-service-changed",t),u.toggleRadioSettingPreferredServer(t)}});a("#magic ul").owlCarousel();n.debug("splashStartTime - now = %oms",Date.now()-splashStartTime),i()},components:{Standby:t("./components/simple")("#standbyTmpl"),Controls:t("./components/controls"),RadioSettings:t("./components/simple")("#settingsTmpl"),Masthead:t("./components/simple")("#mastheadTmpl")}})})},set:function(t,e){n.debug("VIEW ",t,e),s.set(t,e)}}},{"../lib/owl-carousel/owl.carousel":37,"./actions/state-action-creators":3,"./components/controls":13,"./components/simple":16,"./lib/ractive-events-tap":23,"./utils":33,"es6-promise":40,jquery:41,"js-logger":42,ractive:43}],36:[function(t,e){"use strict";function n(t,e,n){return n=n||{},t=t?t.toUpperCase():"GET",new r(function(r,i){var o=new XMLHttpRequest;o.open(t,e),n.headers&&Object.keys(n.headers).forEach(function(t){o.setRequestHeader(t,n.headers[t])}),o.onload=function(){200===o.status?r(o.response):i(new Error(o.statusText))},o.onerror=function(){i(new Error("Network Error"))},o.send(n.data)})}var r=r||t("es6-promise").Promise;e.exports=n,["get","delete","post","put"].forEach(function(t){e.exports[t]=function(){var e=Array.prototype.slice.call(arguments),r=[t].concat(e);return n.apply(null,r)}})},{"es6-promise":40}],37:[function(){"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,n){var r={init:function(e,n){var r=this;r.$elem=t(n),r.options=t.extend({},t.fn.owlCarousel.options,r.$elem.data(),e),r.userOptions=e,r.loadContent()},loadContent:function(){function e(t){var e,n="";if("function"==typeof r.options.jsonSuccess)r.options.jsonSuccess.apply(this,[t]);else{for(e in t.owl)t.owl.hasOwnProperty(e)&&(n+=t.owl[e].item);r.$elem.html(n)}r.logIn()}var n,r=this;"function"==typeof r.options.beforeInit&&r.options.beforeInit.apply(this,[r.$elem]),"string"==typeof r.options.jsonPath?(n=r.options.jsonPath,t.getJSON(n,e)):r.logIn()},logIn:function(){var t=this;t.$elem.data("owl-originalStyles",t.$elem.attr("style")).data("owl-originalClasses",t.$elem.attr("class")),t.$elem.css({opacity:0}),t.orignalItems=t.options.items,t.checkBrowser(),t.wrapperWidth=0,t.checkVisible=null,t.setVars()},setVars:function(){var t=this;return 0===t.$elem.children().length?!1:(t.baseClass(),t.eventTypes(),t.$userItems=t.$elem.children(),t.itemsAmount=t.$userItems.length,t.wrapItems(),t.$owlItems=t.$elem.find(".owl-item"),t.$owlWrapper=t.$elem.find(".owl-wrapper"),t.playDirection="next",t.prevItem=0,t.prevArr=[0],t.currentItem=0,t.customEvents(),void t.onStartup())},onStartup:function(){var t=this;t.updateItems(),t.calculateAll(),t.buildControls(),t.updateControls(),t.response(),t.moveEvents(),t.stopOnHover(),t.owlStatus(),t.options.transitionStyle!==!1&&t.transitionTypes(t.options.transitionStyle),t.options.autoPlay===!0&&(t.options.autoPlay=5e3),t.play(),t.$elem.find(".owl-wrapper").css("display","block"),t.$elem.is(":visible")?t.$elem.css("opacity",1):t.watchVisibility(),t.onstartup=!1,t.eachMoveUpdate(),"function"==typeof t.options.afterInit&&t.options.afterInit.apply(this,[t.$elem])},eachMoveUpdate:function(){var t=this;t.options.lazyLoad===!0&&t.lazyLoad(),t.options.autoHeight===!0&&t.autoHeight(),t.onVisibleItems(),"function"==typeof t.options.afterAction&&t.options.afterAction.apply(this,[t.$elem])},updateVars:function(){var t=this;"function"==typeof t.options.beforeUpdate&&t.options.beforeUpdate.apply(this,[t.$elem]),t.watchVisibility(),t.updateItems(),t.calculateAll(),t.updatePosition(),t.updateControls(),t.eachMoveUpdate(),"function"==typeof t.options.afterUpdate&&t.options.afterUpdate.apply(this,[t.$elem])},reload:function(){var t=this;e.setTimeout(function(){t.updateVars()},0)},watchVisibility:function(){var t=this;return t.$elem.is(":visible")!==!1?!1:(t.$elem.css({opacity:0}),e.clearInterval(t.autoPlayInterval),e.clearInterval(t.checkVisible),void(t.checkVisible=e.setInterval(function(){t.$elem.is(":visible")&&(t.reload(),t.$elem.animate({opacity:1},200),e.clearInterval(t.checkVisible))},500)))},wrapItems:function(){var t=this;t.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'),t.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'),t.wrapperOuter=t.$elem.find(".owl-wrapper-outer"),t.$elem.css("display","block")},baseClass:function(){var t=this,e=t.$elem.hasClass(t.options.baseClass),n=t.$elem.hasClass(t.options.theme);e||t.$elem.addClass(t.options.baseClass),n||t.$elem.addClass(t.options.theme)},updateItems:function(){var e,n,r=this;if(r.options.responsive===!1)return!1;if(r.options.singleItem===!0)return r.options.items=r.orignalItems=1,r.options.itemsCustom=!1,r.options.itemsDesktop=!1,r.options.itemsDesktopSmall=!1,r.options.itemsTablet=!1,r.options.itemsTabletSmall=!1,r.options.itemsMobile=!1,!1;if(e=t(r.options.responsiveBaseWidth).width(),e>(r.options.itemsDesktop[0]||r.orignalItems)&&(r.options.items=r.orignalItems),r.options.itemsCustom!==!1)for(r.options.itemsCustom.sort(function(t,e){return t[0]-e[0]}),n=0;n<r.options.itemsCustom.length;n+=1)r.options.itemsCustom[n][0]<=e&&(r.options.items=r.options.itemsCustom[n][1]);else e<=r.options.itemsDesktop[0]&&r.options.itemsDesktop!==!1&&(r.options.items=r.options.itemsDesktop[1]),e<=r.options.itemsDesktopSmall[0]&&r.options.itemsDesktopSmall!==!1&&(r.options.items=r.options.itemsDesktopSmall[1]),e<=r.options.itemsTablet[0]&&r.options.itemsTablet!==!1&&(r.options.items=r.options.itemsTablet[1]),e<=r.options.itemsTabletSmall[0]&&r.options.itemsTabletSmall!==!1&&(r.options.items=r.options.itemsTabletSmall[1]),e<=r.options.itemsMobile[0]&&r.options.itemsMobile!==!1&&(r.options.items=r.options.itemsMobile[1]);r.options.items>r.itemsAmount&&r.options.itemsScaleUp===!0&&(r.options.items=r.itemsAmount)},response:function(){var n,r,i=this;return i.options.responsive!==!0?!1:(r=t(e).width(),i.resizer=function(){t(e).width()!==r&&(i.options.autoPlay!==!1&&e.clearInterval(i.autoPlayInterval),e.clearTimeout(n),n=e.setTimeout(function(){r=t(e).width(),i.updateVars()},i.options.responsiveRefreshRate))},void t(e).resize(i.resizer))},updatePosition:function(){var t=this;t.jumpTo(t.currentItem),t.options.autoPlay!==!1&&t.checkAp()},appendItemsSizes:function(){var e=this,n=0,r=e.itemsAmount-e.options.items;e.$owlItems.each(function(i){var o=t(this);o.css({width:e.itemWidth}).data("owl-item",Number(i)),(i%e.options.items===0||i===r)&&(i>r||(n+=1)),o.data("owl-roundPages",n)})},appendWrapperSizes:function(){var t=this,e=t.$owlItems.length*t.itemWidth;t.$owlWrapper.css({width:2*e,left:0}),t.appendItemsSizes()},calculateAll:function(){var t=this;t.calculateWidth(),t.appendWrapperSizes(),t.loops(),t.max()},calculateWidth:function(){var t=this;t.itemWidth=Math.round(t.$elem.width()/t.options.items)},max:function(){var t=this,e=-1*(t.itemsAmount*t.itemWidth-t.options.items*t.itemWidth);return t.options.items>t.itemsAmount?(t.maximumItem=0,e=0,t.maximumPixels=0):(t.maximumItem=t.itemsAmount-t.options.items,t.maximumPixels=e),e},min:function(){return 0},loops:function(){var e,n,r,i=this,o=0,a=0;for(i.positionsInArray=[0],i.pagesInArray=[],e=0;e<i.itemsAmount;e+=1)a+=i.itemWidth,i.positionsInArray.push(-a),i.options.scrollPerPage===!0&&(n=t(i.$owlItems[e]),r=n.data("owl-roundPages"),r!==o&&(i.pagesInArray[o]=i.positionsInArray[e],o=r))},buildControls:function(){var e=this;(e.options.navigation===!0||e.options.pagination===!0)&&(e.owlControls=t('<div class="owl-controls"/>').toggleClass("clickable",!e.browser.isTouch).appendTo(e.$elem)),e.options.pagination===!0&&e.buildPagination(),e.options.navigation===!0&&e.buildButtons()},buildButtons:function(){var e=this,n=t('<div class="owl-buttons"/>');e.owlControls.append(n),e.buttonPrev=t("<div/>",{"class":"owl-prev",html:e.options.navigationText[0]||""}),e.buttonNext=t("<div/>",{"class":"owl-next",html:e.options.navigationText[1]||""}),n.append(e.buttonPrev).append(e.buttonNext),n.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(t){t.preventDefault()}),n.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(n){n.preventDefault(),t(this).hasClass("owl-next")?e.next():e.prev()})},buildPagination:function(){var e=this;e.paginationWrapper=t('<div class="owl-pagination"/>'),e.owlControls.append(e.paginationWrapper),e.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(n){n.preventDefault(),Number(t(this).data("owl-page"))!==e.currentItem&&e.goTo(Number(t(this).data("owl-page")),!0)})},updatePagination:function(){var e,n,r,i,o,a,s=this;if(s.options.pagination===!1)return!1;for(s.paginationWrapper.html(""),e=0,n=s.itemsAmount-s.itemsAmount%s.options.items,i=0;i<s.itemsAmount;i+=1)i%s.options.items===0&&(e+=1,n===i&&(r=s.itemsAmount-s.options.items),o=t("<div/>",{"class":"owl-page"}),a=t("<span></span>",{text:s.options.paginationNumbers===!0?e:"","class":s.options.paginationNumbers===!0?"owl-numbers":""}),o.append(a),o.data("owl-page",n===i?r:i),o.data("owl-roundPages",e),s.paginationWrapper.append(o));s.checkPagination()},checkPagination:function(){var e=this;return e.options.pagination===!1?!1:void e.paginationWrapper.find(".owl-page").each(function(){t(this).data("owl-roundPages")===t(e.$owlItems[e.currentItem]).data("owl-roundPages")&&(e.paginationWrapper.find(".owl-page").removeClass("active"),t(this).addClass("active"))})},checkNavigation:function(){var t=this;return t.options.navigation===!1?!1:void(t.options.rewindNav===!1&&(0===t.currentItem&&0===t.maximumItem?(t.buttonPrev.addClass("disabled"),t.buttonNext.addClass("disabled")):0===t.currentItem&&0!==t.maximumItem?(t.buttonPrev.addClass("disabled"),t.buttonNext.removeClass("disabled")):t.currentItem===t.maximumItem?(t.buttonPrev.removeClass("disabled"),t.buttonNext.addClass("disabled")):0!==t.currentItem&&t.currentItem!==t.maximumItem&&(t.buttonPrev.removeClass("disabled"),t.buttonNext.removeClass("disabled"))))},updateControls:function(){var t=this;t.updatePagination(),t.checkNavigation(),t.owlControls&&(t.options.items>=t.itemsAmount?t.owlControls.hide():t.owlControls.show())},destroyControls:function(){var t=this;t.owlControls&&t.owlControls.remove()},next:function(t){var e=this;if(e.isTransition)return!1;if(e.currentItem+=e.options.scrollPerPage===!0?e.options.items:1,e.currentItem>e.maximumItem+(e.options.scrollPerPage===!0?e.options.items-1:0)){if(e.options.rewindNav!==!0)return e.currentItem=e.maximumItem,!1;e.currentItem=0,t="rewind"}e.goTo(e.currentItem,t)},prev:function(t){var e=this;if(e.isTransition)return!1;if(e.options.scrollPerPage===!0&&e.currentItem>0&&e.currentItem<e.options.items?e.currentItem=0:e.currentItem-=e.options.scrollPerPage===!0?e.options.items:1,e.currentItem<0){if(e.options.rewindNav!==!0)return e.currentItem=0,!1;e.currentItem=e.maximumItem,t="rewind"}e.goTo(e.currentItem,t)},goTo:function(t,n,r){var i,o=this;return o.isTransition?!1:("function"==typeof o.options.beforeMove&&o.options.beforeMove.apply(this,[o.$elem]),t>=o.maximumItem?t=o.maximumItem:0>=t&&(t=0),o.currentItem=o.owl.currentItem=t,o.options.transitionStyle!==!1&&"drag"!==r&&1===o.options.items&&o.browser.support3d===!0?(o.swapSpeed(0),o.browser.support3d===!0?o.transition3d(o.positionsInArray[t]):o.css2slide(o.positionsInArray[t],1),o.afterGo(),o.singleItemTransition(),!1):(i=o.positionsInArray[t],o.browser.support3d===!0?(o.isCss3Finish=!1,n===!0?(o.swapSpeed("paginationSpeed"),e.setTimeout(function(){o.isCss3Finish=!0},o.options.paginationSpeed)):"rewind"===n?(o.swapSpeed(o.options.rewindSpeed),e.setTimeout(function(){o.isCss3Finish=!0},o.options.rewindSpeed)):(o.swapSpeed("slideSpeed"),e.setTimeout(function(){o.isCss3Finish=!0},o.options.slideSpeed)),o.transition3d(i)):n===!0?o.css2slide(i,o.options.paginationSpeed):"rewind"===n?o.css2slide(i,o.options.rewindSpeed):o.css2slide(i,o.options.slideSpeed),void o.afterGo()))},jumpTo:function(t){var e=this;"function"==typeof e.options.beforeMove&&e.options.beforeMove.apply(this,[e.$elem]),t>=e.maximumItem||-1===t?t=e.maximumItem:0>=t&&(t=0),e.swapSpeed(0),e.browser.support3d===!0?e.transition3d(e.positionsInArray[t]):e.css2slide(e.positionsInArray[t],1),e.currentItem=e.owl.currentItem=t,e.afterGo()},afterGo:function(){var t=this;t.prevArr.push(t.currentItem),t.prevItem=t.owl.prevItem=t.prevArr[t.prevArr.length-2],t.prevArr.shift(0),t.prevItem!==t.currentItem&&(t.checkPagination(),t.checkNavigation(),t.eachMoveUpdate(),t.options.autoPlay!==!1&&t.checkAp()),"function"==typeof t.options.afterMove&&t.prevItem!==t.currentItem&&t.options.afterMove.apply(this,[t.$elem])},stop:function(){var t=this;t.apStatus="stop",e.clearInterval(t.autoPlayInterval)},checkAp:function(){var t=this;"stop"!==t.apStatus&&t.play()},play:function(){var t=this;return t.apStatus="play",t.options.autoPlay===!1?!1:(e.clearInterval(t.autoPlayInterval),void(t.autoPlayInterval=e.setInterval(function(){t.next(!0)},t.options.autoPlay)))},swapSpeed:function(t){var e=this;"slideSpeed"===t?e.$owlWrapper.css(e.addCssSpeed(e.options.slideSpeed)):"paginationSpeed"===t?e.$owlWrapper.css(e.addCssSpeed(e.options.paginationSpeed)):"string"!=typeof t&&e.$owlWrapper.css(e.addCssSpeed(t))},addCssSpeed:function(t){return{"-webkit-transition":"all "+t+"ms ease","-moz-transition":"all "+t+"ms ease","-o-transition":"all "+t+"ms ease",transition:"all "+t+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(t){return{"-webkit-transform":"translate3d("+t+"px, 0px, 0px)","-moz-transform":"translate3d("+t+"px, 0px, 0px)","-o-transform":"translate3d("+t+"px, 0px, 0px)","-ms-transform":"translate3d("+t+"px, 0px, 0px)",transform:"translate3d("+t+"px, 0px,0px)"}},transition3d:function(t){var e=this;e.$owlWrapper.css(e.doTranslate(t))},css2move:function(t){var e=this;e.$owlWrapper.css({left:t})},css2slide:function(t,e){var n=this;n.isCssFinish=!1,n.$owlWrapper.stop(!0,!0).animate({left:t},{duration:e||n.options.slideSpeed,complete:function(){n.isCssFinish=!0}})},checkBrowser:function(){var t,r,i,o,a=this,s="translate3d(0px, 0px, 0px)",u=n.createElement("div");u.style.cssText="  -moz-transform:"+s+"; -ms-transform:"+s+"; -o-transform:"+s+"; -webkit-transform:"+s+"; transform:"+s,t=/translate3d\(0px, 0px, 0px\)/g,r=u.style.cssText.match(t),i=null!==r&&1===r.length,o="ontouchstart"in e||e.navigator.msMaxTouchPoints,a.browser={support3d:i,isTouch:o}},moveEvents:function(){var t=this;(t.options.mouseDrag!==!1||t.options.touchDrag!==!1)&&(t.gestures(),t.disabledEvents())},eventTypes:function(){var t=this,e=["s","e","x"];t.ev_types={},t.options.mouseDrag===!0&&t.options.touchDrag===!0?e=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:t.options.mouseDrag===!1&&t.options.touchDrag===!0?e=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:t.options.mouseDrag===!0&&t.options.touchDrag===!1&&(e=["mousedown.owl","mousemove.owl","mouseup.owl"]),t.ev_types.start=e[0],t.ev_types.move=e[1],t.ev_types.end=e[2]},disabledEvents:function(){var e=this;e.$elem.on("dragstart.owl",function(t){t.preventDefault()}),e.$elem.on("mousedown.disableTextSelect",function(e){return t(e.target).is("input, textarea, select, option")})},gestures:function(){function r(t){if(void 0!==t.touches)return{x:t.touches[0].pageX,y:t.touches[0].pageY};if(void 0===t.touches){if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY};if(void 0===t.pageX)return{x:t.clientX,y:t.clientY}}}function i(e){"on"===e?(t(n).on(u.ev_types.move,a),t(n).on(u.ev_types.end,s)):"off"===e&&(t(n).off(u.ev_types.move),t(n).off(u.ev_types.end))}function o(n){var o,a=n.originalEvent||n||e.event;
if(3===a.which)return!1;if(!(u.itemsAmount<=u.options.items)){if(u.isCssFinish===!1&&!u.options.dragBeforeAnimFinish)return!1;if(u.isCss3Finish===!1&&!u.options.dragBeforeAnimFinish)return!1;u.options.autoPlay!==!1&&e.clearInterval(u.autoPlayInterval),u.browser.isTouch===!0||u.$owlWrapper.hasClass("grabbing")||u.$owlWrapper.addClass("grabbing"),u.newPosX=0,u.newRelativeX=0,t(this).css(u.removeTransition()),o=t(this).position(),c.relativePos=o.left,c.offsetX=r(a).x-o.left,c.offsetY=r(a).y-o.top,i("on"),c.sliding=!1,c.targetElement=a.target||a.srcElement}}function a(i){var o,a,s=i.originalEvent||i||e.event;u.newPosX=r(s).x-c.offsetX,u.newPosY=r(s).y-c.offsetY,u.newRelativeX=u.newPosX-c.relativePos,"function"==typeof u.options.startDragging&&c.dragging!==!0&&0!==u.newRelativeX&&(c.dragging=!0,u.options.startDragging.apply(u,[u.$elem])),(u.newRelativeX>8||u.newRelativeX<-8)&&u.browser.isTouch===!0&&(void 0!==s.preventDefault?s.preventDefault():s.returnValue=!1,c.sliding=!0),(u.newPosY>10||u.newPosY<-10)&&c.sliding===!1&&t(n).off("touchmove.owl"),o=function(){return u.newRelativeX/5},a=function(){return u.maximumPixels+u.newRelativeX/5},u.newPosX=Math.max(Math.min(u.newPosX,o()),a()),u.browser.support3d===!0?u.transition3d(u.newPosX):u.css2move(u.newPosX)}function s(n){var r,o,a,s=n.originalEvent||n||e.event;s.target=s.target||s.srcElement,c.dragging=!1,u.browser.isTouch!==!0&&u.$owlWrapper.removeClass("grabbing"),u.dragDirection=u.owl.dragDirection=u.newRelativeX<0?"left":"right",0!==u.newRelativeX&&(r=u.getNewPosition(),u.goTo(r,!1,"drag"),c.targetElement===s.target&&u.browser.isTouch!==!0&&(t(s.target).on("click.disable",function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t(e.target).off("click.disable")}),o=t._data(s.target,"events").click,a=o.pop(),o.splice(0,0,a))),i("off")}var u=this,c={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};u.isCssFinish=!0,u.$elem.on(u.ev_types.start,".owl-wrapper",o)},getNewPosition:function(){var t=this,e=t.closestItem();return e>t.maximumItem?(t.currentItem=t.maximumItem,e=t.maximumItem):t.newPosX>=0&&(e=0,t.currentItem=0),e},closestItem:function(){var e=this,n=e.options.scrollPerPage===!0?e.pagesInArray:e.positionsInArray,r=e.newPosX,i=null;return t.each(n,function(o,a){r-e.itemWidth/20>n[o+1]&&r-e.itemWidth/20<a&&"left"===e.moveDirection()?(i=a,e.currentItem=e.options.scrollPerPage===!0?t.inArray(i,e.positionsInArray):o):r+e.itemWidth/20<a&&r+e.itemWidth/20>(n[o+1]||n[o]-e.itemWidth)&&"right"===e.moveDirection()&&(e.options.scrollPerPage===!0?(i=n[o+1]||n[n.length-1],e.currentItem=t.inArray(i,e.positionsInArray)):(i=n[o+1],e.currentItem=o+1))}),e.currentItem},moveDirection:function(){var t,e=this;return e.newRelativeX<0?(t="right",e.playDirection="next"):(t="left",e.playDirection="prev"),t},customEvents:function(){var t=this;t.$elem.on("owl.next",function(){t.next()}),t.$elem.on("owl.prev",function(){t.prev()}),t.$elem.on("owl.play",function(e,n){t.options.autoPlay=n,t.play(),t.hoverStatus="play"}),t.$elem.on("owl.stop",function(){t.stop(),t.hoverStatus="stop"}),t.$elem.on("owl.goTo",function(e,n){t.goTo(n)}),t.$elem.on("owl.jumpTo",function(e,n){t.jumpTo(n)})},stopOnHover:function(){var t=this;t.options.stopOnHover===!0&&t.browser.isTouch!==!0&&t.options.autoPlay!==!1&&(t.$elem.on("mouseover",function(){t.stop()}),t.$elem.on("mouseout",function(){"stop"!==t.hoverStatus&&t.play()}))},lazyLoad:function(){var e,n,r,i,o,a=this;if(a.options.lazyLoad===!1)return!1;for(e=0;e<a.itemsAmount;e+=1)n=t(a.$owlItems[e]),"loaded"!==n.data("owl-loaded")&&(r=n.data("owl-item"),i=n.find(".lazyOwl"),"string"==typeof i.data("src")?(void 0===n.data("owl-loaded")&&(i.hide(),n.addClass("loading").data("owl-loaded","checked")),o=a.options.lazyFollow===!0?r>=a.currentItem:!0,o&&r<a.currentItem+a.options.items&&i.length&&a.lazyPreload(n,i)):n.data("owl-loaded","loaded"))},lazyPreload:function(t,n){function r(){t.data("owl-loaded","loaded").removeClass("loading"),n.removeAttr("data-src"),"fade"===a.options.lazyEffect?n.fadeIn(400):n.show(),"function"==typeof a.options.afterLazyLoad&&a.options.afterLazyLoad.apply(this,[a.$elem])}function i(){s+=1,a.completeImg(n.get(0))||o===!0?r():100>=s?e.setTimeout(i,100):r()}var o,a=this,s=0;"DIV"===n.prop("tagName")?(n.css("background-image","url("+n.data("src")+")"),o=!0):n[0].src=n.data("src"),i()},autoHeight:function(){function n(){var n=t(o.$owlItems[o.currentItem]).height();o.wrapperOuter.css("height",n+"px"),o.wrapperOuter.hasClass("autoHeight")||e.setTimeout(function(){o.wrapperOuter.addClass("autoHeight")},0)}function r(){i+=1,o.completeImg(a.get(0))?n():100>=i?e.setTimeout(r,100):o.wrapperOuter.css("height","")}var i,o=this,a=t(o.$owlItems[o.currentItem]).find("img");void 0!==a.get(0)?(i=0,r()):n()},completeImg:function(t){var e;return t.complete?(e=typeof t.naturalWidth,"undefined"!==e&&0===t.naturalWidth?!1:!0):!1},onVisibleItems:function(){var e,n=this;for(n.options.addClassActive===!0&&n.$owlItems.removeClass("active"),n.visibleItems=[],e=n.currentItem;e<n.currentItem+n.options.items;e+=1)n.visibleItems.push(e),n.options.addClassActive===!0&&t(n.$owlItems[e]).addClass("active");n.owl.visibleItems=n.visibleItems},transitionTypes:function(t){var e=this;e.outClass="owl-"+t+"-out",e.inClass="owl-"+t+"-in"},singleItemTransition:function(){function t(t){return{position:"relative",left:t+"px"}}var e=this,n=e.outClass,r=e.inClass,i=e.$owlItems.eq(e.currentItem),o=e.$owlItems.eq(e.prevItem),a=Math.abs(e.positionsInArray[e.currentItem])+e.positionsInArray[e.prevItem],s=Math.abs(e.positionsInArray[e.currentItem])+e.itemWidth/2,u="webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend";e.isTransition=!0,e.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":s+"px","-moz-perspective-origin":s+"px","perspective-origin":s+"px"}),o.css(t(a,10)).addClass(n).on(u,function(){e.endPrev=!0,o.off(u),e.clearTransStyle(o,n)}),i.addClass(r).on(u,function(){e.endCurrent=!0,i.off(u),e.clearTransStyle(i,r)})},clearTransStyle:function(t,e){var n=this;t.css({position:"",left:""}).removeClass(e),n.endPrev&&n.endCurrent&&(n.$owlWrapper.removeClass("owl-origin"),n.endPrev=!1,n.endCurrent=!1,n.isTransition=!1)},owlStatus:function(){var t=this;t.owl={userOptions:t.userOptions,baseElement:t.$elem,userItems:t.$userItems,owlItems:t.$owlItems,currentItem:t.currentItem,prevItem:t.prevItem,visibleItems:t.visibleItems,isTouch:t.browser.isTouch,browser:t.browser,dragDirection:t.dragDirection}},clearEvents:function(){var r=this;r.$elem.off(".owl owl mousedown.disableTextSelect"),t(n).off(".owl owl"),t(e).off("resize",r.resizer)},unWrap:function(){var t=this;0!==t.$elem.children().length&&(t.$owlWrapper.unwrap(),t.$userItems.unwrap().unwrap(),t.owlControls&&t.owlControls.remove()),t.clearEvents(),t.$elem.attr("style",t.$elem.data("owl-originalStyles")||"").attr("class",t.$elem.data("owl-originalClasses"))},destroy:function(){var t=this;t.stop(),e.clearInterval(t.checkVisible),t.unWrap(),t.$elem.removeData()},reinit:function(e){var n=this,r=t.extend({},n.userOptions,e);n.unWrap(),n.init(r,n.$elem)},addItem:function(t,e){var n,r=this;return t?0===r.$elem.children().length?(r.$elem.append(t),r.setVars(),!1):(r.unWrap(),n=void 0===e||-1===e?-1:e,n>=r.$userItems.length||-1===n?r.$userItems.eq(-1).after(t):r.$userItems.eq(n).before(t),void r.setVars()):!1},removeItem:function(t){var e,n=this;return 0===n.$elem.children().length?!1:(e=void 0===t||-1===t?-1:t,n.unWrap(),n.$userItems.eq(e).remove(),void n.setVars())}};t.fn.owlCarousel=function(e){return this.each(function(){if(t(this).data("owl-init")===!0)return!1;t(this).data("owl-init",!0);var n=Object.create(r);n.init(e,this),t.data(this,"owlCarousel",n)})},t.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:e,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document)},{}],38:[function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,s,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),u=1;i>u;u++)s[u-1]=arguments[u];n.apply(this,s)}else if(o(n)){for(i=arguments.length,s=new Array(i-1),u=1;i>u;u++)s[u-1]=arguments[u];for(c=n.slice(),i=c.length,u=0;i>u;u++)c[u].apply(this,s)}return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned){var i;i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(s=a;s-->0;)if(n[s]===e||n[s].listener&&n[s].listener===e){i=s;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?r(t._events[e])?1:t._events[e].length:0}},{}],39:[function(t,e){function n(){}var r=e.exports={};r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};var r=[];if(e){var i=document.createElement("div"),o=new MutationObserver(function(){var t=r.slice();r.length=0,t.forEach(function(t){t()})});return o.observe(i,{attributes:!0}),function(t){r.length||i.setAttribute("yes","no"),r.push(t)}}return n?(window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(t){r.push(t),window.postMessage("process-tick","*")}):function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=n,r.addListener=n,r.once=n,r.off=n,r.removeListener=n,r.removeAllListeners=n,r.emit=n,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],40:[function(t,e){(function(t,n){(function(){"use strict";function r(t){return"function"==typeof t||"object"==typeof t&&null!==t}function i(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(){}function s(){return function(){t.nextTick(f)}}function u(){var t=0,e=new $(f),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function c(){var t=new MessageChannel;return t.port1.onmessage=f,function(){t.port2.postMessage(0)}}function l(){return function(){setTimeout(f,1)}}function f(){for(var t=0;j>t;t+=2){var e=H[t],n=H[t+1];e(n),H[t]=void 0,H[t+1]=void 0}j=0}function h(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function g(t){try{return t.then}catch(e){return B.error=e,B}}function v(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}function m(t,e,n){F(function(t){var r=!1,i=v(n,e,function(n){r||(r=!0,e!==n?b(t,n):E(t,n))},function(e){r||(r=!0,_(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,_(t,i))},t)}function y(t,e){e._state===z?E(t,e._result):t._state===U?_(t,e._result):T(e,void 0,function(e){b(t,e)},function(e){_(t,e)})}function w(t,e){if(e.constructor===t.constructor)y(t,e);else{var n=g(e);n===B?_(t,B.error):void 0===n?E(t,e):i(n)?m(t,e,n):E(t,e)}}function b(t,e){t===e?_(t,p()):r(e)?w(t,e):E(t,e)}function x(t){t._onerror&&t._onerror(t._result),C(t)}function E(t,e){t._state===W&&(t._result=e,t._state=z,0===t._subscribers.length||F(C,t))}function _(t,e){t._state===W&&(t._state=U,t._result=e,F(x,t))}function T(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+z]=n,i[o+U]=r,0===o&&t._state&&F(C,t)}function C(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,i,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?k(n,r,i,o):i(o);t._subscribers.length=0}}function S(){this.error=null}function A(t,e){try{return t(e)}catch(n){return X.error=n,X}}function k(t,e,n,r){var o,a,s,u,c=i(n);if(c){if(o=A(n,r),o===X?(u=!0,a=o.error,o=null):s=!0,e===o)return void _(e,d())}else o=r,s=!0;e._state!==W||(c&&s?b(e,o):u?_(e,a):t===z?E(e,o):t===U&&_(e,o))}function M(t,e){try{e(function(e){b(t,e)},function(e){_(t,e)})}catch(n){_(t,n)}}function N(t,e,n,r){this._instanceConstructor=t,this.promise=new t(h,r),this._abortOnReject=n,this._validateInput(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._init(),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&E(this.promise,this._result))):_(this.promise,this._validationError())}function I(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function O(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function R(t,e){this._id=K++,this._label=e,this._state=void 0,this._result=void 0,this._subscribers=[],h!==t&&(i(t)||I(),this instanceof R||O(),M(this,t))}var L;L=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var P,D=L,j=(Date.now||function(){return(new Date).getTime()},Object.create||function(t){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof t)throw new TypeError("Argument must be an object");return a.prototype=t,new a},0),F=function(t,e){H[j]=t,H[j+1]=e,j+=2,2===j&&P()},q="undefined"!=typeof window?window:{},$=q.MutationObserver||q.WebKitMutationObserver,V="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,H=new Array(1e3);P="undefined"!=typeof t&&"[object process]"==={}.toString.call(t)?s():$?u():V?c():l();var W=void 0,z=1,U=2,B=new S,X=new S;N.prototype._validateInput=function(t){return D(t)},N.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},N.prototype._init=function(){this._result=new Array(this.length)};var Y=N;N.prototype._enumerate=function(){for(var t=this.length,e=this.promise,n=this._input,r=0;e._state===W&&t>r;r++)this._eachEntry(n[r],r)},N.prototype._eachEntry=function(t,e){var n=this._instanceConstructor;o(t)?t.constructor===n&&t._state!==W?(t._onerror=null,this._settledAt(t._state,e,t._result)):this._willSettleAt(n.resolve(t),e):(this._remaining--,this._result[e]=this._makeResult(z,e,t))},N.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===W&&(this._remaining--,this._abortOnReject&&t===U?_(r,n):this._result[e]=this._makeResult(t,e,n)),0===this._remaining&&E(r,this._result)},N.prototype._makeResult=function(t,e,n){return n},N.prototype._willSettleAt=function(t,e){var n=this;T(t,void 0,function(t){n._settledAt(z,e,t)},function(t){n._settledAt(U,e,t)})};var G=function(t,e){return new Y(this,t,!0,e).promise},Z=function(t,e){function n(t){b(o,t)}function r(t){_(o,t)}var i=this,o=new i(h,e);if(!D(t))return _(o,new TypeError("You must pass an array to race.")),o;for(var a=t.length,s=0;o._state===W&&a>s;s++)T(i.resolve(t[s]),void 0,n,r);return o},J=function(t,e){var n=this;if(t&&"object"==typeof t&&t.constructor===n)return t;var r=new n(h,e);return b(r,t),r},Q=function(t,e){var n=this,r=new n(h,e);return _(r,t),r},K=0,te=R;R.all=G,R.race=Z,R.resolve=J,R.reject=Q,R.prototype={constructor:R,then:function(t,e,n){var r=this,i=r._state;if(i===z&&!t||i===U&&!e)return this;r._onerror=null;var o=new this.constructor(h,n),a=r._result;if(i){var s=arguments[i-1];F(function(){k(i,o,s,a)})}else T(r,o,t,e);return o},"catch":function(t,e){return this.then(null,t,e)}};var ee=function(){var t;t="undefined"!=typeof n?n:"undefined"!=typeof window&&window.document?window:self;var e="Promise"in t&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise(function(t){e=t}),i(e)}();e||(t.Promise=te)},ne={Promise:te,polyfill:ee};"function"==typeof define&&define.amd?define(function(){return ne}):"undefined"!=typeof e&&e.exports?e.exports=ne:"undefined"!=typeof this&&(this.ES6Promise=ne)}).call(this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:39}],41:[function(t,e){!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=K.type(t);return"function"===n||K.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function r(t,e,n){if(K.isFunction(e))return K.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return K.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(se.test(e))return K.filter(e,t,n);e=K.filter(e,t)}return K.grep(t,function(t){return B.call(e,t)>=0!==n})}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=de[t]={};return K.each(t.match(pe)||[],function(t,n){e[n]=!0}),e}function a(){J.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),K.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=K.expando+Math.random()}function u(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(be,"-$1").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:we.test(n)?K.parseJSON(n):n}catch(i){}ye.set(t,e,n)}else n=void 0;return n}function c(){return!0}function l(){return!1}function f(){try{return J.activeElement}catch(t){}}function h(t,e){return K.nodeName(t,"table")&&K.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function d(t){var e=De.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=0,r=t.length;r>n;n++)me.set(t[n],"globalEval",!e||me.get(e[n],"globalEval"))}function v(t,e){var n,r,i,o,a,s,u,c;if(1===e.nodeType){if(me.hasData(t)&&(o=me.access(t),a=me.set(e,o),c=o.events)){delete a.handle,a.events={};for(i in c)for(n=0,r=c[i].length;r>n;n++)K.event.add(e,i,c[i][n])}ye.hasData(t)&&(s=ye.access(t),u=K.extend({},s),ye.set(e,u))}}function m(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&K.nodeName(t,e)?K.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Te.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function w(e,n){var r,i=K(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(i[0]))?r.display:K.css(i[0],"display");return i.detach(),o}function b(t){var e=J,n=$e[t];return n||(n=w(t,e),"none"!==n&&n||(qe=(qe||K("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=qe[0].contentDocument,e.write(),e.close(),n=w(t,e),qe.detach()),$e[t]=n),n}function x(t,e,n){var r,i,o,a,s=t.style;return n=n||We(t),n&&(a=n.getPropertyValue(e)||n[e]),n&&(""!==a||K.contains(t.ownerDocument,t)||(a=K.style(t,e)),He.test(a)&&Ve.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function E(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function _(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=Ge.length;i--;)if(e=Ge[i]+n,e in t)return e;return r}function T(t,e,n){var r=Ue.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function C(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=K.css(t,n+Ee[o],!0,i)),r?("content"===n&&(a-=K.css(t,"padding"+Ee[o],!0,i)),"margin"!==n&&(a-=K.css(t,"border"+Ee[o]+"Width",!0,i))):(a+=K.css(t,"padding"+Ee[o],!0,i),"padding"!==n&&(a+=K.css(t,"border"+Ee[o]+"Width",!0,i)));return a}function S(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=We(t),a="border-box"===K.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=x(t,e,o),(0>i||null==i)&&(i=t.style[e]),He.test(i))return i;r=a&&(Z.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+C(t,e,n||(a?"border":"content"),r,o)+"px"}function A(t,e){for(var n,r,i,o=[],a=0,s=t.length;s>a;a++)r=t[a],r.style&&(o[a]=me.get(r,"olddisplay"),n=r.style.display,e?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&_e(r)&&(o[a]=me.access(r,"olddisplay",b(r.nodeName)))):(i=_e(r),"none"===n&&i||me.set(r,"olddisplay",i?n:K.css(r,"display"))));for(a=0;s>a;a++)r=t[a],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[a]||"":"none"));return t}function k(t,e,n,r,i){return new k.prototype.init(t,e,n,r,i)}function M(){return setTimeout(function(){Ze=void 0}),Ze=K.now()}function N(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)n=Ee[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function I(t,e,n){for(var r,i=(nn[e]||[]).concat(nn["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,e,t))return r}function O(t,e,n){var r,i,o,a,s,u,c,l,f=this,h={},p=t.style,d=t.nodeType&&_e(t),g=me.get(t,"fxshow");n.queue||(s=K._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,K.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=K.css(t,"display"),l="none"===c?me.get(t,"olddisplay")||b(t.nodeName):c,"inline"===l&&"none"===K.css(t,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],Qe.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;d=!0}h[r]=g&&g[r]||K.style(t,r)}else c=void 0;if(K.isEmptyObject(h))"inline"===("none"===c?b(t.nodeName):c)&&(p.display=c);else{g?"hidden"in g&&(d=g.hidden):g=me.access(t,"fxshow",{}),o&&(g.hidden=!d),d?K(t).show():f.done(function(){K(t).hide()}),f.done(function(){var e;me.remove(t,"fxshow");for(e in h)K.style(t,e,h[e])});for(r in h)a=I(d?g[r]:0,r,f),r in g||(g[r]=a.start,d&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function R(t,e){var n,r,i,o,a;for(n in t)if(r=K.camelCase(n),i=e[r],o=t[n],K.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),a=K.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function L(t,e,n){var r,i,o=0,a=en.length,s=K.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=Ze||M(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,o=1-r,a=0,u=c.tweens.length;u>a;a++)c.tweens[a].run(o);return s.notifyWith(t,[c,o,n]),1>o&&u?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:K.extend({},e),opts:K.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Ze||M(),duration:n.duration,tweens:[],createTween:function(e,n){var r=K.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),l=c.props;for(R(l,c.opts.specialEasing);a>o;o++)if(r=en[o].call(c,t,l,c.opts))return r;return K.map(l,I,c),K.isFunction(c.opts.start)&&c.opts.start.call(t,c),K.fx.timer(K.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function P(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(pe)||[];if(K.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function D(t,e,n,r){function i(s){var u;return o[s]=!0,K.each(t[s]||[],function(t,s){var c=s(e,n,r);return"string"!=typeof c||a||o[c]?a?!(u=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),u}var o={},a=t===En;return i(e.dataTypes[0])||!o["*"]&&i("*")}function j(t,e){var n,r,i=K.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&K.extend(!0,t,r),t}function F(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function q(t,e,n,r){var i,o,a,s,u,c={},l=t.dataTypes.slice();if(l[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=c[u+" "+o]||c["* "+o],!a)for(i in c)if(s=i.split(" "),s[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[i]:c[i]!==!0&&(o=s[0],l.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function $(t,e,n,r){var i;if(K.isArray(e))K.each(e,function(e,i){n||Sn.test(t)?r(t,i):$(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==K.type(e))r(t,e);else for(i in e)$(t+"["+i+"]",e[i],n,r)}function V(t){return K.isWindow(t)?t:9===t.nodeType&&t.defaultView}var H=[],W=H.slice,z=H.concat,U=H.push,B=H.indexOf,X={},Y=X.toString,G=X.hasOwnProperty,Z={},J=t.document,Q="2.1.1",K=function(t,e){return new K.fn.init(t,e)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ee=/^-ms-/,ne=/-([\da-z])/gi,re=function(t,e){return e.toUpperCase()};K.fn=K.prototype={jquery:Q,constructor:K,selector:"",length:0,toArray:function(){return W.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:W.call(this)},pushStack:function(t){var e=K.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return K.each(this,t,e)},map:function(t){return this.pushStack(K.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(W.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:H.sort,splice:H.splice},K.extend=K.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||K.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],r=t[e],a!==r&&(c&&r&&(K.isPlainObject(r)||(i=K.isArray(r)))?(i?(i=!1,o=n&&K.isArray(n)?n:[]):o=n&&K.isPlainObject(n)?n:{},a[e]=K.extend(c,o,r)):void 0!==r&&(a[e]=r));return a},K.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===K.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!K.isArray(t)&&t-parseFloat(t)>=0},isPlainObject:function(t){return"object"!==K.type(t)||t.nodeType||K.isWindow(t)?!1:t.constructor&&!G.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?X[Y.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=K.trim(t),t&&(1===t.indexOf("use strict")?(e=J.createElement("script"),e.text=t,J.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ee,"ms-").replace(ne,re)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,o=0,a=t.length,s=n(t);if(r){if(s)for(;a>o&&(i=e.apply(t[o],r),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],r),i===!1)break}else if(s)for(;a>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(te,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?K.merge(r,"string"==typeof t?[t]:t):U.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:B.call(e,t,n)
},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,a=t.length,s=!n;a>o;o++)r=!e(t[o],o),r!==s&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,a=t.length,s=n(t),u=[];if(s)for(;a>o;o++)i=e(t[o],o,r),null!=i&&u.push(i);else for(o in t)i=e(t[o],o,r),null!=i&&u.push(i);return z.apply([],u)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),K.isFunction(t)?(r=W.call(arguments,2),i=function(){return t.apply(e||this,r.concat(W.call(arguments)))},i.guid=t.guid=t.guid||K.guid++,i):void 0},now:Date.now,support:Z}),K.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){X["[object "+e+"]"]=e.toLowerCase()});var ie=function(t){function e(t,e,n,r){var i,o,a,s,u,c,f,p,d,g;if((e?e.ownerDocument||e:$)!==O&&I(e),e=e||O,n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=e.nodeType)&&9!==s)return[];if(L&&!r){if(i=ye.exec(t))if(a=i[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&F(e,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,e.getElementsByTagName(t)),n;if((a=i[3])&&x.getElementsByClassName&&e.getElementsByClassName)return K.apply(n,e.getElementsByClassName(a)),n}if(x.qsa&&(!P||!P.test(t))){if(p=f=q,d=e,g=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=C(t),(f=e.getAttribute("id"))?p=f.replace(be,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",u=c.length;u--;)c[u]=p+h(c[u]);d=we.test(t)&&l(e.parentNode)||e,g=c.join(",")}if(g)try{return K.apply(n,d.querySelectorAll(g)),n}catch(v){}finally{f||e.removeAttribute("id")}}}return A(t.replace(ue,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>E.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[q]=!0,t}function i(t){var e=O.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)E.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function l(t){return t&&typeof t.getElementsByTagName!==X&&t}function f(){}function h(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function p(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=H++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,a){var s,u,c=[V,o];if(a){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(u=e[q]||(e[q]={}),(s=u[r])&&s[0]===V&&s[1]===o)return c[2]=s[2];if(u[r]=c,c[2]=t(e,n,a))return!0}}}function d(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function g(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function v(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,c=null!=e;u>s;s++)(o=t[s])&&(!n||n(o,r,i))&&(a.push(o),c&&e.push(s));return a}function m(t,e,n,i,o,a){return i&&!i[q]&&(i=m(i)),o&&!o[q]&&(o=m(o,a)),r(function(r,a,s,u){var c,l,f,h=[],p=[],d=a.length,m=r||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?m:v(m,h,t,s,u),w=n?o||(r?t:d||i)?[]:a:y;if(n&&n(y,w,s,u),i)for(c=v(w,p),i(c,[],s,u),l=c.length;l--;)(f=c[l])&&(w[p[l]]=!(y[p[l]]=f));if(r){if(o||t){if(o){for(c=[],l=w.length;l--;)(f=w[l])&&c.push(y[l]=f);o(null,w=[],c,u)}for(l=w.length;l--;)(f=w[l])&&(c=o?ee.call(r,f):h[l])>-1&&(r[c]=!(a[c]=f))}}else w=v(w===a?w.splice(d,w.length):w),o?o(null,a,w,u):K.apply(a,w)})}function y(t){for(var e,n,r,i=t.length,o=E.relative[t[0].type],a=o||E.relative[" "],s=o?1:0,u=p(function(t){return t===e},a,!0),c=p(function(t){return ee.call(e,t)>-1},a,!0),l=[function(t,n,r){return!o&&(r||n!==k)||((e=n).nodeType?u(t,n,r):c(t,n,r))}];i>s;s++)if(n=E.relative[t[s].type])l=[p(d(l),n)];else{if(n=E.filter[t[s].type].apply(null,t[s].matches),n[q]){for(r=++s;i>r&&!E.relative[t[r].type];r++);return m(s>1&&d(l),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ue,"$1"),n,r>s&&y(t.slice(s,r)),i>r&&y(t=t.slice(r)),i>r&&h(t))}l.push(n)}return d(l)}function w(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,u,c){var l,f,h,p=0,d="0",g=r&&[],m=[],y=k,w=r||o&&E.find.TAG("*",c),b=V+=null==y?1:Math.random()||.1,x=w.length;for(c&&(k=a!==O&&a);d!==x&&null!=(l=w[d]);d++){if(o&&l){for(f=0;h=t[f++];)if(h(l,a,s)){u.push(l);break}c&&(V=b)}i&&((l=!h&&l)&&p--,r&&g.push(l))}if(p+=d,i&&d!==p){for(f=0;h=n[f++];)h(g,m,a,s);if(r){if(p>0)for(;d--;)g[d]||m[d]||(m[d]=J.call(u));m=v(m)}K.apply(u,m),c&&!r&&m.length>0&&p+n.length>1&&e.uniqueSort(u)}return c&&(V=b,k=y),g};return i?r(a):a}var b,x,E,_,T,C,S,A,k,M,N,I,O,R,L,P,D,j,F,q="sizzle"+-new Date,$=t.document,V=0,H=0,W=n(),z=n(),U=n(),B=function(t,e){return t===e&&(N=!0),0},X="undefined",Y=1<<31,G={}.hasOwnProperty,Z=[],J=Z.pop,Q=Z.push,K=Z.push,te=Z.slice,ee=Z.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ie.replace("w","w#"),ae="\\["+re+"*("+ie+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+re+"*\\]",se=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",ue=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),ce=new RegExp("^"+re+"*,"+re+"*"),le=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),fe=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),he=new RegExp(se),pe=new RegExp("^"+oe+"$"),de={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/[+~]/,be=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),Ee=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{K.apply(Z=te.call($.childNodes),$.childNodes),Z[$.childNodes.length].nodeType}catch(_e){K={apply:Z.length?function(t,e){Q.apply(t,te.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}x=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},I=e.setDocument=function(t){var e,n=t?t.ownerDocument||t:$,r=n.defaultView;return n!==O&&9===n.nodeType&&n.documentElement?(O=n,R=n.documentElement,L=!T(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){I()},!1):r.attachEvent&&r.attachEvent("onunload",function(){I()})),x.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=i(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=me.test(n.getElementsByClassName)&&i(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),x.getById=i(function(t){return R.appendChild(t).id=q,!n.getElementsByName||!n.getElementsByName(q).length}),x.getById?(E.find.ID=function(t,e){if(typeof e.getElementById!==X&&L){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},E.filter.ID=function(t){var e=t.replace(xe,Ee);return function(t){return t.getAttribute("id")===e}}):(delete E.find.ID,E.filter.ID=function(t){var e=t.replace(xe,Ee);return function(t){var n=typeof t.getAttributeNode!==X&&t.getAttributeNode("id");return n&&n.value===e}}),E.find.TAG=x.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==X?e.getElementsByTagName(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},E.find.CLASS=x.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==X&&L?e.getElementsByClassName(t):void 0},D=[],P=[],(x.qsa=me.test(n.querySelectorAll))&&(i(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&P.push("[*^$]="+re+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+re+"*(?:value|"+ne+")"),t.querySelectorAll(":checked").length||P.push(":checked")}),i(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+re+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(x.matchesSelector=me.test(j=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&i(function(t){x.disconnectedMatch=j.call(t,"div"),j.call(t,"[s!='']:x"),D.push("!=",se)}),P=P.length&&new RegExp(P.join("|")),D=D.length&&new RegExp(D.join("|")),e=me.test(R.compareDocumentPosition),F=e||me.test(R.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},B=e?function(t,e){if(t===e)return N=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r?r:(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&r||!x.sortDetached&&e.compareDocumentPosition(t)===r?t===n||t.ownerDocument===$&&F($,t)?-1:e===n||e.ownerDocument===$&&F($,e)?1:M?ee.call(M,t)-ee.call(M,e):0:4&r?-1:1)}:function(t,e){if(t===e)return N=!0,0;var r,i=0,o=t.parentNode,s=e.parentNode,u=[t],c=[e];if(!o||!s)return t===n?-1:e===n?1:o?-1:s?1:M?ee.call(M,t)-ee.call(M,e):0;if(o===s)return a(t,e);for(r=t;r=r.parentNode;)u.unshift(r);for(r=e;r=r.parentNode;)c.unshift(r);for(;u[i]===c[i];)i++;return i?a(u[i],c[i]):u[i]===$?-1:c[i]===$?1:0},n):O},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==O&&I(t),n=n.replace(fe,"='$1']"),!(!x.matchesSelector||!L||D&&D.test(n)||P&&P.test(n)))try{var r=j.call(t,n);if(r||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&I(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&I(t);var n=E.attrHandle[e.toLowerCase()],r=n&&G.call(E.attrHandle,e.toLowerCase())?n(t,e,!L):void 0;return void 0!==r?r:x.attributes||!L?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(N=!x.detectDuplicates,M=!x.sortStable&&t.slice(0),t.sort(B),N){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return M=null,t},_=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=_(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=_(e);return n},E=e.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xe,Ee),t[3]=(t[3]||t[4]||t[5]||"").replace(xe,Ee),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return de.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&he.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xe,Ee).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+re+")"+t+"("+re+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==X&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,f,h,p,d,g=o!==a?"nextSibling":"previousSibling",v=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!u&&!s;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(s?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[a?v.firstChild:v.lastChild],a&&y){for(l=v[q]||(v[q]={}),c=l[t]||[],p=c[0]===V&&c[1],h=c[0]===V&&c[2],f=p&&v.childNodes[p];f=++p&&f&&f[g]||(h=p=0)||d.pop();)if(1===f.nodeType&&++h&&f===e){l[t]=[V,p,h];break}}else if(y&&(c=(e[q]||(e[q]={}))[t])&&c[0]===V)h=c[1];else for(;(f=++p&&f&&f[g]||(h=p=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++h||(y&&((f[q]||(f[q]={}))[t]=[V,h]),f!==e)););return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(t,n){var i,o=E.pseudos[t]||E.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[q]?o(n):o.length>1?(i=[t,t,"",n],E.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)r=ee.call(t,i[a]),t[r]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=S(t.replace(ue,"$1"));return i[q]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}}),lang:r(function(t){return pe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xe,Ee).toLowerCase(),function(e){var n;do if(n=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===R},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!E.pseudos.empty(t)},header:function(t){return ve.test(t.nodeName)},input:function(t){return ge.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:c(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},E.pseudos.nth=E.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})E.pseudos[b]=u(b);return f.prototype=E.filters=E.pseudos,E.setFilters=new f,C=e.tokenize=function(t,n){var r,i,o,a,s,u,c,l=z[t+" "];if(l)return n?0:l.slice(0);for(s=t,u=[],c=E.preFilter;s;){(!r||(i=ce.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=le.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));for(a in E.filter)!(i=de[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):z(t,u).slice(0)},S=e.compile=function(t,e){var n,r=[],i=[],o=U[t+" "];if(!o){for(e||(e=C(t)),n=e.length;n--;)o=y(e[n]),o[q]?r.push(o):i.push(o);o=U(t,w(i,r)),o.selector=t}return o},A=e.select=function(t,e,n,r){var i,o,a,s,u,c="function"==typeof t&&t,f=!r&&C(t=c.selector||t);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===e.nodeType&&L&&E.relative[o[1].type]){if(e=(E.find.ID(a.matches[0].replace(xe,Ee),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=de.needsContext.test(t)?0:o.length;i--&&(a=o[i],!E.relative[s=a.type]);)if((u=E.find[s])&&(r=u(a.matches[0].replace(xe,Ee),we.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&h(o),!t)return K.apply(n,r),n;break}}return(c||S(t,f))(r,e,!L,n,we.test(t)&&l(e.parentNode)||e),n},x.sortStable=q.split("").sort(B).join("")===q,x.detectDuplicates=!!N,I(),x.sortDetached=i(function(t){return 1&t.compareDocumentPosition(O.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(ne,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);K.find=ie,K.expr=ie.selectors,K.expr[":"]=K.expr.pseudos,K.unique=ie.uniqueSort,K.text=ie.getText,K.isXMLDoc=ie.isXML,K.contains=ie.contains;var oe=K.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;K.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?K.find.matchesSelector(r,t)?[r]:[]:K.find.matches(t,K.grep(e,function(t){return 1===t.nodeType}))},K.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(K(t).filter(function(){for(e=0;n>e;e++)if(K.contains(i[e],this))return!0}));for(e=0;n>e;e++)K.find(t,i[e],r);return r=this.pushStack(n>1?K.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&oe.test(t)?K(t):t||[],!1).length}});var ue,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,le=K.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ce.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||ue).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof K?e[0]:e,K.merge(this,K.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:J,!0)),ae.test(n[1])&&K.isPlainObject(e))for(n in e)K.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=J.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=J,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):K.isFunction(t)?"undefined"!=typeof ue.ready?ue.ready(t):t(K):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),K.makeArray(t,this))};le.prototype=K.fn,ue=K(J);var fe=/^(?:parents|prev(?:Until|All))/,he={children:!0,contents:!0,next:!0,prev:!0};K.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&K(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),K.fn.extend({has:function(t){var e=K(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(K.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],a=oe.test(t)||"string"!=typeof t?K(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&K.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?K.unique(o):o)},index:function(t){return t?"string"==typeof t?B.call(K(t),this[0]):B.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(K.unique(K.merge(this.get(),K(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),K.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return K.dir(t,"parentNode")},parentsUntil:function(t,e,n){return K.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return K.dir(t,"nextSibling")},prevAll:function(t){return K.dir(t,"previousSibling")},nextUntil:function(t,e,n){return K.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return K.dir(t,"previousSibling",n)},siblings:function(t){return K.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return K.sibling(t.firstChild)},contents:function(t){return t.contentDocument||K.merge([],t.childNodes)}},function(t,e){K.fn[t]=function(n,r){var i=K.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=K.filter(r,i)),this.length>1&&(he[t]||K.unique(i),fe.test(t)&&i.reverse()),this.pushStack(i)}});var pe=/\S+/g,de={};K.Callbacks=function(t){t="string"==typeof t?de[t]||o(t):K.extend({},t);var e,n,r,i,a,s,u=[],c=!t.once&&[],l=function(o){for(e=t.memory&&o,n=!0,s=i||0,i=0,a=u.length,r=!0;u&&a>s;s++)if(u[s].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}r=!1,u&&(c?c.length&&l(c.shift()):e?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function o(e){K.each(e,function(e,n){var r=K.type(n);"function"===r?t.unique&&f.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?a=u.length:e&&(i=n,l(e))}return this},remove:function(){return u&&K.each(arguments,function(t,e){for(var n;(n=K.inArray(e,u,n))>-1;)u.splice(n,1),r&&(a>=n&&a--,s>=n&&s--)}),this},has:function(t){return t?K.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=c=e=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,e||f.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!u||n&&!c||(e=e||[],e=[t,e.slice?e.slice():e],r?c.push(e):l(e)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},K.extend({Deferred:function(t){var e=[["resolve","done",K.Callbacks("once memory"),"resolved"],["reject","fail",K.Callbacks("once memory"),"rejected"],["notify","progress",K.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return K.Deferred(function(n){K.each(e,function(e,o){var a=K.isFunction(t[e])&&t[e];i[o[1]](function(){var t=a&&a.apply(this,arguments);t&&K.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?K.extend(t,r):r}},i={};return r.pipe=r.then,K.each(e,function(t,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=W.call(arguments),a=o.length,s=1!==a||t&&K.isFunction(t.promise)?a:0,u=1===s?t:K.Deferred(),c=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?W.call(arguments):i,r===e?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(e=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&K.isFunction(o[i].promise)?o[i].promise().done(c(i,r,o)).fail(u.reject).progress(c(i,n,e)):--s;return s||u.resolveWith(r,o),u.promise()}});var ge;K.fn.ready=function(t){return K.ready.promise().done(t),this},K.extend({isReady:!1,readyWait:1,holdReady:function(t){t?K.readyWait++:K.ready(!0)},ready:function(t){(t===!0?--K.readyWait:K.isReady)||(K.isReady=!0,t!==!0&&--K.readyWait>0||(ge.resolveWith(J,[K]),K.fn.triggerHandler&&(K(J).triggerHandler("ready"),K(J).off("ready"))))}}),K.ready.promise=function(e){return ge||(ge=K.Deferred(),"complete"===J.readyState?setTimeout(K.ready):(J.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),ge.promise(e)},K.ready.promise();var ve=K.access=function(t,e,n,r,i,o,a){var s=0,u=t.length,c=null==n;if("object"===K.type(n)){i=!0;for(s in n)K.access(t,e,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,K.isFunction(r)||(a=!0),c&&(a?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(K(t),n)})),e))for(;u>s;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:c?e.call(t):u?e(t[0],n):o};K.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=K.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=s.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,K.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(K.isEmptyObject(o))K.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,K.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=this.key(t),a=this.cache[o];if(void 0===e)this.cache[o]={};else{K.isArray(e)?r=e.concat(e.map(K.camelCase)):(i=K.camelCase(e),e in a?r=[e,i]:(r=i,r=r in a?[r]:r.match(pe)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(t){return!K.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var me=new s,ye=new s,we=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,be=/([A-Z])/g;K.extend({hasData:function(t){return ye.hasData(t)||me.hasData(t)},data:function(t,e,n){return ye.access(t,e,n)},removeData:function(t,e){ye.remove(t,e)},_data:function(t,e,n){return me.access(t,e,n)},_removeData:function(t,e){me.remove(t,e)}}),K.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=ye.get(o),1===o.nodeType&&!me.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=K.camelCase(r.slice(5)),u(o,r,i[r])));me.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){ye.set(this,t)}):ve(this,function(e){var n,r=K.camelCase(t);if(o&&void 0===e){if(n=ye.get(o,t),void 0!==n)return n;if(n=ye.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,r);ye.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&ye.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ye.remove(this,t)})}}),K.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=me.get(t,e),n&&(!r||K.isArray(n)?r=me.access(t,e,K.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=K.queue(t,e),r=n.length,i=n.shift(),o=K._queueHooks(t,e),a=function(){K.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return me.get(t,n)||me.access(t,n,{empty:K.Callbacks("once memory").add(function(){me.remove(t,[e+"queue",n])})})}}),K.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?K.queue(this[0],t):void 0===e?this:this.each(function(){var n=K.queue(this,t,e);K._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&K.dequeue(this,t)})},dequeue:function(t){return this.each(function(){K.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=K.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=me.get(o[a],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ee=["Top","Right","Bottom","Left"],_e=function(t,e){return t=e||t,"none"===K.css(t,"display")||!K.contains(t.ownerDocument,t)},Te=/^(?:checkbox|radio)$/i;!function(){var t=J.createDocumentFragment(),e=t.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),Z.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ce="undefined";Z.focusinBubbles="onfocusin"in t;var Se=/^key/,Ae=/^(?:mouse|pointer|contextmenu)|click/,ke=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;K.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,c,l,f,h,p,d,g,v=me.get(t);if(v)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=K.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return typeof K!==Ce&&K.event.triggered!==e.type?K.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(pe)||[""],c=e.length;c--;)s=Me.exec(e[c])||[],p=g=s[1],d=(s[2]||"").split(".").sort(),p&&(f=K.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=K.event.special[p]||{},l=K.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&K.expr.match.needsContext.test(i),namespace:d.join(".")},o),(h=u[p])||(h=u[p]=[],h.delegateCount=0,f.setup&&f.setup.call(t,r,d,a)!==!1||t.addEventListener&&t.addEventListener(p,a,!1)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),K.event.global[p]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,c,l,f,h,p,d,g,v=me.hasData(t)&&me.get(t);if(v&&(u=v.events)){for(e=(e||"").match(pe)||[""],c=e.length;c--;)if(s=Me.exec(e[c])||[],p=g=s[1],d=(s[2]||"").split(".").sort(),p){for(f=K.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,h=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)l=h[o],!i&&g!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,f.remove&&f.remove.call(t,l));
a&&!h.length&&(f.teardown&&f.teardown.call(t,d,v.handle)!==!1||K.removeEvent(t,p,v.handle),delete u[p])}else for(p in u)K.event.remove(t,p+e[c],n,r,!0);K.isEmptyObject(u)&&(delete v.handle,me.remove(t,"events"))}},trigger:function(e,n,r,i){var o,a,s,u,c,l,f,h=[r||J],p=G.call(e,"type")?e.type:e,d=G.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!ke.test(p+K.event.triggered)&&(p.indexOf(".")>=0&&(d=p.split("."),p=d.shift(),d.sort()),c=p.indexOf(":")<0&&"on"+p,e=e[K.expando]?e:new K.Event(p,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=d.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:K.makeArray(n,[e]),f=K.event.special[p]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!K.isWindow(r)){for(u=f.delegateType||p,ke.test(u+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||J)&&h.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)e.type=o>1?u:f.bindType||p,l=(me.get(a,"events")||{})[e.type]&&me.get(a,"handle"),l&&l.apply(a,n),l=c&&a[c],l&&l.apply&&K.acceptData(a)&&(e.result=l.apply(a,n),e.result===!1&&e.preventDefault());return e.type=p,i||e.isDefaultPrevented()||f._default&&f._default.apply(h.pop(),n)!==!1||!K.acceptData(r)||c&&K.isFunction(r[p])&&!K.isWindow(r)&&(s=r[c],s&&(r[c]=null),K.event.triggered=p,r[p](),K.event.triggered=void 0,s&&(r[c]=s)),e.result}},dispatch:function(t){t=K.event.fix(t);var e,n,r,i,o,a=[],s=W.call(arguments),u=(me.get(this,"events")||{})[t.type]||[],c=K.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(a=K.event.handlers.call(this,t,u),e=0;(i=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,r=((K.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==t.type){for(r=[],n=0;s>n;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?K(i,this).index(u)>=0:K.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||J,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[K.expando])return t;var e,n,r,i=t.type,o=t,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ae.test(i)?this.mouseHooks:Se.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new K.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=J),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&K.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return K.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=K.extend(new K.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?K.event.trigger(i,null,e):K.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},K.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},K.Event=function(t,e){return this instanceof K.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?c:l):this.type=t,e&&K.extend(this,e),this.timeStamp=t&&t.timeStamp||K.now(),void(this[K.expando]=!0)):new K.Event(t,e)},K.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=c,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=c,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=c,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},K.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){K.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!K.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),Z.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){K.event.simulate(e,t.target,K.event.fix(t),!0)};K.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=me.access(r,e);i||r.addEventListener(t,n,!0),me.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=me.access(r,e)-1;i?me.access(r,e,i):(r.removeEventListener(t,n,!0),me.remove(r,e))}}}),K.fn.extend({on:function(t,e,n,r,i){var o,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(a in t)this.on(a,e,n,t[a],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=l;else if(!r)return this;return 1===i&&(o=r,r=function(t){return K().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=K.guid++)),this.each(function(){K.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,K(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=l),this.each(function(){K.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){K.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?K.event.trigger(t,e,n,!0):void 0}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ie=/<([\w:]+)/,Oe=/<|&#?\w+;/,Re=/<(?:script|style|link)/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^$|\/(?:java|ecma)script/i,De=/^true\/(.*)/,je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td,K.extend({clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),u=K.contains(t.ownerDocument,t);if(!(Z.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||K.isXMLDoc(t)))for(a=m(s),o=m(t),r=0,i=o.length;i>r;r++)y(o[r],a[r]);if(e)if(n)for(o=o||m(t),a=a||m(s),r=0,i=o.length;i>r;r++)v(o[r],a[r]);else v(t,s);return a=m(s,"script"),a.length>0&&g(a,!u&&m(t,"script")),s},buildFragment:function(t,e,n,r){for(var i,o,a,s,u,c,l=e.createDocumentFragment(),f=[],h=0,p=t.length;p>h;h++)if(i=t[h],i||0===i)if("object"===K.type(i))K.merge(f,i.nodeType?[i]:i);else if(Oe.test(i)){for(o=o||l.appendChild(e.createElement("div")),a=(Ie.exec(i)||["",""])[1].toLowerCase(),s=Fe[a]||Fe._default,o.innerHTML=s[1]+i.replace(Ne,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;K.merge(f,o.childNodes),o=l.firstChild,o.textContent=""}else f.push(e.createTextNode(i));for(l.textContent="",h=0;i=f[h++];)if((!r||-1===K.inArray(i,r))&&(u=K.contains(i.ownerDocument,i),o=m(l.appendChild(i),"script"),u&&g(o),n))for(c=0;i=o[c++];)Pe.test(i.type||"")&&n.push(i);return l},cleanData:function(t){for(var e,n,r,i,o=K.event.special,a=0;void 0!==(n=t[a]);a++){if(K.acceptData(n)&&(i=n[me.expando],i&&(e=me.cache[i]))){if(e.events)for(r in e.events)o[r]?K.event.remove(n,r):K.removeEvent(n,r,e.handle);me.cache[i]&&delete me.cache[i]}delete ye.cache[n[ye.expando]]}}}),K.fn.extend({text:function(t){return ve(this,function(t){return void 0===t?K.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?K.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||K.cleanData(m(n)),n.parentNode&&(e&&K.contains(n.ownerDocument,n)&&g(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(K.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return K.clone(this,t,e)})},html:function(t){return ve(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Re.test(t)&&!Fe[(Ie.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Ne,"<$1></$2>");try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(K.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,K.cleanData(m(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=z.apply([],t);var n,r,i,o,a,s,u=0,c=this.length,l=this,f=c-1,h=t[0],g=K.isFunction(h);if(g||c>1&&"string"==typeof h&&!Z.checkClone&&Le.test(h))return this.each(function(n){var r=l.eq(n);g&&(t[0]=h.call(this,n,r.html())),r.domManip(t,e)});if(c&&(n=K.buildFragment(t,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=K.map(m(n,"script"),p),o=i.length;c>u;u++)a=n,u!==f&&(a=K.clone(a,!0,!0),o&&K.merge(i,m(a,"script"))),e.call(this[u],a,u);if(o)for(s=i[i.length-1].ownerDocument,K.map(i,d),u=0;o>u;u++)a=i[u],Pe.test(a.type||"")&&!me.access(a,"globalEval")&&K.contains(s,a)&&(a.src?K._evalUrl&&K._evalUrl(a.src):K.globalEval(a.textContent.replace(je,"")))}return this}}),K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){K.fn[t]=function(t){for(var n,r=[],i=K(t),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),K(i[a])[e](n),U.apply(r,n.get());return this.pushStack(r)}});var qe,$e={},Ve=/^margin/,He=new RegExp("^("+xe+")(?!px)[a-z%]+$","i"),We=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var e=t.getComputedStyle(a,null);n="1%"!==e.top,r="4px"===e.width,i.removeChild(o)}var n,r,i=J.documentElement,o=J.createElement("div"),a=J.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),t.getComputedStyle&&K.extend(Z,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},reliableMarginRight:function(){var e,n=a.appendChild(J.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),i.removeChild(o),e}}))}(),K.swap=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i};var ze=/^(none|table(?!-c[ea]).+)/,Ue=new RegExp("^("+xe+")(.*)$","i"),Be=new RegExp("^([+-])=("+xe+")","i"),Xe={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];K.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=x(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=K.camelCase(e),u=t.style;return e=K.cssProps[s]||(K.cssProps[s]=_(u,s)),a=K.cssHooks[e]||K.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:u[e]:(o=typeof n,"string"===o&&(i=Be.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(K.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||K.cssNumber[s]||(n+="px"),Z.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u[e]=n)),void 0)}},css:function(t,e,n,r){var i,o,a,s=K.camelCase(e);return e=K.cssProps[s]||(K.cssProps[s]=_(t.style,s)),a=K.cssHooks[e]||K.cssHooks[s],a&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=x(t,e,r)),"normal"===i&&e in Ye&&(i=Ye[e]),""===n||n?(o=parseFloat(i),n===!0||K.isNumeric(o)?o||0:i):i}}),K.each(["height","width"],function(t,e){K.cssHooks[e]={get:function(t,n,r){return n?ze.test(K.css(t,"display"))&&0===t.offsetWidth?K.swap(t,Xe,function(){return S(t,e,r)}):S(t,e,r):void 0},set:function(t,n,r){var i=r&&We(t);return T(t,n,r?C(t,e,r,"border-box"===K.css(t,"boxSizing",!1,i),i):0)}}}),K.cssHooks.marginRight=E(Z.reliableMarginRight,function(t,e){return e?K.swap(t,{display:"inline-block"},x,[t,"marginRight"]):void 0}),K.each({margin:"",padding:"",border:"Width"},function(t,e){K.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+Ee[r]+e]=o[r]||o[r-2]||o[0];return i}},Ve.test(t)||(K.cssHooks[t+e].set=T)}),K.fn.extend({css:function(t,e){return ve(this,function(t,e,n){var r,i,o={},a=0;if(K.isArray(e)){for(r=We(t),i=e.length;i>a;a++)o[e[a]]=K.css(t,e[a],!1,r);return o}return void 0!==n?K.style(t,e,n):K.css(t,e)},t,e,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){_e(this)?K(this).show():K(this).hide()})}}),K.Tween=k,k.prototype={constructor:k,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(K.cssNumber[n]?"":"px")},cur:function(){var t=k.propHooks[this.prop];return t&&t.get?t.get(this):k.propHooks._default.get(this)},run:function(t){var e,n=k.propHooks[this.prop];return this.pos=e=this.options.duration?K.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):k.propHooks._default.set(this),this}},k.prototype.init.prototype=k.prototype,k.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=K.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){K.fx.step[t.prop]?K.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[K.cssProps[t.prop]]||K.cssHooks[t.prop])?K.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},k.propHooks.scrollTop=k.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},K.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},K.fx=k.prototype.init,K.fx.step={};var Ze,Je,Qe=/^(?:toggle|show|hide)$/,Ke=new RegExp("^(?:([+-])=|)("+xe+")([a-z%]*)$","i"),tn=/queueHooks$/,en=[O],nn={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=Ke.exec(e),o=i&&i[3]||(K.cssNumber[t]?"":"px"),a=(K.cssNumber[t]||"px"!==o&&+r)&&Ke.exec(K.css(n.elem,t)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,K.style(n.elem,t,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};K.Animation=K.extend(L,{tweener:function(t,e){K.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],nn[n]=nn[n]||[],nn[n].unshift(e)},prefilter:function(t,e){e?en.unshift(t):en.push(t)}}),K.speed=function(t,e,n){var r=t&&"object"==typeof t?K.extend({},t):{complete:n||!n&&e||K.isFunction(t)&&t,duration:t,easing:n&&e||e&&!K.isFunction(e)&&e};return r.duration=K.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in K.fx.speeds?K.fx.speeds[r.duration]:K.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){K.isFunction(r.old)&&r.old.call(this),r.queue&&K.dequeue(this,r.queue)},r},K.fn.extend({fadeTo:function(t,e,n,r){return this.filter(_e).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=K.isEmptyObject(t),o=K.speed(e,n,r),a=function(){var e=L(this,K.extend({},t),o);(i||me.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=K.timers,a=me.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&tn.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&K.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=me.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=K.timers,a=r?r.length:0;for(n.finish=!0,K.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),K.each(["toggle","show","hide"],function(t,e){var n=K.fn[e];K.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(N(e,!0),t,r,i)}}),K.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){K.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),K.timers=[],K.fx.tick=function(){var t,e=0,n=K.timers;for(Ze=K.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||K.fx.stop(),Ze=void 0},K.fx.timer=function(t){K.timers.push(t),t()?K.fx.start():K.timers.pop()},K.fx.interval=13,K.fx.start=function(){Je||(Je=setInterval(K.fx.tick,K.fx.interval))},K.fx.stop=function(){clearInterval(Je),Je=null},K.fx.speeds={slow:600,fast:200,_default:400},K.fn.delay=function(t,e){return t=K.fx?K.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t=J.createElement("input"),e=J.createElement("select"),n=e.appendChild(J.createElement("option"));t.type="checkbox",Z.checkOn=""!==t.value,Z.optSelected=n.selected,e.disabled=!0,Z.optDisabled=!n.disabled,t=J.createElement("input"),t.value="t",t.type="radio",Z.radioValue="t"===t.value}();var rn,on,an=K.expr.attrHandle;K.fn.extend({attr:function(t,e){return ve(this,K.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){K.removeAttr(this,t)})}}),K.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Ce?K.prop(t,e,n):(1===o&&K.isXMLDoc(t)||(e=e.toLowerCase(),r=K.attrHooks[e]||(K.expr.match.bool.test(e)?on:rn)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=K.find.attr(t,e),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void K.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(pe);if(o&&1===t.nodeType)for(;n=o[i++];)r=K.propFix[n]||n,K.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!Z.radioValue&&"radio"===e&&K.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),on={set:function(t,e,n){return e===!1?K.removeAttr(t,n):t.setAttribute(n,n),n}},K.each(K.expr.match.bool.source.match(/\w+/g),function(t,e){var n=an[e]||K.find.attr;an[e]=function(t,e,r){var i,o;return r||(o=an[e],an[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,an[e]=o),i}});var sn=/^(?:input|select|textarea|button)$/i;K.fn.extend({prop:function(t,e){return ve(this,K.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[K.propFix[t]||t]})}}),K.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var r,i,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return o=1!==a||!K.isXMLDoc(t),o&&(e=K.propFix[e]||e,i=K.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||sn.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Z.optSelected||(K.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),K.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){K.propFix[this.toLowerCase()]=this});var un=/[\t\r\n\f]/g;K.fn.extend({addClass:function(t){var e,n,r,i,o,a,s="string"==typeof t&&t,u=0,c=this.length;if(K.isFunction(t))return this.each(function(e){K(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(pe)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=K.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,r,i,o,a,s=0===arguments.length||"string"==typeof t&&t,u=0,c=this.length;if(K.isFunction(t))return this.each(function(e){K(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(pe)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=t?K.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(K.isFunction(t)?function(n){K(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,r=0,i=K(this),o=t.match(pe)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===Ce||"boolean"===n)&&(this.className&&me.set(this,"__className__",this.className),this.className=this.className||t===!1?"":me.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(un," ").indexOf(e)>=0)return!0;return!1}});var cn=/\r/g;K.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=K.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,K(this).val()):t,null==i?i="":"number"==typeof i?i+="":K.isArray(i)&&(i=K.map(i,function(t){return null==t?"":t+""})),e=K.valHooks[this.type]||K.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=K.valHooks[i.type]||K.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(cn,""):null==n?"":n)}}}),K.extend({valHooks:{option:{get:function(t){var e=K.find.attr(t,"value");return null!=e?e:K.trim(K.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(Z.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&K.nodeName(n.parentNode,"optgroup"))){if(e=K(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=K.makeArray(e),a=i.length;a--;)r=i[a],(r.selected=K.inArray(r.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]={set:function(t,e){return K.isArray(e)?t.checked=K.inArray(K(t).val(),e)>=0:void 0}},Z.checkOn||(K.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){K.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),K.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var ln=K.now(),fn=/\?/;K.parseJSON=function(t){return JSON.parse(t+"")},K.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(r){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&K.error("Invalid XML: "+t),e};var hn,pn,dn=/#.*$/,gn=/([?&])_=[^&]*/,vn=/^(.*?):[ \t]*([^\r\n]*)$/gm,mn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,yn=/^(?:GET|HEAD)$/,wn=/^\/\//,bn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,xn={},En={},_n="*/".concat("*");try{pn=location.href}catch(Tn){pn=J.createElement("a"),pn.href="",pn=pn.href}hn=bn.exec(pn.toLowerCase())||[],K.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pn,type:"GET",isLocal:mn.test(hn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_n,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?j(j(t,K.ajaxSettings),e):j(K.ajaxSettings,t)},ajaxPrefilter:P(xn),ajaxTransport:P(En),ajax:function(t,e){function n(t,e,n,a){var u,l,m,y,b,E=e;2!==w&&(w=2,s&&clearTimeout(s),r=void 0,o=a||"",x.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(y=F(f,x,n)),y=q(f,y,x,u),u?(f.ifModified&&(b=x.getResponseHeader("Last-Modified"),b&&(K.lastModified[i]=b),b=x.getResponseHeader("etag"),b&&(K.etag[i]=b)),204===t||"HEAD"===f.type?E="nocontent":304===t?E="notmodified":(E=y.state,l=y.data,m=y.error,u=!m)):(m=E,(t||!E)&&(E="error",0>t&&(t=0))),x.status=t,x.statusText=(e||E)+"",u?d.resolveWith(h,[l,E,x]):d.rejectWith(h,[x,E,m]),x.statusCode(v),v=void 0,c&&p.trigger(u?"ajaxSuccess":"ajaxError",[x,f,u?l:m]),g.fireWith(h,[x,E]),c&&(p.trigger("ajaxComplete",[x,f]),--K.active||K.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,a,s,u,c,l,f=K.ajaxSetup({},e),h=f.context||f,p=f.context&&(h.nodeType||h.jquery)?K(h):K.event,d=K.Deferred(),g=K.Callbacks("once memory"),v=f.statusCode||{},m={},y={},w=0,b="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!a)for(a={};e=vn.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=y[n]=y[n]||t,m[t]=e),this},overrideMimeType:function(t){return w||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||b;return r&&r.abort(e),n(0,e),this}};if(d.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,f.url=((t||f.url||pn)+"").replace(dn,"").replace(wn,hn[1]+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=K.trim(f.dataType||"*").toLowerCase().match(pe)||[""],null==f.crossDomain&&(u=bn.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===hn[1]&&u[2]===hn[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(hn[3]||("http:"===hn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=K.param(f.data,f.traditional)),D(xn,f,e,x),2===w)return x;c=f.global,c&&0===K.active++&&K.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!yn.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(fn.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=gn.test(i)?i.replace(gn,"$1_="+ln++):i+(fn.test(i)?"&":"?")+"_="+ln++)),f.ifModified&&(K.lastModified[i]&&x.setRequestHeader("If-Modified-Since",K.lastModified[i]),K.etag[i]&&x.setRequestHeader("If-None-Match",K.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||e.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+_n+"; q=0.01":""):f.accepts["*"]);for(l in f.headers)x.setRequestHeader(l,f.headers[l]);if(f.beforeSend&&(f.beforeSend.call(h,x,f)===!1||2===w))return x.abort();b="abort";for(l in{success:1,error:1,complete:1})x[l](f[l]);if(r=D(En,f,e,x)){x.readyState=1,c&&p.trigger("ajaxSend",[x,f]),f.async&&f.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},f.timeout));try{w=1,r.send(m,n)}catch(E){if(!(2>w))throw E;n(-1,E)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return K.get(t,e,n,"json")},getScript:function(t,e){return K.get(t,void 0,e,"script")}}),K.each(["get","post"],function(t,e){K[e]=function(t,n,r,i){return K.isFunction(n)&&(i=i||r,r=n,n=void 0),K.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),K.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){K.fn[e]=function(t){return this.on(e,t)}}),K._evalUrl=function(t){return K.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},K.fn.extend({wrapAll:function(t){var e;return K.isFunction(t)?this.each(function(e){K(this).wrapAll(t.call(this,e))}):(this[0]&&(e=K(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;
return t}).append(this)),this)},wrapInner:function(t){return this.each(K.isFunction(t)?function(e){K(this).wrapInner(t.call(this,e))}:function(){var e=K(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=K.isFunction(t);return this.each(function(n){K(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()}}),K.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},K.expr.filters.visible=function(t){return!K.expr.filters.hidden(t)};var Cn=/%20/g,Sn=/\[\]$/,An=/\r?\n/g,kn=/^(?:submit|button|image|reset|file)$/i,Mn=/^(?:input|select|textarea|keygen)/i;K.param=function(t,e){var n,r=[],i=function(t,e){e=K.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=K.ajaxSettings&&K.ajaxSettings.traditional),K.isArray(t)||t.jquery&&!K.isPlainObject(t))K.each(t,function(){i(this.name,this.value)});else for(n in t)$(n,t[n],e,i);return r.join("&").replace(Cn,"+")},K.fn.extend({serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=K.prop(this,"elements");return t?K.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!K(this).is(":disabled")&&Mn.test(this.nodeName)&&!kn.test(t)&&(this.checked||!Te.test(t))}).map(function(t,e){var n=K(this).val();return null==n?null:K.isArray(n)?K.map(n,function(t){return{name:e.name,value:t.replace(An,"\r\n")}}):{name:e.name,value:n.replace(An,"\r\n")}}).get()}}),K.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Nn=0,In={},On={0:200,1223:204},Rn=K.ajaxSettings.xhr();t.ActiveXObject&&K(t).on("unload",function(){for(var t in In)In[t]()}),Z.cors=!!Rn&&"withCredentials"in Rn,Z.ajax=Rn=!!Rn,K.ajaxTransport(function(t){var e;return Z.cors||Rn&&!t.crossDomain?{send:function(n,r){var i,o=t.xhr(),a=++Nn;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete In[a],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?r(o.status,o.statusText):r(On[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=In[a]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(s){if(e)throw s}},abort:function(){e&&e()}}:void 0}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return K.globalEval(t),t}}}),K.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),K.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=K("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),J.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Ln=[],Pn=/(=)\?(?=&|$)|\?\?/;K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ln.pop()||K.expando+"_"+ln++;return this[t]=!0,t}}),K.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,a,s=e.jsonp!==!1&&(Pn.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pn.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=K.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Pn,"$1"+i):e.jsonp!==!1&&(e.url+=(fn.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||K.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){a=arguments},r.always(function(){t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,Ln.push(i)),a&&K.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),K.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||J;var r=ae.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=K.buildFragment([t],e,i),i&&i.length&&K(i).remove(),K.merge([],r.childNodes))};var Dn=K.fn.load;K.fn.load=function(t,e,n){if("string"!=typeof t&&Dn)return Dn.apply(this,arguments);var r,i,o,a=this,s=t.indexOf(" ");return s>=0&&(r=K.trim(t.slice(s)),t=t.slice(0,s)),K.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&K.ajax({url:t,type:i,dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?K("<div>").append(K.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},K.expr.filters.animated=function(t){return K.grep(K.timers,function(e){return t===e.elem}).length};var jn=t.document.documentElement;K.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,c,l=K.css(t,"position"),f=K(t),h={};"static"===l&&(t.style.position="relative"),s=f.offset(),o=K.css(t,"top"),u=K.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),K.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):f.css(h)}},K.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){K.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return e=o.documentElement,K.contains(e,r)?(typeof r.getBoundingClientRect!==Ce&&(i=r.getBoundingClientRect()),n=V(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===K.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),K.nodeName(t[0],"html")||(r=t.offset()),r.top+=K.css(t[0],"borderTopWidth",!0),r.left+=K.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-K.css(n,"marginTop",!0),left:e.left-r.left-K.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||jn;t&&!K.nodeName(t,"html")&&"static"===K.css(t,"position");)t=t.offsetParent;return t||jn})}}),K.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r="pageYOffset"===n;K.fn[e]=function(i){return ve(this,function(e,i,o){var a=V(e);return void 0===o?a?a[n]:e[i]:void(a?a.scrollTo(r?t.pageXOffset:o,r?o:t.pageYOffset):e[i]=o)},e,i,arguments.length,null)}}),K.each(["top","left"],function(t,e){K.cssHooks[e]=E(Z.pixelPosition,function(t,n){return n?(n=x(t,e),He.test(n)?K(t).position()[e]+"px":n):void 0})}),K.each({Height:"height",Width:"width"},function(t,e){K.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){K.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return ve(this,function(e,n,r){var i;return K.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?K.css(e,n,a):K.style(e,n,r,a)},e,o?r:void 0,o,null)}})}),K.fn.size=function(){return this.length},K.fn.andSelf=K.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return K});var Fn=t.jQuery,qn=t.$;return K.noConflict=function(e){return t.$===K&&(t.$=qn),e&&t.jQuery===K&&(t.jQuery=Fn),K},typeof e===Ce&&(t.jQuery=t.$=K),K})},{}],42:[function(t,e){!function(t){"use strict";var n={};n.VERSION="0.9.14";var r,i={},o=function(t,e){return function(){return e.apply(t,arguments)}},a=function(){var t,e,n=arguments,r=n[0];for(e=1;e<n.length;e++)for(t in n[e])t in r||!n[e].hasOwnProperty(t)||(r[t]=n[e][t]);return r},s=function(t,e){return{value:t,name:e}};n.DEBUG=s(1,"DEBUG"),n.INFO=s(2,"INFO"),n.WARN=s(4,"WARN"),n.ERROR=s(8,"ERROR"),n.OFF=s(99,"OFF");var u=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};u.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},enabledFor:function(t){var e=this.context.filterLevel;return t.value>=e.value},debug:function(){this.invoke(n.DEBUG,arguments)},info:function(){this.invoke(n.INFO,arguments)},warn:function(){this.invoke(n.WARN,arguments)},error:function(){this.invoke(n.ERROR,arguments)},invoke:function(t,e){r&&this.enabledFor(t)&&r(e,a({level:t},this.context))}};var c=new u({filterLevel:n.OFF});!function(){var t=n;t.enabledFor=o(c,c.enabledFor),t.debug=o(c,c.debug),t.info=o(c,c.info),t.warn=o(c,c.warn),t.error=o(c,c.error),t.log=t.info}(),n.setHandler=function(t){r=t},n.setLevel=function(t){c.setLevel(t);for(var e in i)i.hasOwnProperty(e)&&i[e].setLevel(t)},n.get=function(t){return i[t]||(i[t]=new u(a({name:t},c.context)))},n.useDefaults=function(t){"undefined"!=typeof console&&(n.setLevel(t||n.DEBUG),n.setHandler(function(t,e){var r=console.log;e.name&&(t[0]="["+e.name+"] "+t[0]),e.level===n.WARN&&console.warn?r=console.warn:e.level===n.ERROR&&console.error?r=console.error:e.level===n.INFO&&console.info&&(r=console.info),Function.prototype.apply.call(r,console,t)}))},"function"==typeof define&&define.amd?define(n):"undefined"!=typeof e&&e.exports?e.exports=n:(n._prevLogger=t.Logger,n.noConflict=function(){return t.Logger=n._prevLogger,n},t.Logger=n)}(this)},{}],43:[function(t,e){!function(t){"use strict";var n=t.Ractive,r=function(){var t={el:void 0,append:!1,template:{v:1,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,noCssTransform:!1,debug:!1};return t}(),i={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}},o=[],a=Object.prototype.hasOwnProperty,s=function(){var t=Object.prototype.toString;return function(e){return"[object Array]"===t.call(e)}}(),u=function(){var t=Object.prototype.toString;return function(e){return e&&"[object Object]"===t.call(e)}}(),c=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},l=function(t,e,n,r,i){var o,a,s;return t.push(function(){a=t.interpolate}),s=/^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/,o={number:function(t,e){var n;return i(t)&&i(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var r,i,o,s;if(!n(t)||!n(e))return null;for(r=[],i=[],s=o=Math.min(t.length,e.length);s--;)i[s]=a(t[s],e[s]);for(s=o;s<t.length;s+=1)r[s]=t[s];for(s=o;s<e.length;s+=1)r[s]=e[s];return function(t){for(var e=o;e--;)r[e]=i[e](t);return r}},object:function(t,n){var i,o,s,u,c;if(!r(t)||!r(n))return null;i=[],u={},s={};for(c in t)e.call(t,c)&&(e.call(n,c)?(i.push(c),s[c]=a(t[c],n[c])):u[c]=t[c]);for(c in n)e.call(n,c)&&!e.call(t,c)&&(u[c]=n[c]);return o=i.length,function(t){for(var e,n=o;n--;)e=i[n],u[e]=s[e](t);return u}},cssLength:function(t,e){var n,r,i,o,a,u,c,l;return 0!==t&&"string"!=typeof t||0!==e&&"string"!=typeof e?null:(n=s.exec(t),r=s.exec(e),i=n?n[2]:"",o=r?r[2]:"",i&&o&&i!==o?null:(c=i||o,a=n?+n[1]:0,u=r?+r[1]:0,l=u-a,l?function(t){return a+t*l+c}:function(){return a+c}))}}}(o,a,s,u,c),f=function(){var t;return t="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),h=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},p=function(){function t(t){setTimeout(t,0)}function e(t,e){return function(){for(var n;n=t.shift();)n(e)}}function n(t,e,i,o){var a;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof r)e.then(i,o);else if(!e||"object"!=typeof e&&"function"!=typeof e)i(e);else{try{a=e.then}catch(s){return void o(s)}if("function"==typeof a){var u,c,l;c=function(e){u||(u=!0,n(t,e,i,o))},l=function(t){u||(u=!0,o(t))};try{a.call(e,c,l)}catch(s){if(!u)return o(s),void(u=!0)}}else i(e)}}var r,i={},o={},a={};return"function"==typeof p?r=p:(r=function(s){var u,c,l,f,h,p,d=[],g=[],v=i;l=function(n){return function(r){v===i&&(u=r,v=n,c=e(v===o?d:g,u),t(c))}},f=l(o),h=l(a);try{s(f,h)}catch(m){h(m)}return p={then:function(e,o){var a=new r(function(r,s){var u=function(t,e,i){e.push("function"==typeof t?function(e){var i;try{i=t(e),n(a,i,r,s)}catch(o){s(o)}}:i)};u(e,d,r),u(o,g,s),v!==i&&t(c)});return a}},p["catch"]=function(t){return this.then(null,t)},p},r.all=function(t){return new r(function(e,n){var r,i,o,a=[];if(!t.length)return void e(a);for(o=function(i){t[i].then(function(t){a[i]=t,--r||e(a)},n)},r=i=t.length;i--;)o(i)})},r.resolve=function(t){return new r(function(e){e(t)})},r.reject=function(t){return new r(function(e,n){n(t)})}),r}(),d=function(){var t=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function(e){return(e||"").replace(t,".$1")}}(),g=function(t){do if(t.context)return t.context;while(t=t.parent);return""},v=function(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e},m=function(t,e,n){var r;t.push(function(){return r=t.runloop});var i=function(t,e,n,r,i){this.root=t,this.keypath=e,this.priority=i,this.otherInstance=n,this.otherKeypath=r,this.bind(),this.value=this.root.viewmodel.get(this.keypath)};return i.prototype={setValue:function(t){var i=this;return this.updating||this.counterpart&&this.counterpart.updating?void(this.value=t):void(e(t)&&t._ractive&&t._ractive.setting||n(t,this.value)||(this.updating=!0,r.addViewmodel(this.otherInstance.viewmodel),this.otherInstance.viewmodel.set(this.otherKeypath,t),this.value=t,r.scheduleTask(function(){return i.updating=!1})))},bind:function(){this.root.viewmodel.register(this.keypath,this)},rebind:function(t){this.unbind(),this.keypath=t,this.counterpart.otherKeypath=t,this.bind()},unbind:function(){this.root.viewmodel.unregister(this.keypath,this)}},function(t,e,n,r){var o,a,s,u,c,l;o=n+"="+r,s=t.bindings,s[o]||(s[o]=!0,a=t.instance,u=t.parentFragment.priority,c=new i(e,n,a,r,u),s.push(c),a.twoway&&(l=new i(a,r,e,n,1),s.push(l),c.counterpart=l,l.counterpart=c))}}(o,s,v),y=function(t,e,n){function r(t,e){var n;if("."===e)return t;if(n=t?t.split("."):[],"../"===e.substr(0,3)){for(;"../"===e.substr(0,3);){if(!n.length)throw new Error(i);n.pop(),e=e.substring(3)}return n.push(e),n.join(".")}return t?t+e.replace(/^\.\//,"."):e.replace(/^\.\/?/,"")}var i,o;return i='Could not resolve reference - too many "../" prefixes',o={evaluateWrapped:!0},function a(i,s,u){var c,l,f,h,p,d,g,v,m,y;if(s=t(s),"~/"===s.substr(0,2))return s.substring(2);if("."===s.charAt(0))return r(e(u),s);l=s.split(".")[0];do if(c=u.context,c&&(d=!0,p=i.viewmodel.get(c,o),p&&("object"==typeof p||"function"==typeof p)&&l in p))return c+"."+s;while(u=u.parent);if(l in i.data||l in i.viewmodel.computations)return s;if(i._parent&&!i.isolated){if(u=i.component.parentFragment,u.indexRefs&&void 0!==(f=u.indexRefs[s]))return i.component.indexRefBindings[s]=s,void i.viewmodel.set(s,f,!0);if(h=a(i._parent,s,u)){for(g=h.split("."),v=s.split(".");g.length>1&&v.length>1&&g[g.length-1]===v[v.length-1];)g.pop(),v.pop();return m=g.join("."),y=v.join("."),i.viewmodel.set(y,i._parent.viewmodel.get(m),!0),n(i.component,i._parent,m,y),s}}return d?void 0!==i.viewmodel.get(s)?s:void 0:s}}(d,g,m),w=function(t){function e(t){t.detach()}function n(t){t.detachNodes()}function r(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.parent?t.parent.decrementOutros(t):t.detachNodes(),t.outrosComplete=!0),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&t.parent.decrementTotal()))}var i=function(t,e){this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.outrosComplete=!1,e&&e.addChild(this)};return i.prototype={addChild:function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,r(this)},decrementTotal:function(){this.totalChildren-=1,r(this)},add:function(t){var e=t.isIntro?this.intros:this.outros;e.push(t)},remove:function(e){var n=e.isIntro?this.intros:this.outros;t(n,e),r(this)},init:function(){this.ready=!0,r(this)},detachNodes:function(){this.detachQueue.forEach(e),this.children.forEach(n)}},i}(h),b=function(t,e,n,r,i){function o(){var t,e,n;for(t=0;t<s.viewmodels.length;t+=1)e=s.viewmodels[t],n=e.applyChanges(),n&&e.ractive.fire("change",n);for(s.viewmodels.length=0,a(),t=0;t<s.views.length;t+=1)s.views[t].update();for(s.views.length=0,t=0;t<s.tasks.length;t+=1)s.tasks[t]();return s.tasks.length=0,s.viewmodels.length?o():void 0}function a(){var t,e,n;if(c.length)for(t=c.splice(0,c.length);e=t.pop();)e.keypath||(n=r(e.root,e.ref,e.parentFragment),void 0!==n?e.resolve(n):c.push(e))}var s,u,c=[];return u={start:function(t,e){var r,o;return e&&(r=new n(function(t){return o=t})),s={previousBatch:s,transitionManager:new i(o,s&&s.transitionManager),views:[],tasks:[],viewmodels:[]},t&&s.viewmodels.push(t.viewmodel),r},end:function(){o(),s.transitionManager.init(),s=s.previousBatch},addViewmodel:function(t){s?-1===s.viewmodels.indexOf(t)&&s.viewmodels.push(t):t.applyChanges()},registerTransition:function(t){t._manager=s.transitionManager,s.transitionManager.add(t)},addView:function(t){s.views.push(t)},addUnresolved:function(t){c.push(t)},removeUnresolved:function(t){e(c,t)},detachWhenReady:function(t){s.transitionManager.detachQueue.push(t)},scheduleTask:function(t){s?s.tasks.push(t):t()}},t.runloop=u,u}(o,h,p,y,w),x=function(){var t=/^\s*[0-9]+\s*$/;return function(e){return t.test(e)?[]:{}}}(),E=function(t,e,n){function r(e,n,r){function i(e){var r,i;e.value=n,e.updating||(i=e.ractive,r=e.keypath,e.updating=!0,t.start(i),i.viewmodel.mark(r),t.end(),e.updating=!1)}var o,a,s,u,c,l;if(o=e.obj,a=e.prop,r&&!r.configurable){if("length"===a)return;throw new Error('Cannot use magic mode with property "'+a+'" - object is not configurable')}r&&(s=r.get,u=r.set),c=s||function(){return n},l=function(t){u&&u(t),n=s?s():t,l._ractiveWrappers.forEach(i)},l._ractiveWrappers=[e],Object.defineProperty(o,a,{get:c,set:l,enumerable:!0,configurable:!0})}var i,o;try{Object.defineProperty({},"test",{value:0}),i={filter:function(t,e,r){var i,o,a,s,u;return e?(i=e.split("."),o=i.pop(),a=i.join("."),(s=r.viewmodel.wrapped[a])&&!s.magic?!1:(u=r.get(a),n(u)&&/^[0-9]+$/.test(o)?!1:u&&("object"==typeof u||"function"==typeof u))):!1},wrap:function(t,e,n){return new o(t,e,n)}},o=function(t,e,n){var i,o,a,s;return this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,i=n.split("."),this.prop=i.pop(),o=i.join("."),this.obj=o?t.get(o):t.data,a=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),a&&a.set&&(s=a.set._ractiveWrappers)?void(-1===s.indexOf(this)&&s.push(this)):void r(this,e,a)},o.prototype={get:function(){return this.value},reset:function(e){this.updating||(this.updating=!0,this.obj[this.prop]=e,t.addViewmodel(this.ractive.viewmodel),this.ractive.viewmodel.mark(this.keypath),this.updating=!1)},set:function(t,n){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=e(t),this.updating=!1),this.obj[this.prop][t]=n)},teardown:function(){var t,e,n,r,i;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,void(e&&(r=e._ractiveWrappers,i=r.indexOf(this),-1!==i&&r.splice(i,1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(a){i=!1}return i}(b,x,s),_=function(t){return!!t}(E),T={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},C=function(t,e){var n;return n=t?function(t,n){return n&&n!==e.html?document.createElementNS(n,t):document.createElement(t)}:function(t,n){if(n&&n!==e.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)}}(f,T),S=function(){var t="object"==typeof document;return t}(),A=function(t){var e;try{Object.defineProperty({},"test",{value:0}),t&&Object.defineProperty(document.createElement("div"),"test",{value:0}),e=Object.defineProperty}catch(n){e=function(t,e,n){t[e]=n.value}}return e}(S),k=function(t,e,n){var r;try{try{Object.defineProperties({},{test:{value:0}})}catch(i){throw i}n&&Object.defineProperties(t("div"),{test:{value:0}}),r=Object.defineProperties}catch(i){r=function(t,n){var r;for(r in n)n.hasOwnProperty(r)&&e(t,r,n[r])}}return r}(C,A,S),M=function(t){return function(e,n,r){var i;if("string"!=typeof n||!t(r))throw new Error("Bad arguments");if(i=+e.get(n)||0,!t(i))throw new Error("Cannot add to a non-numeric value");return e.set(n,i+r)}}(c),N=function(t){return function(e,n){return t(this,e,void 0===n?1:+n)}}(M),I=function(t){var e=/^\.+/;return function(n){return t(n).replace(e,"")}}(d),O=["o","ms","moz","webkit"],R=function(t){var e;return"undefined"==typeof window?e=null:(!function(t,e,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<t.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[t[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(t){var n,r,o;return n=Date.now(),r=Math.max(0,16-(n-e)),o=i(function(){t(n+r)},r),e=n+r,o})}}(t,0,window),e=window.requestAnimationFrame),e}(O),L=function(){var t;return t="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()}}(),P=function(t,e,n){var r=[],i={tick:function(){var o,a,s;for(s=e(),n.start(),o=0;o<r.length;o+=1)a=r[o],a.tick(s)||r.splice(o--,1);n.end(),r.length?t(i.tick):i.running=!1},add:function(e){r.push(e),i.running||(i.running=!0,t(i.tick))},abort:function(t,e){for(var n,i=r.length;i--;)n=r[i],n.root===e&&n.keypath===t&&n.stop()}};return i}(R,L,b),D=function(){var t,e={};return t="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(t,n){if(!n){if(e[t])return;e[t]=!0}console.warn(t)}:function(){}}(),j=function(){function t(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function e(t){return t.str}var n=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,r=/\/\*.*?\*\//g,i=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~]+)?\s*[\s\+\>\~]?)\s*/g,o=/^@media/,a=/\[data-rvcguid="[a-z0-9-]+"]/g;return function(s,u){var c,l;return l=function(t){var n,r,o,a,s,c,l,f,h=[];for(n=[];r=i.exec(t);)n.push({str:r[0],base:r[1],modifiers:r[2]});for(a='[data-rvcguid="'+u+'"]',s=n.map(e),f=n.length;f--;)l=s.slice(),o=n[f],l[f]=o.base+a+o.modifiers||"",c=s.slice(),c[f]=a+" "+c[f],h.push(l.join(" "),c.join(" "));return h.join(", ")},c=a.test(s)?s.replace(a,'[data-rvcguid="'+u+'"]'):s.replace(r,"").replace(n,function(e,n){var r,i;return o.test(n)?e:(r=n.split(",").map(t),i=r.map(l).join(", ")+" ",e.replace(n,i))})}}(),F=function(t){function e(t,e,r){var i,o=e.constructor._guid;(i=n(r.css,r,o)||n(t.css,t,o))&&(e.constructor.css=i)}function n(e,n,r){return e?n.noCssTransform?e:t(e,r):void 0}var r={name:"css",extend:e,init:function(){}};return r}(j),q=function(){function t(t,e){return"function"==typeof e&&/_super/.test(t)}return function(e,n,r){return r||t(e,n)?function(){var t,r="_super"in this,i=this._super;return this._super=n,t=e.apply(this,arguments),r&&(this._super=i),t}:e}}(),$=function(t){function e(t,e,n){var r=n.data||{},i=o(t.prototype.data);return a(i,r)}function n(t,n,r){n.data=e(t,n,r)}function r(t,n,r){var i=r.data,o=e(t,n,r);return"function"==typeof o&&(o=o.call(n,i)||i),n.data=o||{}}function i(t){var e=this.init(t.constructor,t,t);return e?(t.data=e,!0):void 0}function o(t){if("function"!=typeof t||!Object.keys(t).length)return t;var e={};return s(t,e),a(t,e)}function a(t,e){return"function"==typeof e?l(e,t):"function"==typeof t?c(e,t):u(e,t)}function s(t,e,n){for(var r in t)n&&r in e||(e[r]=t[r])}function u(t,e){return t=t||{},e?(s(e,t,!0),t):t}function c(t,e){return function(n){var r;if(t){r=[];for(var i in t)n&&i in n||r.push(i)}return n=e.call(this,n)||n,r&&r.length&&(n=n||{},r.forEach(function(e){n[e]=t[e]})),n}}function l(e,n){var r;return r="function"!=typeof n?function(t){u(t,n)}:function(e){return n=t(n,function(){},!0),n.call(this,e)||e},t(e,r)}var f={name:"data",extend:n,init:r,reset:i};return f}(q),V={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",mergeComparisonFail:"Merge operation: comparison failed. Falling back to identity checking",noComponentEventArguments:"Components currently only support simple events - you cannot include arguments. Sorry!",noTemplateForPartial:'Could not find template for partial "{name}"',noNestedPartials:"Partials ({{>{name}}}) cannot contain nested inline partials",evaluationError:'Error evaluating "{uniqueString}": {err}',badArguments:"Bad arguments \"{arguments}\". I'm not allowed to argue unless you've paid.",failedComputation:'Failed to compute "{key}": {err}',missingPlugin:'Missing "{name}" {plugin} plugin. You may need to download a {plugin} via http://docs.ractivejs.org/latest/plugins#{plugin}s',badRadioInputBinding:"A radio input can have two-way binding on its name attribute, or its checked attribute - not both",noRegistryFunctionReturn:'A function was specified for "{name}" {registry}, but no {registry} was returned'},H={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,CLOSING_TAG:14,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40,SECTION_IF:50,SECTION_UNLESS:51,SECTION_EACH:52,SECTION_WITH:53},W=function(){var t;try{Object.create(null),t=Object.create}catch(e){t=function(){var t=function(){};return function(e,n){var r;return null===e?{}:(t.prototype=e,r=new t,n&&Object.defineProperties(r,n),r)}}()}return t}(),z={expectedExpression:"Expected a JavaScript expression",expectedParen:"Expected closing paren"},U=function(t){var e=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;return function(n){var r;return(r=n.matchPattern(e))?{t:t.NUMBER_LITERAL,v:r}:null}}(H),B=function(t){return function(e){var n=e.remaining();return"true"===n.substr(0,4)?(e.pos+=4,{t:t.BOOLEAN_LITERAL,v:"true"}):"false"===n.substr(0,5)?(e.pos+=5,{t:t.BOOLEAN_LITERAL,v:"false"}):null}}(H),X=function(){var t,e,n;return t=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,e=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,n=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/,function(r){return function(i){var o,a,s,u;for(o=i.pos,a='"',s=!1;!s;)u=i.matchPattern(t)||i.matchPattern(e)||i.matchString(r),u?a+='"'===u?'\\"':"\\'"===u?"'":u:(u=i.matchPattern(n),u?a+="\\u"+("000"+u.charCodeAt(1).toString(16)).slice(-4):s=!0);return a+='"',JSON.parse(a)}}}(),Y=function(t){return t('"')}(X),G=function(t){return t("'")}(X),Z=function(t,e,n){return function(r){var i,o;return i=r.pos,r.matchString('"')?(o=n(r),r.matchString('"')?{t:t.STRING_LITERAL,v:o}:(r.pos=i,null)):r.matchString("'")?(o=e(r),r.matchString("'")?{t:t.STRING_LITERAL,v:o}:(r.pos=i,null)):null}}(H,Y,G),J={name:/^[a-zA-Z_$][a-zA-Z_$0-9]*/},Q=function(t,e,n){var r=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(i){var o;return(o=t(i))?r.test(o.v)?o.v:'"'+o.v.replace(/"/g,'\\"')+'"':(o=e(i))?o.v:(o=i.matchPattern(n.name))?o:void 0}}(Z,U,J),K=function(t,e){return function(n){var r,i,o;return r=n.pos,n.allowWhitespace(),i=e(n),null===i?(n.pos=r,null):(n.allowWhitespace(),n.matchString(":")?(n.allowWhitespace(),o=n.readExpression(),null===o?(n.pos=r,null):{t:t.KEY_VALUE_PAIR,k:i,v:o}):(n.pos=r,null))}}(H,Q),te=function(t){return function e(n){var r,i,o,a;return r=n.pos,o=t(n),null===o?null:(i=[o],n.matchString(",")?(a=e(n),a?i.concat(a):(n.pos=r,null)):i)}}(K),ee=function(t,e){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.matchString("{")?(i=e(n),n.allowWhitespace(),n.matchString("}")?{t:t.OBJECT_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(H,te),ne=function(t){return function e(n){function r(t){o.push(t)}var i,o,a,s;return i=n.pos,n.allowWhitespace(),a=n.readExpression(),null===a?null:(o=[a],n.allowWhitespace(),n.matchString(",")&&(s=e(n),null===s&&n.error(t.expectedExpression),s.forEach(r)),o)}}(z),re=function(t,e){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.matchString("[")?(i=e(n),n.matchString("]")?{t:t.ARRAY_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(H,ne),ie=function(t,e,n,r,i){return function(o){var a=t(o)||e(o)||n(o)||r(o)||i(o);return a}}(U,B,Z,ee,re),oe=function(t,e){var n,r,i,o,a;return n=/^\.[a-zA-Z_$0-9]+/,i=function(t){var e=t.matchPattern(r);return e?"."+e:null},r=/^\[(0|[1-9][0-9]*)\]/,o=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,a=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/,function(r){var s,u,c,l,f,h,p;if(s=r.pos,r.matchString("~/"))u="~/";else for(u="";r.matchString("../");)u+="../";if(u||(l=r.matchString(".")||""),c=r.matchPattern(/^@(?:index|key)/)||r.matchPattern(e.name)||"",a.test(c))return r.pos=s,null;if(!u&&!l&&o.test(c))return{t:t.GLOBAL,v:c};if(f=(u||l)+c,!f)return null;for(;h=r.matchPattern(n)||i(r);)f+=h;return r.matchString("(")&&(p=f.lastIndexOf("."),-1!==p?(f=f.substr(0,p),r.pos=s+f.length):r.pos-=1),{t:t.REFERENCE,n:f.replace(/^this\./,"./").replace(/^this$/,".")}}}(H,J),ae=function(t,e){return function(n){var r,i;return r=n.pos,n.matchString("(")?(n.allowWhitespace(),i=n.readExpression(),i||n.error(e.expectedExpression),n.allowWhitespace(),n.matchString(")")||n.error(e.expectedParen),{t:t.BRACKETED,x:i}):null}}(H,z),se=function(t,e,n){return function(r){return t(r)||e(r)||n(r)}}(ie,oe,ae),ue=function(t,e,n){return function(r){var i,o,a;if(i=r.pos,r.allowWhitespace(),r.matchString(".")){if(r.allowWhitespace(),o=r.matchPattern(n.name))return{t:t.REFINEMENT,n:o};r.error("Expected a property name")}return r.matchString("[")?(r.allowWhitespace(),a=r.readExpression(),a||r.error(e.expectedExpression),r.allowWhitespace(),r.matchString("]")||r.error("Expected ']'"),{t:t.REFINEMENT,x:a}):null}}(H,z,J),ce=function(t,e,n,r,i){return function(o){var a,s,u,c;if(s=e(o),!s)return null;for(;s;)if(a=o.pos,u=r(o))s={t:t.MEMBER,x:s,r:u};else{if(!o.matchString("("))break;o.allowWhitespace(),c=n(o),o.allowWhitespace(),o.matchString(")")||o.error(i.expectedParen),s={t:t.INVOCATION,x:s},c&&(s.o=c)}return s}}(H,se,ne,ue,z),le=function(t,e,n){var r,i;return i=function(n,r){return function(i){var o;return(o=r(i))?o:i.matchString(n)?(i.allowWhitespace(),o=i.readExpression(),o||i.error(e.expectedExpression),{s:n,o:o,t:t.PREFIX_OPERATOR}):null}},function(){var t,e,o,a,s;for(a="! ~ + - typeof".split(" "),s=n,t=0,e=a.length;e>t;t+=1)o=i(a[t],s),s=o;r=s}(),r}(H,z,ce),fe=function(t,e){var n,r;return r=function(e,n){return function(r){var i,o,a;if(o=n(r),!o)return null;for(;;){if(i=r.pos,r.allowWhitespace(),!r.matchString(e))return r.pos=i,o;if("in"===e&&/[a-zA-Z_$0-9]/.test(r.remaining().charAt(0)))return r.pos=i,o;if(r.allowWhitespace(),a=n(r),!a)return r.pos=i,o;o={t:t.INFIX_OPERATOR,s:e,o:[o,a]}
}}},function(){var t,i,o,a,s;for(a="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),s=e,t=0,i=a.length;i>t;t+=1)o=r(a[t],s),s=o;n=s}(),n}(H,le),he=function(t,e,n){return function(r){var i,o,a,s;return(o=e(r))?(i=r.pos,r.allowWhitespace(),r.matchString("?")?(r.allowWhitespace(),a=r.readExpression(),a||r.error(n.expectedExpression),r.allowWhitespace(),r.matchString(":")||r.error('Expected ":"'),r.allowWhitespace(),s=r.readExpression(),s||r.error(n.expectedExpression),{t:t.CONDITIONAL,o:[o,a,s]}):(r.pos=i,o)):null}}(H,fe,z),pe=function(t,e){function n(t){return JSON.stringify(String(t))}function r(n,i){var o,a;if(n.t===t.REFERENCE&&-1===i.indexOf(n.n)&&i.unshift(n.n),a=n.o||n.m)if(e(a))r(a,i);else for(o=a.length;o--;)r(a[o],i);n.x&&r(n.x,i),n.r&&r(n.r,i),n.v&&r(n.v,i)}function i(e,r,o){var a=function(t){return i(e,t,o)};switch(r.t){case t.BOOLEAN_LITERAL:case t.GLOBAL:case t.NUMBER_LITERAL:return r.v;case t.STRING_LITERAL:return n(r.v);case t.ARRAY_LITERAL:return"["+(r.m?r.m.map(a).join(","):"")+"]";case t.OBJECT_LITERAL:return"{"+(r.m?r.m.map(a).join(","):"")+"}";case t.KEY_VALUE_PAIR:return r.k+":"+i(e,r.v,o);case t.PREFIX_OPERATOR:return("typeof"===r.s?"typeof ":r.s)+i(e,r.o,o);case t.INFIX_OPERATOR:return i(e,r.o[0],o)+("in"===r.s.substr(0,2)?" "+r.s+" ":r.s)+i(e,r.o[1],o);case t.INVOCATION:return i(e,r.x,o)+"("+(r.o?r.o.map(a).join(","):"")+")";case t.BRACKETED:return"("+i(e,r.x,o)+")";case t.MEMBER:return i(e,r.x,o)+i(e,r.r,o);case t.REFINEMENT:return r.n?"."+r.n:"["+i(e,r.x,o)+"]";case t.CONDITIONAL:return i(e,r.o[0],o)+"?"+i(e,r.o[1],o)+":"+i(e,r.o[2],o);case t.REFERENCE:return"${"+o.indexOf(r.n)+"}";default:e.error("Expected legal JavaScript")}}return function(t){var e,n=[];return r(t,n),e={r:n,s:i(this,t,n)}}}(H,u),de=function(t,e,n,r,i){var o,a,s=/^\s+/;return a=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(e){this.stack=e.stack}},a.prototype=Error.prototype,o=function(t,e){var n,r;for(this.str=t,this.options=e||{},this.pos=0,this.init&&this.init(t,e),n=[];this.pos<this.str.length&&(r=this.read());)n.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,e):n},o.prototype={read:function(t){var e,n,r,i;for(t||(t=this.converters),e=this.pos,r=t.length,n=0;r>n;n+=1)if(this.pos=e,i=t[n](this))return i;return null},readExpression:function(){return r(this)},flattenExpression:i,getLinePos:function(){var t,e,n,r,i,o;t=this.str.split("\n"),i=-1,r=0;do n=r,i++,e=t[i],r+=e.length+1;while(r<=this.pos);return o=this.pos-n,{line:i+1,ch:o+1,text:e,toJSON:function(){return[this.line,this.ch]},toString:function(){return"line "+this.line+" character "+this.ch+":\n"+this.text+"\n"+this.text.substr(0,this.ch-1).replace(/[\S]/g," ")+"^----"}}},error:function(t){var e,n;throw e=this.getLinePos(),n=t+" at "+e,new a(n)},matchString:function(t){return this.str.substr(this.pos,t.length)===t?(this.pos+=t.length,t):void 0},matchPattern:function(t){var e;return(e=t.exec(this.remaining()))?(this.pos+=e[0].length,e[1]||e[0]):void 0},allowWhitespace:function(){this.matchPattern(s)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},o.extend=function(t){var r,i,a=this;r=function(t,e){o.call(this,t,e)},r.prototype=e(a.prototype);for(i in t)n.call(t,i)&&(r.prototype[i]=t[i]);return r.extend=o.extend,r},t.Parser=o,o}(o,W,a,he,pe),ge=function(){var t=/^[^\s=]+/,e=/^\s+/;return function(n){var r,i,o;return n.matchString("=")?(r=n.pos,n.allowWhitespace(),(i=n.matchPattern(t))?n.matchPattern(e)?(o=n.matchPattern(t))?(n.allowWhitespace(),n.matchString("=")?[i,o]:(n.pos=r,null)):(n.pos=r,null):null:(n.pos=r,null)):null}}(),ve=[{delimiters:"delimiters",isTriple:!1,isStatic:!1},{delimiters:"tripleDelimiters",isTriple:!0,isStatic:!1},{delimiters:"staticDelimiters",isTriple:!1,isStatic:!0},{delimiters:"staticTripleDelimiters",isTriple:!0,isStatic:!0}],me=function(t){var e={"#":t.SECTION,"^":t.INVERTED,"/":t.CLOSING,">":t.PARTIAL,"!":t.COMMENT,"&":t.TRIPLE};return function(t){var n=e[t.str.charAt(t.pos)];return n?(t.pos+=1,n):null}}(H),ye=function(t){return{"if":t.SECTION_IF,unless:t.SECTION_UNLESS,"with":t.SECTION_WITH,each:t.SECTION_EACH}}(H),we=null,be=function(t,e,n){function r(e,n){for(var r,i=[];n.t===t.MEMBER&&n.r.t===t.REFINEMENT;)r=n.r,i.unshift(r.x?r.x.t===t.REFERENCE?r.x:e.flattenExpression(r.x):r.n),n=n.x;return n.t!==t.REFERENCE?null:{r:n.n,m:i}}var i,o=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,a=/^[0-9][1-9]*$/,s=new RegExp("^("+Object.keys(n).join("|")+")\\b");return i=/^[a-zA-Z$_0-9]+(?:(\.[a-zA-Z$_0-9]+)|(\[[a-zA-Z$_0-9]+\]))*$/,function(n,u){var c,l,f,h,p,d,g,v,m,y,w;if(c=n.pos,f={},y=n[u.delimiters],u.isStatic&&(f.s=!0),u.isTriple)f.t=t.TRIPLE;else if("!"===n.remaining()[0]&&(d=n.readExpression())&&(f.t=t.INTERPOLATOR,n.allowWhitespace(),n.matchString(y[1])?n.pos-=y[1].length:(n.pos=c,d=null)),!d)if(h=e(n),f.t=h||t.INTERPOLATOR,h===t.SECTION)(p=n.matchPattern(s))&&(f.n=p),n.allowWhitespace();else if((h===t.COMMENT||h===t.CLOSING)&&(v=n.remaining(),m=v.indexOf(y[1]),-1!==m))return f.r=v.substr(0,m),n.pos+=m,f;if(!d&&(n.allowWhitespace(),d=n.readExpression(),v=n.remaining(),v.substr(0,y[1].length)!==y[1]&&":"!==v.charAt(0))){if(l=n.pos,n.pos=c,v=n.remaining(),m=v.indexOf(y[1]),-1!==m)return f.r=v.substr(0,m).trim(),i.test(f.r)||n.error("Expected a legal Mustache reference"),n.pos+=m,f;n.pos=l}if(d){for(;d.t===t.BRACKETED&&d.x;)d=d.x;d.t===t.REFERENCE?f.r=d.n:d.t===t.NUMBER_LITERAL&&a.test(d.v)?f.r=d.v:(w=r(n,d))?f.rx=w:f.x=n.flattenExpression(d)}return(g=n.matchPattern(o))&&(f.i=g),f}}(H,me,ye,we),xe=function(t,e,n,r,i){function o(t){var e;return e=n.slice().sort(function(e,n){return t[n.delimiters][0].length-t[e.delimiters][0].length}),function r(n){return n?a(t,n)||r(e.shift()):null}(e.shift())}function a(n,o){var a,u,c,h,p,d,g,v,m,y;if(a=n.pos,u=n.getLinePos(),h=n[o.delimiters],!n.matchString(h[0]))return null;if(c=e(n))return n.matchString(h[1])?(n[o.delimiters]=c,f):null;if(n.allowWhitespace(),c=r(n,o),null===c)return n.pos=a,null;if(n.allowWhitespace(),n.matchString(h[1])||n.error("Expected closing delimiter '"+h[1]+"' after reference"),c.t===t.COMMENT&&(c.exclude=!0),c.t===t.CLOSING&&(n.sectionDepth-=1,n.sectionDepth<0&&(n.pos=a,n.error("Attempted to close a section that wasn't open"))),l(c)){for(n.sectionDepth+=1,p=[],v=p,d=c.n;m=n.read();){if(m.t===t.CLOSING){d&&m.r!==d&&n.error("Expected {{/"+d+"}}");break}if(m.t===t.INTERPOLATOR&&"else"===m.r)switch(c.n){case"unless":n.error("{{else}} not allowed in {{#unless}}");break;case"with":n.error("{{else}} not allowed in {{#with}}");break;default:v=g=[];continue}v.push(m)}p.length&&(c.f=p,!c.i&&"each"===c.n&&(y=s(c.f))&&(c.i=y)),g&&g.length&&(c.l=g)}return n.includeLinePositions&&(c.p=u.toJSON()),c.n?c.n=i[c.n]:c.t===t.INVERTED&&(c.t=t.SECTION,c.n=t.SECTION_UNLESS),c}function s(e){var n,r,i;for(n=e.length;n--;){if(r=e[n],r.t===t.ELEMENT&&r.f&&(i=s(r.f)))return i;if(r.t===t.INTERPOLATOR||r.t===t.TRIPLE||r.t===t.SECTION){if(r.r&&h.test(r.r))return r.r;if(r.x&&(i=u(r.x)))return i;if(r.rx&&(i=c(r.rx)))return i}}}function u(t){var e;for(e=t.r.length;e--;)if(h.test(t.r[e]))return t.r[e]}function c(e){var n,r,i;for(n=e.m.length;n--;){if(i=e.m[n],i.r&&(r=u(i)))return r;if(i.t===t.REFERENCE&&h.test(i.n))return i.n}}function l(e){return e.t===t.SECTION||e.t===t.INVERTED}var f={t:t.DELIMCHANGE,exclude:!0},h=/^@(?:index|key)$/;return o}(H,ge,ve,be,ye),Ee=function(t){var e="<!--",n="-->";return function(r){var i,o,a,s,u;return i=r.getLinePos(),r.matchString(e)?(a=r.remaining(),s=a.indexOf(n),-1===s&&r.error("Illegal HTML - expected closing comment sequence ('-->')"),o=a.substr(0,s),r.pos+=s+3,u={t:t.COMMENT,c:o},r.includeLinePositions&&(u.p=i.toJSON()),u):null}}(H),_e=function(){var t=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i;return t}(),Te=function(t,e){var n,r,i;for(n=e.length;n--;){if(r=t.indexOf(e[n]),!r)return 0;-1!==r&&(!i||i>r)&&(i=r)}return i||-1},Ce=function(){function t(t){return t?10===t?32:128>t?t:159>=t?n[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533}var e,n,r,i,o;return e={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},n=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],r=new RegExp("&("+Object.keys(e).join("|")+");?","g"),i=/&#x([0-9]+);?/g,o=/&#([0-9]+);?/g,function(n){var a;return a=n.replace(r,function(t,n){return e[n]?String.fromCharCode(e[n]):t}),a=a.replace(i,function(e,n){return String.fromCharCode(t(parseInt(n,16)))}),a=a.replace(o,function(e,n){return String.fromCharCode(t(n))})}}(we),Se=function(t,e){return function(n){var r,i,o,a;return i=n.remaining(),a=n.inside?"</"+n.inside:"<",n.inside&&!n.interpolate[n.inside]?r=i.indexOf(a):(o=[a,n.delimiters[0],n.tripleDelimiters[0],n.staticDelimiters[0],n.staticTripleDelimiters[0]],n.inAttribute===!0?o.push('"',"'","=",">","`"):n.inAttribute&&o.push(n.inAttribute),r=t(i,o)),r?(-1===r&&(r=i.length),n.pos+=r,e(i.substr(0,r))):null}}(Te,Ce),Ae=function(t){var e=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/;return function(n){var r;return n.matchString("</")?(r=n.matchPattern(e))?{t:t.CLOSING_TAG,e:r}:(n.pos-=2,void n.error("Illegal closing tag")):null}}(H),ke=function(t,e){function n(t){var e,n,i;return t.allowWhitespace(),(n=t.matchPattern(u))?(e={name:n},i=r(t),i&&(e.value=i),e):null}function r(t){var e,n,r,i;return e=t.pos,t.allowWhitespace(),t.matchString("=")?(t.allowWhitespace(),n=t.pos,r=t.sectionDepth,i=a(t,"'")||a(t,'"')||o(t),t.sectionDepth!==r&&(t.pos=n,t.error("An attribute value must contain as many opening section tags as closing section tags")),null===i?(t.pos=e,null):1===i.length&&"string"==typeof i[0]?i[0]:i):(t.pos=e,null)}function i(t){var e,n,r;return e=t.pos,(n=t.matchPattern(c))?(-1!==(r=n.indexOf(t.delimiters[0]))&&(n=n.substr(0,r),t.pos=e+n.length),n):null}function o(t){var n,r;for(t.inAttribute=!0,n=[],r=e(t)||i(t);null!==r;)n.push(r),r=e(t)||i(t);return n.length?(t.inAttribute=!1,n):null}function a(t,n){var r,i,o;if(r=t.pos,!t.matchString(n))return null;for(t.inAttribute=n,i=[],o=e(t)||s(t,n);null!==o;)i.push(o),o=e(t)||s(t,n);return t.matchString(n)?(t.inAttribute=!1,i):(t.pos=r,null)}function s(e,n){var r,i,o;return r=e.pos,o=e.remaining(),i=t(o,[n,e.delimiters[0],e.delimiters[1]]),-1===i&&e.error("Quoted attribute value must have a closing quote"),i?(e.pos+=i,o.substr(0,i)):null}var u=/^[^\s"'>\/=]+/,c=/^[^\s"'=<>`]+/;return n}(Te,xe),Me=function(t,e,n){function r(t){var e,r,i;return t.allowWhitespace(),(e=n(t))?(i={key:e},t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),(r=t.read())?(i.value=r.v,i):null):null):null}var i,o,a,s,u,c,l;return o={"true":!0,"false":!1,undefined:void 0,"null":null},a=new RegExp("^(?:"+Object.keys(o).join("|")+")"),s=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,u=/\$\{([^\}]+)\}/g,c=/^\$\{([^\}]+)\}/,l=/^\s*$/,i=t.extend({init:function(t,e){this.values=e.values},postProcess:function(t){return 1===t.length&&l.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){var e;return t.values?(e=t.matchPattern(c),e&&t.values.hasOwnProperty(e)?{v:t.values[e]}:void 0):null},function(t){var e;return(e=t.matchPattern(a))?{v:o[e]}:void 0},function(t){var e;return(e=t.matchPattern(s))?{v:+e}:void 0},function(t){var n,r=e(t);return r&&(n=t.values)?{v:r.v.replace(u,function(t,e){return e in n?n[e]:e})}:r},function(t){var e,n;if(!t.matchString("{"))return null;if(e={},t.allowWhitespace(),t.matchString("}"))return{v:e};for(;n=r(t);){if(e[n.key]=n.value,t.allowWhitespace(),t.matchString("}"))return{v:e};if(!t.matchString(","))return null}return null},function(t){var e,n;if(!t.matchString("["))return null;if(e=[],t.allowWhitespace(),t.matchString("]"))return{v:e};for(;n=t.read();){if(e.push(n.v),t.allowWhitespace(),t.matchString("]"))return{v:e};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]}),function(t,e){var n=new i(t,{values:e});return n.result}}(de,Z,Q),Ne=function(t){return function(e){var n,r,i,o,a,s;if("string"==typeof e){if(-1===e.indexOf(":"))return e.trim();e=[e]}for(n={},o=[],a=[];e.length;)if(r=e.shift(),"string"==typeof r){if(i=r.indexOf(":"),-1!==i){i&&o.push(r.substr(0,i)),r.length>i+1&&(a[0]=r.substring(i+1));break}o.push(r)}else o.push(r);return a=a.concat(e),a.length||"string"!=typeof o?(n={n:1===o.length&&"string"==typeof o[0]?o[0]:o},1===a.length&&"string"==typeof a[0]?(s=t("["+a[0]+"]"),n.a=s?s.value:a[0].trim()):n.d=a):n=o,n}}(Me),Ie=function(t,e,n,r,i,o,a,s){function u(n){var r,i,o,u,m,y,w,b,x,E,_,T;if(r=n.pos,i=n.getLinePos(),n.inside)return null;if(!n.matchString("<"))return null;if("/"===n.nextChar())return null;if(o={t:t.ELEMENT},n.includeLinePositions&&(o.p=i.toJSON()),n.matchString("!")&&(o.y=1),o.e=n.matchPattern(l),!o.e)return null;for(f.test(n.nextChar())||n.error("Illegal tag name"),w=function(t,e){var r=e.n||e;d.test(r)&&(n.pos-=r.length,n.error("Cannot use reserved event names (change, reset, teardown, update)")),o.v[t]=e};b=a(n);)(m=g[b.name])?o[m]=s(b.value):(y=p.exec(b.name))?(o.v||(o.v={}),x=s(b.value),w(y[1],x)):n.sanitizeEventAttributes&&h.test(b.name)||(o.a||(o.a={}),o.a[b.name]=b.value||0);if(n.allowWhitespace(),n.matchString("/")&&(E=!0),!n.matchString(">"))return null;if(u=o.e.toLowerCase(),!E&&!e.test(o.e)){for(("script"===u||"style"===u)&&(n.inside=u),_=[];(T=n.read(c))&&T.t!==t.CLOSING&&T.t!==t.CLOSING_TAG;)_.push(T);_.length&&(o.f=_)}return n.inside=null,n.sanitizeElements&&-1!==n.sanitizeElements.indexOf(u)?v:o}var c,l=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,f=/^[\s\n\/>]/,h=/^on/,p=/^on-([a-zA-Z$_][a-zA-Z$_0-9\-]+)$/,d=/^(?:change|reset|teardown|update)$/,g={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},v={exclude:!0};return c=[n,r,u,i,o],u}(H,_e,xe,Ee,Se,Ae,ke,Ne),Oe=function(){var t=/^[ \t\f\r\n]+/,e=/[ \t\f\r\n]+$/;return function(n,r,i){var o;r&&(o=n[0],"string"==typeof o&&(o=o.replace(t,""),o?n[0]=o:n.shift())),i&&(o=n[n.length-1],"string"==typeof o&&(o=o.replace(e,""),o?n[n.length-1]=o:n.pop()))}}(),Re=function(t){function e(t){return"string"==typeof t}function n(e){return e.t===t.COMMENT||e.t===t.DELIMCHANGE}function r(e){return(e.t===t.SECTION||e.t===t.INVERTED)&&e.f}var i=/^\s*\r?\n/,o=/\r?\n\s*$/;return function(t){var a,s,u,c,l;for(a=1;a<t.length;a+=1)s=t[a],u=t[a-1],c=t[a-2],e(s)&&n(u)&&e(c)&&o.test(c)&&i.test(s)&&(t[a-2]=c.replace(o,"\n"),t[a]=s.replace(i,"")),r(s)&&e(u)&&o.test(u)&&e(s.f[0])&&i.test(s.f[0])&&(t[a-1]=u.replace(o,"\n"),s.f[0]=s.f[0].replace(i,"")),e(s)&&r(u)&&(l=u.f[u.f.length-1],e(l)&&o.test(l)&&i.test(s)&&(u.f[u.f.length-1]=l.replace(o,"\n"),t[a]=s.replace(i,"")));return t}}(H),Le=function(t,e,n,r,i,o,a,s){function u(e,n,r,i,o,c){var l,h,p,m,y,w,b,x,E;for(s(e),l=e.length;l--;)h=e[l],h.exclude?e.splice(l,1):n&&h.t===t.COMMENT&&e.splice(l,1);for(a(e,i,o),l=e.length;l--;)if(h=e[l],h.f&&(y=r||h.t===t.ELEMENT&&d.test(h.e),y||(p=e[l-1],m=e[l+1],(!p||"string"==typeof p&&v.test(p))&&(w=!0),(!m||"string"==typeof m&&g.test(m))&&(b=!0)),u(h.f,n,y,w,b,c),h.l&&(u(h.l,n,r,w,b,c),c&&(x={t:4,n:t.SECTION_UNLESS,f:h.l},h.r&&(x.r=h.r),h.x&&(x.x=h.x),h.rx&&(x.rx=h.rx),e.splice(l+1,0,x),delete h.l))),h.a)for(E in h.a)h.a.hasOwnProperty(E)&&"string"!=typeof h.a[E]&&u(h.a[E],n,r,c);for(l=e.length;l--;)"string"==typeof e[l]&&("string"==typeof e[l+1]&&(e[l]=e[l]+e[l+1],e.splice(l+1,1)),r||(e[l]=e[l].replace(f," ")),""===e[l]&&e.splice(l,1))}var c,l,f=/[ \t\f\r\n]+/g,h=/<!--\s*\{\{\s*>\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,p=/<!--\s*\{\{\s*\/\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,d=/^(?:pre|script|style|textarea)$/i,g=/^\s+/,v=/\s+$/;return c=e.extend({init:function(t,e){this.delimiters=e.delimiters||["{{","}}"],this.tripleDelimiters=e.tripleDelimiters||["{{{","}}}"],this.staticDelimiters=e.staticDelimiters||["[[","]]"],this.staticTripleDelimiters=e.staticTripleDelimiters||["[[[","]]]"],this.sectionDepth=0,this.interpolate={script:!e.interpolate||e.interpolate.script!==!1,style:!e.interpolate||e.interpolate.style!==!1},e.sanitize===!0&&(e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.sanitizeElements=e.sanitize&&e.sanitize.elements,this.sanitizeEventAttributes=e.sanitize&&e.sanitize.eventAttributes,this.includeLinePositions=e.includeLinePositions},postProcess:function(t,e){return this.sectionDepth>0&&this.error("A section was left open"),u(t,e.stripComments!==!1,e.preserveWhitespace,!e.preserveWhitespace,!e.preserveWhitespace,e.rewriteElse!==!1),t},converters:[n,r,i,o]}),l=function(t){var e=arguments[1];void 0===e&&(e={});var n,r,i,o,a,s;if(n={v:1},h.test(t)){for(r=t,t="";a=h.exec(r);){if(o=a[1],t+=r.substr(0,a.index),r=r.substring(a.index+a[0].length),s=p.exec(r),!s||s[1]!==o)throw new Error("Inline partials must have a closing delimiter, and cannot be nested");(i||(i={}))[o]=new c(r.substr(0,s.index),e).result,r=r.substring(s.index+s[0].length)}n.p=i}return n.t=new c(t,e).result,n}}(H,de,xe,Ee,Ie,Se,Oe,Re),Pe=function(){return function(t,e){var n=t.map(e);return t.forEach(function(t,e){n[t]=n[e]}),n}}(we),De=function(t){var e,n;return e=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters"],n=t(e,function(t){return t})}(Pe),je=function(t,e,n,r,i){function o(t){var e=r(f);return e.parse=function(e,n){return a(e,n||t)},e}function a(e,r){if(!n)throw new Error(t.missingParser);return n(e,r||this.options)}function s(t,n){var r;if(!e){if(n&&n.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}if(u(t)&&(t=t.substring(1)),!(r=document.getElementById(t))){if(n&&n.noThrow)return;throw new Error("Could not find template element with id #"+t)}return r.innerHTML}function u(t){return"#"===t.charAt(0)}function c(t){return!("string"==typeof t)}function l(t){return t.defaults&&(t=t.defaults),i.reduce(function(e,n){return e[n]=t[n],e},{})}var f={parse:a,fromId:s,isHashedId:u,isParsed:c,getParseOptions:l,createHelper:o};return f}(V,S,Le,W,De),Fe=function(t,e){function n(t){var e,n=t._config.template;if(n&&n.fn)return e=r(t,n.fn),e!==n.result?(n.result=e,e=i(e,t)):void 0}function r(e,n){var r=t.createHelper(t.getParseOptions(e));return n.call(e,e.data,r)}function i(n,r){if("string"==typeof n)"#"===n[0]&&(n=t.fromId(n)),n=e(n,t.getParseOptions(r));else if(1!==n.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");return n}function o(t,e,n){if(e)for(var r in e)(n||!t.hasOwnProperty(r))&&(t[r]=e[r])}var a={name:"template",extend:function(t,e,n){var r;"template"in n&&(r=n.template,e.template="function"==typeof r?r:i(r,e))},init:function(t,e,n){var a,s;a="template"in n?n.template:t.prototype.template,"function"==typeof a&&(s=a,a=r(e,s),e._config.template={fn:s,result:a}),a=i(a,e),e.template=a.t,a.p&&o(e.partials,a.p)},reset:function(t){var e,r=n(t);return r?(e=i(r,t),t.template=e.t,o(t.partials,e.p,!0),!0):void 0}};return a}(je,Le),qe=function(t){function e(t,e){this.name=t,this.useDefaults=e}function n(t,e){var r,i;return(r=e(t))?r:!t.isolated&&(i=t._parent)?n(i,e):void 0}return e.prototype={constructor:e,extend:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,n)},init:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,e,n)},configure:function(e,n,r){var i,o=this.name,a=r[o];i=t(e[o]);for(var s in a)i[s]=a[s];n[o]=i},reset:function(t){var e=t[this.name],n=!1;return Object.keys(e).forEach(function(t){var r=e[t];r._fn&&(r._fn.isOwner?e[t]=r._fn:delete e[t],n=!0)}),n},findOwner:function(t,e){return t[this.name].hasOwnProperty(e)?t:this.findConstructor(t.constructor,e)},findConstructor:function(t,e){return t?t[this.name].hasOwnProperty(e)?t:this.findConstructor(t._parent,e):void 0},find:function(t,e){var r=this;return n(t,function(t){return t[r.name][e]})},findInstance:function(t,e){var r=this;return n(t,function(t){return t[r.name][e]?t:void 0})}},e}(W,we),$e=function(t,e){var n=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],r=t(n,function(t){return new e(t,"computed"===t)});return r}(Pe,qe),Ve=function(){},He=function(t){function e(e,n){var r;if(n in e){var i=e[n];r="function"==typeof i?i:function(){return i}}else r=t;return r}return function(t,n,r){if(!/_super/.test(r))return r;var i=function(){var t,o=e(i._parent,n),a="_super"in this,s=this._super;return this._super=o,t=r.apply(this,arguments),a?this._super=s:delete this._super,t};return i._parent=t,i._method=r,i}}(Ve),We=function(t,e){function n(e,n,i){if(n in e){if(i in e)throw new Error(r(n,i,!0));t(r(n,i)),e[i]=e[n]}}function r(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function i(t){n(t,"eventDefinitions","events")}function o(t){e(t.adaptors)&&n(t,"adaptors","adapt")}return function(t){i(t),o(t)}}(D,s),ze=function(t,e,n,r,i,o,a,s){function u(t,e,n,r,i){l[e][t](n,r,i)}function c(t,e,r,i){s(i),u(t,"data",e,r,i),h.parseOptions.forEach(function(t){t in i&&(r[t]=i[t])});for(var o in i)if(o in n&&!(o in h.parseOptions)&&!(o in l)){var c=i[o];r[o]="function"==typeof c?a(e.prototype,o,c):c}h.registries.forEach(function(n){n[t](e,r,i)}),u(t,"template",e,r,i),u(t,"css",e,r,i)}var l,f,h;l={data:e,template:r,css:t},f=Object.keys(n).filter(function(t){return!o[t]&&!l[t]&&!i[t]}),h=[].concat(l.data,i,f,o,l.template,l.css);for(var p in l)h[p]=l[p];return h.keys=Object.keys(n).concat(o.map(function(t){return t.name})).concat(["css"]),h.parseOptions=i,h.registries=o,h.extend=function(t,e,n){c("extend",t,e,n)},h.init=function(t,e,n){c("init",t,e,n),e._config&&(e._config.options=n)},h.reset=function(t){return h.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},h}(F,$,r,Fe,De,$e,He,We),Ue=function(t,e,n,r){function i(t){return function(){return t}}var o=function(t,o,a,s){if(t===o)return i(o);if(s){var u=r.registries.interpolators.find(a,s);if(u)return u(t,o)||i(o);e('Missing "'+s+'" interpolator. You may need to download a plugin from [TODO]')}return n.number(t,o)||n.array(t,o)||n.object(t,o)||n.cssLength(t,o)||i(o)};return t.interpolate=o,o}(o,D,l,ze),Be=function(t,e,n){var r=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=n(this.from,this.to,this.root,this.interpolator),this.running=!0};return r.prototype={tick:function(){var n,r,i,o,a,s;return s=this.keypath,this.running?(o=Date.now(),n=o-this.startTime,n>=this.duration?(null!==s&&(e.start(this.root),this.root.viewmodel.set(s,this.to),e.end()),this.step&&this.step(1,this.to),this.complete(this.to),a=this.root._animations.indexOf(this),-1===a&&t("Animation was not found"),this.root._animations.splice(a,1),this.running=!1,!1):(r=this.easing?this.easing(n/this.duration):n/this.duration,null!==s&&(i=this.interpolator(r),e.start(this.root),this.root.viewmodel.set(s,i),e.end()),this.step&&this.step(r,i),!0)):!1},stop:function(){var e;this.running=!1,e=this.root._animations.indexOf(this),-1===e&&t("Animation was not found"),this.root._animations.splice(e,1)}},r}(D,b,Ue),Xe=function(t,e,n,r,i){function o(e,o,a,u){var c,l,f,h;return o&&(o=n(o)),null!==o&&(h=e.viewmodel.get(o)),r.abort(o,e),t(h,a)?(u.complete&&u.complete(u.to),s):(u.easing&&(c="function"==typeof u.easing?u.easing:e.easing[u.easing],"function"!=typeof c&&(c=null)),l=void 0===u.duration?400:u.duration,f=new i({keypath:o,from:h,to:a,root:e,duration:l,easing:c,interpolator:u.interpolator,step:u.step,complete:u.complete}),r.add(f),e._animations.push(f),f)}var a=function(){},s={stop:a};return function(t,n,r){var i,s,u,c,l,f,h,p,d,g,v,m,y,w;if(i=new e(function(t){s=t}),"object"==typeof t){r=n||{},f=r.easing,h=r.duration,l=[],p=r.step,d=r.complete,(p||d)&&(v={},r.step=null,r.complete=null,g=function(t){return function(e,n){v[t]=n}});for(u in t)t.hasOwnProperty(u)&&((p||d)&&(m=g(u),r={easing:f,duration:h},p&&(r.step=m)),r.complete=d?m:a,l.push(o(this,u,t[u],r)));return(p||d)&&(w={easing:f,duration:h},p&&(w.step=function(t){p(t,v)}),d&&i.then(function(t){d(t,v)}),w.complete=s,y=o(this,null,null,w),l.push(y)),{stop:function(){for(var t;t=l.pop();)t.stop();y&&y.stop()}}}return r=r||{},r.complete&&i.then(r.complete),r.complete=s,c=o(this,t,n,r),i.stop=function(){c.stop()},i}}(v,p,I,P,Be),Ye=function(t){return function(){return this.el&&t(this.el.__ractive_instances__,this),this.fragment.detach()}}(h),Ge=function(t){return this.el?this.fragment.find(t):null},Ze=function(t,e,n){var r,i,o,a,s,u,c,l;if(t){for(i=n("div"),o=["matches","matchesSelector"],l=function(t){return function(e,n){return e[t](n)}},u=o.length;u--&&!r;)if(a=o[u],i[a])r=l(a);else for(c=e.length;c--;)if(s=e[u]+a.substr(0,1).toUpperCase()+a.substring(1),i[s]){r=l(s);break}r||(r=function(t,e){var n,r,o;for(r=t.parentNode,r||(i.innerHTML="",r=i,t=t.cloneNode(),i.appendChild(t)),n=r.querySelectorAll(e),o=n.length;o--;)if(n[o]===t)return!0;return!1})}else r=null;return r}(S,O,C),Je=function(t){return function(e,n){var r=this._isComponentQuery?!this.selector||e.name===this.selector:t(e.node,this.selector);return r?(this.push(e.node||e.instance),n||this._makeDirty(),!0):void 0}}(Ze),Qe=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},Ke=function(){function t(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function e(e){var n,r;for(n=[e],r=t(e);r;)n.push(r),r=t(r);return n}return function(t,n){var r,i,o,a,s,u,c,l,f,h;for(r=e(t.component||t._ractive.proxy),i=e(n.component||n._ractive.proxy),o=r[r.length-1],a=i[i.length-1];o&&o===a;)r.pop(),i.pop(),s=o,o=r[r.length-1],a=i[i.length-1];if(o=o.component||o,a=a.component||a,f=o.parentFragment,h=a.parentFragment,f===h)return u=f.items.indexOf(o),c=h.items.indexOf(a),u-c||r.length-i.length;if(l=s.fragments)return u=l.indexOf(f),c=l.indexOf(h),u-c||r.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")}}(),tn=function(t){return function(e,n){var r;return e.compareDocumentPosition?(r=e.compareDocumentPosition(n),2&r?1:-1):t(e,n)}}(Ke),en=function(t,e){return function(){this.sort(this._isComponentQuery?e:t),this._dirty=!1}}(tn,Ke),nn=function(t){return function(){var e=this;this._dirty||(this._dirty=!0,t.scheduleTask(function(){e._sort()}))}}(b),rn=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);-1!==e&&this.splice(e,1)},on=function(t,e,n,r,i,o){return function(a,s,u,c){var l=[];return t(l,{selector:{value:s},live:{value:u},_isComponentQuery:{value:c},_test:{value:e}}),u?(t(l,{cancel:{value:n},_root:{value:a},_sort:{value:r},_makeDirty:{value:i},_remove:{value:o},_dirty:{value:!1,writable:!0}}),l):l}}(k,Je,Qe,en,nn,rn),an=function(t){return function(e,n){var r,i;return this.el?(n=n||{},r=this._liveQueries,(i=r[e])?n&&n.live?i:i.slice():(i=t(this,e,!!n.live,!1),i.live&&(r.push(e),r["_"+e]=i),this.fragment.findAll(e,i),i)):[]}}(on),sn=function(t){return function(e,n){var r,i;return n=n||{},r=this._liveComponentQueries,(i=r[e])?n&&n.live?i:i.slice():(i=t(this,e,!!n.live,!0),i.live&&(r.push(e),r["_"+e]=i),this.fragment.findAllComponents(e,i),i)}}(on),un=function(t){return this.fragment.findComponent(t)},cn=function(t){var e,n,r,i=this._subs[t];if(i)for(e=Array.prototype.slice.call(arguments,1),n=0,r=i.length;r>n;n+=1)i[n].apply(this,e)},ln=function(t){var e={capture:!0};return function(n){return n=t(n),this.viewmodel.get(n,e)}}(I),fn=function(t){var e;if(t&&"boolean"!=typeof t)return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null},hn=function(t){return function(e,n){if(!this.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.el=e,(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this)}}(fn),pn=function(t,e,n){return function(r,i,o){var a,s;return r=n(r),a=this.viewmodel.get(r),e(a)&&e(i)?(s=t.start(this,!0),this.viewmodel.merge(r,a,i,o),t.end(),o&&o.complete&&s.then(o.complete),s):this.set(r,i,o&&o.complete)}}(b,s,I),dn=function(t,e){var n=function(t,e,n,r){this.root=t,this.keypath=e,this.callback=n,this.defer=r.defer,this.priority=0,this.context=r&&r.context?r.context:t};return n.prototype={init:function(t){this.value=this.root.viewmodel.get(this.keypath),t!==!1&&this.update()},setValue:function(n){var r=this;e(n,this.value)||(this.value=n,this.defer&&this.ready?t.scheduleTask(function(){return r.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath),this.oldValue=this.value,this.updating=!1)}},n}(b,v),gn=function(t){return function(e,n){function r(n,r){var i,o,a;i=e.viewmodel.wrapped[r]?e.viewmodel.wrapped[r].get():e.get(r);
for(o in i)!i.hasOwnProperty(o)||"_ractive"===o&&t(i)||(a=r?r+"."+o:o,n.push(a));return n}function i(t){return function(e){return e?e+"."+t:t}}var o,a,s;for(o=n.split("."),s=[""];a=o.shift();)"*"===a?s=s.reduce(r,[]):""===s[0]?s[0]=a:s=s.map(i(a));return s}}(s),vn=function(t){return function(e,n){var r,i;return r=t(e,n),i={},r.forEach(function(t){i[t]=e.get(t)}),i}}(gn),mn=function(t,e,n){var r,i=/\*/,o=Array.prototype.slice;return r=function(t,e,n,r){this.root=t,this.callback=n,this.defer=r.defer,this.keypath=e,this.regex=new RegExp("^"+e.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.priority="pattern",this.context=r&&r.context?r.context:t},r.prototype={init:function(t){var e,r;if(e=n(this.root,this.keypath),t!==!1)for(r in e)e.hasOwnProperty(r)&&this.update(r);else this.values=e},update:function(e){var r;if(i.test(e)){r=n(this.root,e);for(e in r)r.hasOwnProperty(e)&&this.update(e)}else if(!this.root.viewmodel.implicitChanges[e])return this.defer&&this.ready?void t.addObserver(this.getProxy(e)):void this.reallyUpdate(e)},reallyUpdate:function(t){var n,r,i;return n=this.root.viewmodel.get(t),this.updating?void(this.values[t]=n):(this.updating=!0,e(n,this.values[t])&&this.ready||(r=o.call(this.regex.exec(t),1),i=[n,this.values[t],t].concat(r),this.callback.apply(this.context,i),this.values[t]=n),void(this.updating=!1))},getProxy:function(t){var e=this;return this.proxies[t]||(this.proxies[t]={update:function(){e.reallyUpdate(t)}}),this.proxies[t]}},r}(b,v,vn),yn=function(t,e,n){var r=/\*/,i={};return function(o,a,s,u){var c,l,f;return a=t(a),u=u||i,r.test(a)?(c=new n(o,a,s,u),o.viewmodel.patternObservers.push(c),l=!0):c=new e(o,a,s,u),o.viewmodel.register(a,c,l?"patternObservers":"observers"),c.init(u.init),c.ready=!0,{cancel:function(){var t;f||(l&&(t=o.viewmodel.patternObservers.indexOf(c),o.viewmodel.patternObservers.splice(t,1),o.viewmodel.unregister(a,c,"patternObservers")),o.viewmodel.unregister(a,c,"observers"),f=!0)}}}}(I,dn,mn),wn=function(t,e){return function(n,r,i){var o,a,s,u;if(t(n)){i=r,a=n,o=[];for(n in a)a.hasOwnProperty(n)&&(r=a[n],o.push(this.observe(n,r,i)));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}if("function"==typeof n)return i=r,r=n,n="",e(this,n,r,i);if(s=n.split(" "),1===s.length)return e(this,n,r,i);for(o=[],u=s.length;u--;)n=s[u],n&&o.push(e(this,n,r,i));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}}(u,yn),bn=function(t){return t.trim()},xn=function(t){return""!==t},En=function(t,e){return function(n,r){var i,o=this;if(n)i=n.split(" ").map(t).filter(e),i.forEach(function(t){var e,n;(e=o._subs[t])&&(r?(n=e.indexOf(r),-1!==n&&e.splice(n,1)):o._subs[t]=[])});else for(n in this._subs)delete this._subs[n];return this}}(bn,xn),_n=function(t,e){return function(n,r){var i,o,a,s=this,u=this;if("object"==typeof n){i=[];for(o in n)n.hasOwnProperty(o)&&i.push(this.on(o,n[o]));return{cancel:function(){for(var t;t=i.pop();)t.cancel()}}}return a=n.split(" ").map(t).filter(e),a.forEach(function(t){(s._subs[t]||(s._subs[t]=[])).push(r)}),{cancel:function(){u.off(n,r)}}}}(bn,xn),Tn=function(t,e,n){switch(e){case"splice":return n;case"sort":case"reverse":return null;case"pop":return t.length?[-1]:null;case"push":return[t.length,0].concat(n);case"shift":return[0,1];case"unshift":return[0,0].concat(n)}},Cn=function(t,e){var n,r,i,o,a,s;return e?(n=+(e[0]<0?t.length+e[0]:e[0]),o=Math.max(0,e.length-2),a=void 0!==e[1]?e[1]:t.length-n,a=Math.min(a,t.length-n),s=o-a,i=t.length+s,r=s?Math.max(t.length,i):n+o,{rangeStart:n,rangeEnd:r,balance:s,added:o,removed:a}):null},Sn=function(t,e,n,r){var i=Array.prototype;return function(o){return function(a){var s,u,c,l,f=Array.prototype.slice,h=f.call(arguments,1);if(s=this.get(a),!t(s))throw new Error("Called ractive."+o+"('"+a+"'), but '"+a+"' does not refer to an array");return u=n(s,o,h),c=r(s,u),i[o].apply(s,h),l=e.start(this,!0),c?this.viewmodel.splice(a,c):this.viewmodel.mark(a),e.end(),l}}}(s,b,Tn,Cn),An=function(t){return t("pop")}(Sn),kn=function(t){return t("push")}(Sn),Mn=function(t,e,n){var r,i,o,a,s,u,c,l="/* Ractive.js component styles */\n",f={},h=[];return e?(t.push(function(){o=t.runloop}),a=document.createElement("style"),a.type="text/css",s=document.getElementsByTagName("head")[0],c=!1,u=a.styleSheet,i=function(){var t;h.length?(t=l+h.join(" "),u?u.cssText=t:a.innerHTML=t,c||(s.appendChild(a),c=!0)):c&&(s.removeChild(a),c=!1)},r={add:function(t){t.css&&(f[t._guid]||(f[t._guid]=0,h.push(t.css),o.scheduleTask(i)),f[t._guid]+=1)},remove:function(t){t.css&&(f[t._guid]-=1,f[t._guid]||(n(h,t.css),o.scheduleTask(i)))}}):r=null,r}(o,S,h),Nn=function(t,e,n){function r(t){t.init&&t.init(t._config.options),i(t).forEach(r),o[t._guid]=null}function i(t){return o[t._guid]||(o[t._guid]=[])}var o={},a={};return function(o,s){var u,c,l=this;if(a[this._guid]=!0,u=t.start(this,!0),this.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");return o=n(o)||this.el,s=n(s)||this.anchor,this.el=o,this.anchor=s,this.constructor.css&&e.add(this.constructor),o&&((c=o.__ractive_instances__)?c.push(this):o.__ractive_instances__=[this],s?o.insertBefore(this.fragment.render(),s):o.appendChild(this.fragment.render())),this._hasInited||(this._hasInited=!0,this._parent&&a[this._parent._guid]?i(this._parent).push(this):r(this)),a[this._guid]=!1,t.end(),this.rendered=!0,this.complete&&u.then(function(){return l.complete()}),u}}(b,Mn,fn),In=function(){this.dirtyValue=this.dirtyArgs=!0,this.inited&&this.owner.bubble&&this.owner.bubble()},On=function(){var t;return 1===this.items.length?this.items[0].detach():(t=document.createDocumentFragment(),this.items.forEach(function(e){t.appendChild(e.detach())}),t)},Rn=function(t){var e,n,r,i;if(this.items){for(n=this.items.length,e=0;n>e;e+=1)if(r=this.items[e],r.find&&(i=r.find(t)))return i;return null}},Ln=function(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAll&&i.findAll(t,e);return e},Pn=function(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAllComponents&&i.findAllComponents(t,e);return e},Dn=function(t){var e,n,r,i;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(r=this.items[n],r.findComponent&&(i=r.findComponent(t)))return i;return null}},jn=function(t){var e,n=t.index;return e=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)},Fn=function(){return this.items&&this.items[0]?this.items[0].firstNode():null},qn=function(){var t=this;do if(t.pElement)return t.pElement.node;while(t=t.parent);return this.root.el},$n=function(t){function e(t,n,r,i){return i=i||0,t.map(function(t){var o,a,s;return t.text?t.text:t.fragments?t.fragments.map(function(t){return e(t.items,n,r,i)}).join(""):(o=r+"-"+i++,s=(a=t.root.viewmodel.wrapped[t.keypath])?a.value:t.getValue(),n[o]=s,"${"+o+"}")}).join("")}var n={};return function(){var r=arguments[0];void 0===r&&(r=n);var i,o,a,s,u,c,l;return i=r.args,u=i?"argsList":"value",c=i?"dirtyArgs":"dirtyValue",this[c]&&(a=e(this.items,o={},this.root._guid),s=t(i?"["+a+"]":a,o),l=s?s.value:i?[this.toString()]:this.toString(),this[u]=l,this[c]=!1),this[u]}}(Me),Vn=function(){var t=/</g,e=/>/g;return function(n){return n.replace(t,"&lt;").replace(e,"&gt;")}}(),Hn=function(t){return t&&t.parentNode&&t.parentNode.removeChild(t),t},Wn=function(t){return function(){return t(this.node)}}(Hn),zn=function(t,e,n){var r=function(e){this.type=t.TEXT,this.text=e.template};return r.prototype={detach:n,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(t){return t?e(this.text):this.text},unrender:function(t){return t?this.detach():void 0}},r}(H,Vn,Wn),Un=function(t){return function(){this.keypath?this.root.viewmodel.unregister(this.keypath,this):t.removeUnresolved(this),this.resolver&&this.resolver.teardown()}}(b),Bn=function(){return this.value},Xn=function(t){var e=function(e,n,r,i){this.root=e,this.ref=n,this.parentFragment=r,this.resolve=i,t.addUnresolved(this)};return e.prototype={teardown:function(){t.removeUnresolved(this)}},e}(b),Yn=function(t,e){return t.substr(0,e.length+1)===e+"."},Gn=function(t){return function(e,n,r){return e===n?r:t(e,n)?e.replace(n+".",r+"."):void 0}}(Yn),Zn=function(t,e){function n(t){var n=e[t.message]||t.message||"";return r(n,t.args)}function r(t,e){return t.replace(/{([^{}]*)}/g,function(t,n){return e[n]})}var i={warn:function(t,e){(t.debug||e)&&this.logger(n(t),t.allowDuplicates)},error:function(t){this.errorOnly(t),t.debug||this.warn(t,!0)},errorOnly:function(t){t.debug&&this.critical(t)},critical:function(t){var e=t.err||new Error(n(t));this.thrower(e)},logger:t,thrower:function(t){throw t}};return i}(D,V),Jn=function(t,e,n){var r,i;for(r=e.length;r--;)i=e[r],-1===n.indexOf(i)&&t.viewmodel.unregister(i,t,"computed");for(r=n.length;r--;)i=n[r],-1===e.indexOf(i)&&t.viewmodel.register(i,t,"computed");t.dependencies=n.slice()},Qn=function(t,e,n,r){function i(t,e){var n,r;if(t=t.replace(/\$\{([0-9]+)\}/g,"_$1"),u[t])return u[t];for(r=[];e--;)r[e]="_"+e;return n=new Function(r.join(","),"return("+t+")"),u[t]=n,n}function o(t,e){var r,i;return t._noWrap?t:(i="__ractive_"+e._guid,(r=t[i])?r:/this/.test(t.toString())?(n(t,i,{value:t.bind(e)}),t[i]):(n(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap))}function a(t){return"function"==typeof t?t():t}var s,u={};return s=function(t,e,n,r,a,s){var u=this,c=t.viewmodel;u.root=t,u.viewmodel=c,u.uniqueString=n,u.keypath=e,u.priority=s,u.fn=i(r,a.length),u.explicitDependencies=[],u.dependencies=[],u.argumentGetters=a.map(function(e){var n,r;return e?e.indexRef?r=e.value:(n=e.keypath,u.explicitDependencies.push(n),c.register(n,u,"computed"),function(){var e=c.get(n);return"function"==typeof e?o(e,t):e}):void 0})},s.prototype={wake:function(){this.awake=!0},sleep:function(){this.awake=!1},getValue:function(){var e,n,i;if(e=this.argumentGetters.map(a),!this.updating){this.updating=!0,this.viewmodel.capture();try{n=this.fn.apply(null,e)}catch(o){this.root.debug&&t.warn({debug:this.root.debug,message:"evaluationError",args:{uniqueString:this.uniqueString,err:o.message||o}}),n=void 0}return i=this.viewmodel.release(),r(this,this.dependencies,i),this.updating=!1,n}},update:function(){var t=this.getValue();return e(t,this.value)||(this.value=t,this.root.viewmodel.mark(this.keypath)),this},teardown:function(){var t=this;this.explicitDependencies.concat(this.dependencies).forEach(function(e){return t.viewmodel.unregister(e,t,"computed")}),this.root.viewmodel.evaluators[this.keypath]=null}},s}(Zn,v,A,Jn),Kn=function(t,e,n,r,i){function o(t,e){return t.replace(/\$\{([0-9]+)\}/g,function(t,n){var r=e[n];return r?r.indexRef?r.value:r.keypath:"undefined"})}function a(t){return"${"+t.replace(/[\.\[\]]/g,"-")+"}"}var s=function(r,i,o,a){var s,u,c,l=this;return s=r.root,this.root=s,this.callback=a,this.owner=r,this.str=o.s,this.args=c=[],this.unresolved=[],this.pending=0,u=i.indexRefs,o.r&&o.r.length?(o.r.forEach(function(r,o){var a,f,h;return u&&void 0!==(a=u[r])?void(c[o]={indexRef:r,value:a}):(f=e(s,r,i))?void(c[o]={keypath:f}):(c[o]=null,l.pending+=1,h=new n(s,r,i,function(e){l.resolve(o,e),t(l.unresolved,h)}),void l.unresolved.push(h))}),this.ready=!0,void this.bubble()):(this.resolved=this.ready=!0,void this.bubble())};return s.prototype={bubble:function(){this.ready&&(this.uniqueString=o(this.str,this.args),this.keypath=a(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},teardown:function(){for(var t;t=this.unresolved.pop();)t.teardown()},resolve:function(t,e){this.args[t]={keypath:e},this.bubble(),this.resolved=!--this.pending},createEvaluator:function(){var t=this.root.viewmodel.evaluators[this.keypath];t||(t=new r(this.root,this.keypath,this.uniqueString,this.str,this.args,this.owner.priority),this.root.viewmodel.evaluators[this.keypath]=t),t.update()},rebind:function(t,e,n,r){var o;this.args.forEach(function(a){var s;a&&(a.keypath&&(s=i(a.keypath,n,r))?(a.keypath=s,o=!0):a.indexRef&&a.indexRef===t&&(a.value=e,o=!0))}),o&&this.bubble()}},s}(h,y,Xn,Qn,Gn),tr=function(t,e,n,r,i){var o=function(r,o,a){var s,u,c,l,f,h=this;h.resolver=o,h.root=o.root,h.viewmodel=o.root.viewmodel,"string"==typeof r?h.value=r:r.t===t.REFERENCE?(s=h.ref=r.n,(u=a.indexRefs)&&void 0!==(c=u[s])?(h.indexRef=s,h.value=c):(l=o.root,(f=e(l,s,a))?h.resolve(f):h.unresolved=new n(l,s,a,function(t){h.unresolved=null,h.resolve(t)}))):new i(o,a,r,function(t){h.resolve(t)})};return o.prototype={resolve:function(t){this.keypath=t,this.value=this.viewmodel.get(t),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(t,e,n,i){var o;if(t&&this.indexRef===t){if(e!==this.value)return this.value=e,!0}else if(this.keypath&&(o=r(this.keypath,n,i)))return this.unbind(),this.keypath=o,this.value=this.root.viewmodel.get(o),this.bind(),!0},setValue:function(t){this.value=t,this.resolver.bubble()},unbind:function(){this.keypath&&this.root.viewmodel.unregister(this.keypath,this)},teardown:function(){this.unbind(),this.unresolved&&this.unresolved.teardown()},forceResolution:function(){this.unresolved&&(this.unresolved.teardown(),this.unresolved=null,this.keypath=this.ref,this.value=this.viewmodel.get(this.ref),this.bind())}},o}(H,y,Xn,Gn,Kn),er=function(t,e,n){function r(t){return t.value}function i(t){return void 0!=t}function o(t){t.unbind()}var a=function(r,i,o){var a,s,u,c,l=this,f=this;c=r.parentFragment,f.root=a=r.root,f.mustache=r,f.priority=r.priority,f.ref=s=i.r,f.callback=o,f.unresolved=[],(u=t(a,s,c))?f.base=u:f.baseResolver=new e(a,s,c,function(t){f.base=t,f.baseResolver=null,f.bubble()}),f.members=i.m.map(function(t){return new n(t,l,c)}),f.ready=!0,f.bubble()};return a.prototype={getKeypath:function(){var t=this.members.map(r);if(t.every(i)&&!this.baseResolver)return this.base+"."+t.join(".")},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},teardown:function(){this.members.forEach(o)},rebind:function(t,e,n,r){var i;this.members.forEach(function(o){o.rebind(t,e,n,r)&&(i=!0)}),i&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=this.ref,this.baseResolver.teardown(),this.baseResolver=null),this.members.forEach(function(t){return t.forceResolution()}),this.bubble()}},a}(y,Xn,tr),nr=function(t,e,n,r,i){return function(o,a){function s(t){var e=o.keypath;t!==e&&(o.resolve(t),void 0!==e&&o.fragments&&o.fragments.forEach(function(n){n.rebind(null,null,e,t)}))}var u,c,l,f,h,p;if(h=a.parentFragment,p=a.template,o.root=h.root,o.parentFragment=h,o.pElement=h.pElement,o.template=a.template,o.index=a.index||0,o.priority=h.priority,o.isStatic=a.template.s,o.type=a.template.t,u=p.r){if(l=h.indexRefs,l&&void 0!==(f=l[u]))return o.indexRef=u,void o.setValue(f);c=n(o.root,u,o.parentFragment),void 0!==c?o.resolve(c):(o.ref=u,e.addUnresolved(o))}a.template.x&&(o.resolver=new i(o,h,a.template.x,s)),a.template.rx&&(o.resolver=new r(o,a.template.rx,s)),o.template.n!==t.SECTION_UNLESS||o.hasOwnProperty("value")||o.setValue(void 0)}}(H,b,y,er,Kn),rr=function(t){var e,n,r;void 0!==this.keypath&&(this.root.viewmodel.unregister(this.keypath,this),e=!0),this.keypath=t,void 0!==t&&(n=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this)),this.setValue(n),e&&(r=this.twowayBinding)&&r.rebound()},ir=function(t){return function(e,n,r,i){var o;this.fragments&&this.fragments.forEach(function(t){return t.rebind(e,n,r,i)}),this.resolver&&this.resolver.rebind(e,n,r,i),this.keypath?(o=t(this.keypath,r,i))&&this.resolve(o):void 0!==e&&this.indexRef===e&&this.setValue(n)}}(Gn),or=function(t,e,n,r){return{getValue:t,init:e,resolve:n,rebind:r}}(Bn,nr,rr,ir),ar=function(t,e,n,r,i,o,a){var s=function(e){this.type=t.INTERPOLATOR,o.init(this,e)};return s.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:o.resolve,rebind:o.rebind,detach:a,unbind:i,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(t){t&&r(this.node)},getValue:o.getValue,setValue:function(t){var n;(n=this.root.viewmodel.wrapped[this.keypath])&&(t=n.get()),t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.node&&e.addView(this))},firstNode:function(){return this.node},toString:function(t){var e=void 0!=this.value?""+this.value:"";return t?n(e):e}},s}(H,b,Vn,Hn,Un,or,Wn),sr=function(){this.parentFragment.bubble()},ur=function(){var t;return 1===this.fragments.length?this.fragments[0].detach():(t=document.createDocumentFragment(),this.fragments.forEach(function(e){t.appendChild(e.detach())}),t)},cr=function(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].find(t))return r;return null},lr=function(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAll(t,e)},fr=function(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAllComponents(t,e)},hr=function(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].findComponent(t))return r;return null},pr=function(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)},dr=function(){var t,e,n;if(t=this.fragments.length)for(e=0;t>e;e+=1)if(n=this.fragments[e].firstNode())return n;return this.parentFragment.findNextNode(this)},gr=function(t,e){var n;return e.push(function(){n=e.Fragment}),function(e){var n,r,i,o,a,s,u,c,l=this;if(!this.unbound){if(n=this.parentFragment,a=[],e.forEach(function(t,e){var n,i,o,s;return t===e?void(a[t]=l.fragments[e]):(n=l.fragments[e],void 0===r&&(r=e),-1===t?(l.fragmentsToUnrender.push(n),void n.unbind()):(i=t-e,o=l.keypath+"."+e,s=l.keypath+"."+t,n.rebind(l.template.i,t,o,s),void(a[t]=n)))}),o=this.root.get(this.keypath).length,void 0===r){if(this.length===o)return;r=this.length}for(this.length=this.fragments.length=o,t.addView(this),s={template:this.template.f,root:this.root,owner:this},this.template.i&&(s.indexRef=this.template.i),i=r;o>i;i+=1)(u=a[i])?this.docFrag.appendChild(u.detach(!1)):this.fragmentsToCreate.push(i),this.fragments[i]=u;c=n.findNextNode(this),this.parentFragment.getNode().insertBefore(this.docFrag,c)}}}(b,o),vr=function(){var t;return t=this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,t},mr=function(t,e,n,r,i){function o(r,i){var o={template:r.template.f,root:r.root,pElement:r.parentFragment.pElement,owner:r};if(r.subtype)switch(r.subtype){case t.SECTION_IF:return c(r,i,!1,o);case t.SECTION_UNLESS:return c(r,i,!0,o);case t.SECTION_WITH:return u(r,o);case t.SECTION_EACH:if(n(i))return s(r,i,o)}return r.ordered=!!e(i),r.ordered?a(r,i,o):n(i)||"function"==typeof i?r.template.i?s(r,i,o):u(r,o):c(r,i,!1,o)}function a(t,e,n){var r,i,o;if(i=e.length,i===t.length)return!1;if(i<t.length)t.fragmentsToUnrender=t.fragments.splice(i,t.length-i),t.fragmentsToUnrender.forEach(l);else if(i>t.length)for(r=t.length;i>r;r+=1)n.context=t.keypath+"."+r,n.index=r,t.template.i&&(n.indexRef=t.template.i),o=new f(n),t.fragmentsToRender.push(t.fragments[r]=o);return t.length=i,!0}function s(t,e,n){var r,i,o,a,s;for(o=t.hasKey||(t.hasKey={}),i=t.fragments.length;i--;)a=t.fragments[i],a.index in e||(s=!0,a.unbind(),t.fragmentsToUnrender.push(a),t.fragments.splice(i,1),o[a.index]=!1);for(r in e)o[r]||(s=!0,n.context=t.keypath+"."+r,n.index=r,t.template.i&&(n.indexRef=t.template.i),a=new f(n),t.fragmentsToRender.push(a),t.fragments.push(a),o[r]=!0);return t.length=t.fragments.length,s}function u(t,e){var n;return t.length?void 0:(e.context=t.keypath,e.index=0,n=new f(e),t.fragmentsToRender.push(t.fragments[0]=n),t.length=1,!0)}function c(t,n,r,i){var o,a,s;if(a=e(n)&&0===n.length,o=r?a||!n:n&&!a){if(!t.length)return i.index=0,s=new f(i),t.fragmentsToRender.push(t.fragments[0]=s),t.length=1,!0;if(t.length>1)return t.fragmentsToUnrender=t.fragments.splice(1),t.fragmentsToUnrender.forEach(l),!0}else if(t.length)return t.fragmentsToUnrender=t.fragments.splice(0,t.fragments.length),t.fragmentsToUnrender.forEach(l),t.length=0,!0}function l(t){t.unbind()}var f;return i.push(function(){f=i.Fragment}),function(t){var e,n,i=this;this.updating||(this.updating=!0,(e=this.root.viewmodel.wrapped[this.keypath])&&(t=e.get()),this.fragmentsToCreate.length?(n={template:this.template.f,root:this.root,pElement:this.pElement,owner:this,indexRef:this.template.i},this.fragmentsToCreate.forEach(function(t){var e;n.context=i.keypath+"."+t,n.index=t,e=new f(n),i.fragmentsToRender.push(i.fragments[t]=e)}),this.fragmentsToCreate.length=0):o(this,t)&&(this.bubble(),this.rendered&&r.addView(this)),this.value=t,this.updating=!1)}}(H,s,u,b,o),yr=function(t,e){function n(t){t.unbind()}function r(t,e){var n,r=[];for(n=t;e>n;n+=1)r.push(n);return r}function i(t,e,n,r){var i,o,a,s,u;for(a=t.template.i,i=e;n>i;i+=1)o=t.fragments[i],s=t.keypath+"."+(i-r),u=t.keypath+"."+i,o.index=i,o.rebind(a,i,s,u)}var o;return e.push(function(){o=e.Fragment}),function(e){var o,a,s,u,c,l=this;if(!this.unbound&&(o=e.balance)){if(t.addView(l),a=e.rangeStart,l.length+=o,0>o)return l.fragmentsToUnrender=l.fragments.splice(a,-o),l.fragmentsToUnrender.forEach(n),void i(l,a,l.length,o);s=a+e.removed,u=a+e.added,c=[s,0],c.length+=o,l.fragments.splice.apply(l.fragments,c),i(l,u,l.length,o),l.fragmentsToCreate=r(s,u)}}}(b,o),wr=function(t){var e,n,r;for(e="",n=0,r=this.length,n=0;r>n;n+=1)e+=this.fragments[n].toString(t);return e},br=function(t){function e(t){t.unbind()}return function(){this.fragments.forEach(e),t.call(this),this.length=0,this.unbound=!0}}(Un),xr=function(){function t(t){t.unrender(!0)}function e(t){t.unrender(!1)}return function(n){this.fragments.forEach(n?t:e)}}(),Er=function(){for(var t,e,n,r,i;t=this.fragmentsToUnrender.pop();)t.unrender(!0);if(this.fragmentsToRender.length){for(this.rendered&&(i=this.parentFragment.getNode());t=this.fragmentsToRender.shift();)e=t.render(),this.docFrag.appendChild(e),this.rendered&&this.ordered&&(n=this.fragments[t.index+1],n&&n.rendered&&i.insertBefore(this.docFrag,n.firstNode()||null));this.rendered&&this.docFrag.childNodes.length&&(r=this.parentFragment.findNextNode(this),i.insertBefore(this.docFrag,r))}},_r=function(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,g,v,m){var y=function(n){this.type=t.SECTION,this.subtype=n.template.n,this.inverted=this.subtype===t.SECTION_UNLESS,this.pElement=n.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],this.length=0,e.init(this,n)};return y.prototype={bubble:n,detach:r,find:i,findAll:o,findAllComponents:a,findComponent:s,findNextNode:u,firstNode:c,getValue:e.getValue,merge:l,rebind:e.rebind,render:f,resolve:e.resolve,setValue:h,splice:p,toString:d,unbind:g,unrender:v,update:m},y}(H,or,sr,ur,cr,lr,fr,hr,pr,dr,gr,vr,mr,yr,wr,br,xr,Er),Tr=function(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}},Cr=function(t){return function(e){var n,r,i,o;for(r=this.nodes.length,n=0;r>n;n+=1)if(i=this.nodes[n],1===i.nodeType){if(t(i,e))return i;if(o=i.querySelector(e))return o}return null}}(Ze),Sr=function(t){return function(e,n){var r,i,o,a,s,u;for(i=this.nodes.length,r=0;i>r;r+=1)if(o=this.nodes[r],1===o.nodeType&&(t(o,e)&&n.push(o),a=o.querySelectorAll(e)))for(s=a.length,u=0;s>u;u+=1)n.push(a[u])}}(Ze),Ar=function(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},kr=function(t,e){function n(t){return o[t]||(o[t]=e(t))}var r,i,o={};try{e("table").innerHTML="foo"}catch(a){r=!0,i={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}return function(e,o,a){var s,u,c,l,f,h=[];if(e){for(r&&(u=i[o.tagName])?(s=n("DIV"),s.innerHTML=u[0]+e+u[1],s=s.querySelector(".x"),"SELECT"===s.tagName&&(c=s.options[s.selectedIndex])):o.namespaceURI===t.svg?(s=n("DIV"),s.innerHTML='<svg class="x">'+e+"</svg>",s=s.querySelector(".x")):(s=n(o.tagName),s.innerHTML=e);l=s.firstChild;)h.push(l),a.appendChild(l);if(r&&"SELECT"===o.tagName)for(f=h.length;f--;)h[f]!==c&&(h[f].selected=!1)}return h}}(T,C),Mr=function(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e},Nr=function(t){function e(t){return t.selected}return function(n){var r,i,o;n&&"select"===n.name&&n.binding&&(r=t(n.node.options).filter(e),n.getAttribute("multiple")?o=r.map(function(t){return t.value}):(i=r[0])&&(o=i.value),void 0!==o&&n.binding.setValue(o),n.bubble())}}(Mr),Ir=function(t,e){return function(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=t(this.value,this.parentFragment.getNode(),this.docFrag),e(this.pElement),this.rendered=!0,this.docFrag}}(kr,Nr),Or=function(t){return function(e){var n;(n=this.root.viewmodel.wrapped[this.keypath])&&(e=n.get()),e!==this.value&&(this.value=e,this.parentFragment.bubble(),this.rendered&&t.addView(this))}}(b),Rr=function(){return void 0!=this.value?this.value:""},Lr=function(t){return function(e){this.rendered&&e&&(this.nodes.forEach(t),this.rendered=!1)}}(Hn),Pr=function(t,e){return function(){var n,r;if(this.rendered){for(;this.nodes&&this.nodes.length;)n=this.nodes.pop(),n.parentNode.removeChild(n);r=this.parentFragment.getNode(),this.nodes=t(this.value,r,this.docFrag),r.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),e(this.pElement)}}}(kr,Nr),Dr=function(t,e,n,r,i,o,a,s,u,c,l,f){var h=function(n){this.type=t.TRIPLE,e.init(this,n)};return h.prototype={detach:n,find:r,findAll:i,firstNode:o,getValue:e.getValue,rebind:e.rebind,render:a,resolve:e.resolve,setValue:s,toString:u,unbind:f,unrender:c,update:l},h}(H,or,Tr,Cr,Sr,Ar,Ir,Or,Rr,Lr,Pr,Un),jr=function(){this.parentFragment.bubble()},Fr=function(){var t,e=this.node;return e?((t=e.parentNode)&&t.removeChild(e),e):void 0},qr=function(t){return function(e){return t(this.node,e)?this.node:this.fragment&&this.fragment.find?this.fragment.find(e):void 0}}(Ze),$r=function(t,e){e._test(this,!0)&&e.live&&(this.liveQueries||(this.liveQueries=[])).push(e),this.fragment&&this.fragment.findAll(t,e)},Vr=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},Hr=function(t){return this.fragment?this.fragment.findComponent(t):void 0},Wr=function(){return null},zr=function(){return this.node},Ur=function(t){return this.attributes&&this.attributes[t]?this.attributes[t].value:void 0},Br=function(){var t,e,n,r;return t="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),e="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),n=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},r=n(t.concat(e)),function(t){var e=t.toLowerCase();return r[e]||e}}(),Xr=function(t){return function(){var e=this.fragment.getValue();e!==this.value&&(this.value=e,"value"===this.name&&this.node&&(this.node._ractive.value=e),this.rendered&&t.addView(this))}}(b),Yr=function(t,e){return function(n,r){var i,o;if(i=r.indexOf(":"),-1===i||(o=r.substr(0,i),"xmlns"===o))n.name=n.element.namespace!==t.html?e(r):r;else if(r=r.substring(i+1),n.name=e(r),n.namespace=t[o.toLowerCase()],!n.namespace)throw'Unknown namespace ("'+o+'")'}}(T,Br),Gr=function(t){return function(e){var n=e.fragment.items;if(1===n.length)return n[0].type===t.INTERPOLATOR?n[0]:void 0}}(H),Zr=function(t){var e={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(n,r){var i;!n.pNode||n.namespace||r.pNode.namespaceURI&&r.pNode.namespaceURI!==t.html||(i=e[n.name]||n.name,void 0!==r.pNode[i]&&(n.propertyName=i),("boolean"==typeof r.pNode[i]||"value"===i)&&(n.useProperty=!0))}}(T),Jr=function(t,e,n,r,i){var o;return i.push(function(){o=i.Fragment}),function(i){return this.type=t.ATTRIBUTE,this.element=i.element,this.root=i.root,e(this,i.name),i.value&&"string"!=typeof i.value?(this.parentFragment=this.element.parentFragment,this.fragment=new o({template:i.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=n(this),this.isBindable=!!this.interpolator,r(this,i),void(this.ready=!0)):void(this.value=i.value||!0)}}(H,Yr,Gr,Zr,o),Qr=function(t,e,n,r){this.fragment&&this.fragment.rebind(t,e,n,r)},Kr=function(t){var e={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(n){var r;this.node=n,n.namespaceURI&&n.namespaceURI!==t.html||(r=e[this.name]||this.name,void 0!==n[r]&&(this.propertyName=r),("boolean"==typeof n[r]||"value"===r)&&(this.useProperty=!0),"value"===r&&(this.useProperty=!0,n._ractive.value=this.value)),this.rendered=!0,this.update()}}(T),ti=function(){function t(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}return function(){var e,n,r;return e=this.name,n=this.value,"value"!==e||"select"!==this.element.name?"name"===e&&"input"===this.element.name&&(r=this.interpolator)?"name={{"+(r.keypath||r.ref)+"}}":"number"==typeof n?e+'="'+n+'"':"string"==typeof n?e+'="'+t(n)+'"':n?e:"":void 0}}(),ei=function(){this.fragment&&this.fragment.unbind()},ni=function(){var t,e,n,r,i=this.value;if(!this.locked)for(this.node._ractive.value=i,t=this.node.options,r=t.length;r--;)if(e=t[r],n=e._ractive?e._ractive.value:e.value,n==i){e.selected=!0;break}},ri=function(t){return function(){var e,n,r,i,o=this.value;for(t(o)||(o=[o]),e=this.node.options,n=e.length;n--;)r=e[n],i=r._ractive?r._ractive.value:r.value,r.selected=-1!==o.indexOf(i)}}(s),ii=function(){var t=(e=this).node,e=e.value;t.checked=e==t._ractive.value},oi=function(t){return function(){var e,n,r,i,o=this.node;if(e=o.checked,o.value=this.element.getAttribute("value"),o.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),e&&!o.checked&&this.element.binding&&(r=this.element.binding.siblings,i=r.length)){for(;i--;){if(n=r[i],!n.element.node)return;
if(n.element.node.checked)return t.addViewmodel(n.root.viewmodel),n.handleChange()}t.addViewmodel(n.root.viewmodel),this.root.viewmodel.set(n.keypath,void 0)}}}(b),ai=function(t){return function(){var e,n;e=this.node,n=this.value,e.checked=t(n)?-1!==n.indexOf(e._ractive.value):n==e._ractive.value}}(s),si=function(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.className=e},ui=function(){var t,e;t=this.node,e=this.value,void 0!==e&&(this.root.nodes[e]=void 0),this.root.nodes[e]=t,t.id=e},ci=function(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.style.setAttribute("cssText",e)},li=function(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),this.locked||(t.innerHTML=e)},fi=function(){var t,e;t=this.node,e=this.value,t._ractive.value=e,this.locked||(t.value=void 0==e?"":e)},hi=function(){this.locked||(this.node[this.propertyName]=this.value)},pi=function(){var t,e,n;t=this.node,e=this.name,n=this.value,this.namespace?t.setAttributeNS(this.namespace,e,n):"string"==typeof n||"number"==typeof n?t.setAttribute(e,n):n?t.setAttribute(e,""):t.removeAttribute(e)},di=function(t,e,n,r,i,o,a,s,u,c,l,f,h,p){return function(){var d,g,v,m,y;d=this.name,g=this.element,v=this.node,"id"===d?y=u:"value"===d?"select"===g.name&&"value"===d?y=v.multiple?r:n:"textarea"===g.name?y=f:v.getAttribute("contenteditable")?y=l:"input"===g.name&&(m=g.getAttribute("type"),y="file"===m?e:"radio"===m&&g.binding&&"name"===g.binding.name?o:f):this.twoway&&"name"===d?"radio"===v.type?y=i:"checkbox"===v.type&&(y=a):"style"===d&&v.style.setAttribute?y=c:"class"!==d||v.namespaceURI&&v.namespaceURI!==t.html?this.useProperty&&(y=h):y=s,y||(y=p),this.update=y,this.update()}}(T,Ve,ni,ri,ii,oi,ai,si,ui,ci,li,fi,hi,pi),gi=function(t,e,n,r,i,o,a){var s=function(t){this.init(t)};return s.prototype={bubble:t,init:e,rebind:n,render:r,toString:i,unbind:o,update:a},s}(Xr,Jr,Qr,Kr,ti,ei,di),vi=function(t){return function(e,n){var r,i,o=[];for(r in n)n.hasOwnProperty(r)&&(i=new t({element:e,name:r,value:n[r],root:e.root}),o.push(o[r]=i));return o}}(gi),mi=function(t){for(var e,n,r=Array.prototype.slice,i=r.call(arguments,1);n=i.shift();)for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t},yi=function(t,e,n,r,i){var o=function(t){var n,r,i;return this.element=t,this.root=t.root,this.attribute=t.attributes[this.name||"value"],n=this.attribute.interpolator,n.twowayBinding=this,n.keypath&&"${"===n.keypath.substr?(e("Two-way binding does not work with expressions: "+n.keypath),!1):(n.keypath||(n.ref&&n.resolve(n.ref),n.resolver&&n.resolver.forceResolution()),this.keypath=r=n.keypath,void(void 0===this.root.viewmodel.get(r)&&this.getInitialValue&&(i=this.getInitialValue(),void 0!==i&&this.root.viewmodel.set(r,i))))};return o.prototype={handleChange:function(){var e=this;t.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),t.scheduleTask(function(){return e.attribute.locked=!1}),t.end()},rebound:function(){var t,e,n;e=this.keypath,n=this.attribute.interpolator.keypath,e!==n&&(i(this.root._twowayBindings[e],this),this.keypath=n,t=this.root._twowayBindings[n]||(this.root._twowayBindings[n]=[]),t.push(this))},unbind:function(){}},o.extend=function(t){var e,i=this;return e=function(t){o.call(this,t),this.init&&this.init()},e.prototype=n(i.prototype),r(e.prototype,t),e.extend=o.extend,e},o}(b,D,W,mi,h),wi=function(){this._ractive.binding.handleChange()},bi=function(t,e){var n=t.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var t=this.element.node;t.addEventListener("change",e,!1),this.root.lazy||(t.addEventListener("input",e,!1),t.attachEvent&&t.addEventListener("keyup",e,!1))},unrender:function(){var t=this.element.node;t.removeEventListener("change",e,!1),t.removeEventListener("input",e,!1),t.removeEventListener("keyup",e,!1)},getValue:function(){return this.element.node.innerHTML}});return n}(yi,wi),xi=function(){var t={};return function(e,n,r){var i=e+n+r;return t[i]||(t[i]=[])}}(),Ei=function(t,e,n,r,i){var o=n.extend({name:"checked",init:function(){this.siblings=r(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var t=this.element.node;t.addEventListener("change",i,!1),t.attachEvent&&t.addEventListener("click",i,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",i,!1),t.removeEventListener("click",i,!1)},handleChange:function(){t.start(this.root),this.siblings.forEach(function(t){t.root.viewmodel.set(t.keypath,t.getValue())}),t.end()},getValue:function(){return this.element.node.checked},unbind:function(){e(this.siblings,this)}});return o}(b,h,yi,xi,wi),_i=function(t,e,n,r){var i=e.extend({name:"name",init:function(){this.siblings=r(this.root._guid,"radioname",this.keypath),this.siblings.push(this),this.radioName=!0,this.attribute.twoway=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var t=this.element.node;t.name="{{"+this.keypath+"}}",t.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),t.addEventListener("change",n,!1),t.attachEvent&&t.addEventListener("click",n,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",n,!1),t.removeEventListener("click",n,!1)},getValue:function(){var t=this.element.node;return t._ractive?t._ractive.value:t.value},handleChange:function(){this.element.node.checked&&e.prototype.handleChange.call(this)},rebound:function(t,n,r,i){var o;e.prototype.rebound.call(this,t,n,r,i),(o=this.element.node)&&(o.name="{{"+this.keypath+"}}")},unbind:function(){t(this.siblings,this)}});return i}(h,yi,wi,xi),Ti=function(t,e,n,r,i){function o(t){return t.isChecked}function a(t){return t.element.getAttribute("value")}var s=n.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var e,n,i;this.checkboxName=!0,this.siblings=r(this.root._guid,"checkboxes",this.keypath),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),i=this.siblings.noInitialValue,e=this.root.viewmodel.get(this.keypath),n=this.element.getAttribute("value"),i?(this.isChecked=this.element.getAttribute("checked"),this.isChecked&&e.push(n)):this.isChecked=t(e)?-1!==e.indexOf(n):e===n},unbind:function(){e(this.siblings,this)},render:function(){var t=this.element.node;t.name="{{"+this.keypath+"}}",t.checked=this.isChecked,t.addEventListener("change",i,!1),t.attachEvent&&t.addEventListener("click",i,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",i,!1),t.removeEventListener("click",i,!1)},changed:function(){var t=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===t},handleChange:function(){this.isChecked=this.element.node.checked,n.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(o).map(a)}});return s}(s,h,yi,xi,wi),Ci=function(t,e){var n=t.extend({name:"checked",render:function(){var t=this.element.node;t.addEventListener("change",e,!1),t.attachEvent&&t.addEventListener("click",e,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",e,!1),t.removeEventListener("click",e,!1)},getValue:function(){return this.element.node.checked}});return n}(yi,wi),Si=function(t,e,n){var r=e.extend({getInitialValue:function(){var t,e,n=this.element.options;if(e=t=n.length,t){for(;e--;)if(n[e].getAttribute("selected"))return n[e].getAttribute("value");for(;++e<t;)if(!n[e].getAttribute("disabled"))return n[e].getAttribute("value")}},render:function(){this.element.node.addEventListener("change",n,!1)},unrender:function(){this.element.node.removeEventListener("change",n,!1)},setValue:function(e){t.addViewmodel(this.root.viewmodel),this.root.viewmodel.set(this.keypath,e)},getValue:function(){var t,e,n,r,i;for(t=this.element.node.options,n=t.length,e=0;n>e;e+=1)if(r=t[e],t[e].selected)return i=r._ractive?r._ractive.value:r.value},forceUpdate:function(){var e=this,n=this.getValue();void 0!==n&&(this.attribute.locked=!0,t.addViewmodel(this.root.viewmodel),t.scheduleTask(function(){return e.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,n))}});return r}(b,yi,wi),Ai=function(t){return function(e,n){var r;if(!t(e)||!t(n))return!1;if(e.length!==n.length)return!1;for(r=e.length;r--;)if(e[r]!==n[r])return!1;return!0}}(s),ki=function(t,e,n,r){var i=n.extend({getInitialValue:function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},render:function(){var t;this.element.node.addEventListener("change",r,!1),t=this.root.viewmodel.get(this.keypath),void 0===t&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",r,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var t,e,n,r,i,o;for(t=[],e=this.element.node.options,r=e.length,n=0;r>n;n+=1)i=e[n],i.selected&&(o=i._ractive?i._ractive.value:i.value,t.push(o));return t},handleChange:function(){var t,r,i;return t=this.attribute,r=t.value,i=this.getValue(),void 0!==r&&e(i,r)||n.prototype.handleChange.call(this),this},forceUpdate:function(){var e=this,n=this.getValue();void 0!==n&&(this.attribute.locked=!0,t.addViewmodel(this.root.viewmodel),t.scheduleTask(function(){return e.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,n))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}});return i}(b,Ai,Si,wi),Mi=function(t,e){var n=t.extend({render:function(){this.element.node.addEventListener("change",e,!1)},unrender:function(){this.element.node.removeEventListener("change",e,!1)},getValue:function(){return this.element.node.files}});return n}(yi,wi),Ni=function(t,e){function n(){var t;e.call(this),t=this._ractive.root.viewmodel.get(this._ractive.binding.keypath,i),this.value=void 0==t?"":t}var r,i;return i={evaluateWrapped:!0},r=t.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var t=this.element.node;t.addEventListener("change",e,!1),this.root.lazy||(t.addEventListener("input",e,!1),t.attachEvent&&t.addEventListener("keyup",e,!1)),t.addEventListener("blur",n,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",e,!1),t.removeEventListener("input",e,!1),t.removeEventListener("keyup",e,!1),t.removeEventListener("blur",n,!1)}})}(yi,wi),Ii=function(t){return t.extend({getInitialValue:function(){return void 0},getValue:function(){var t=parseFloat(this.element.node.value);return isNaN(t)?void 0:t}})}(Ni),Oi=function(t,e,n,r,i,o,a,s,u,c,l){function f(t){return t&&t.isBindable}return function(h){var p,d,g,v,m=h.attributes;return h.binding&&(h.binding.teardown(),h.binding=null),h.getAttribute("contenteditable")&&f(m.value)?d=e:"input"===h.name?(p=h.getAttribute("type"),"radio"===p||"checkbox"===p?(g=f(m.name),v=f(m.checked),g&&v&&t.error({message:"badRadioInputBinding"}),g?d="radio"===p?r:i:v&&(d="radio"===p?n:o)):"file"===p&&f(m.value)?d=u:f(m.value)&&(d="number"===p||"range"===p?c:l)):"select"===h.name&&f(m.value)?d=h.getAttribute("multiple")?s:a:"textarea"===h.name&&f(m.value)&&(d=l),d?new d(h):void 0}}(Zn,bi,Ei,_i,Ti,Ci,Si,ki,Mi,Ii,Ni),Ri=function(t){this.root.fire(this.action.toString().trim(),t)},Li=function(t){function e(t){this.root.fire.apply(this.root,[this.action.toString().trim(),t].concat(this.params))}function n(t){var e=this.dynamicParams.getValue(i);"string"==typeof e&&(e=e.substr(1,e.length-2)),this.root.fire.apply(this.root,[this.action.toString().trim(),t].concat(e))}var r,i={args:!0};return t.push(function(){r=t.Fragment}),function(t,i,o){var a;this.element=t,this.root=t.root,this.name=i,this.proxies=[],a=o.n||o,"string"!=typeof a&&(a=new r({template:a,root:this.root,owner:this.element})),this.action=a,o.d?(this.dynamicParams=new r({template:o.d,root:this.root,owner:this.element}),this.fire=n):o.a&&(this.params=o.a,this.fire=e)}}(o),Pi=function(t,e,n,r){"string"!=typeof this.action&&this.action.rebind(t,e,n,r),this.dynamicParams&&this.dynamicParams.rebind(t,e,n,r)},Di=function(t){var e,n;e=this._ractive,n=e.events[t.type],n.fire({node:this,original:t,index:e.index,keypath:e.keypath,context:e.root.get(e.keypath)})},ji=function(t,e,n){function r(t){return i[t]||(i[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath,e.context=n.root.get(n.keypath),n.events[t].fire(e)}),i[t]}var i={};return function(){var i,o=this.name;this.node=this.element.node,(i=e.registries.events.find(this.root,o))?this.custom=i(this.node,r(o)):("on"+o in this.node||window&&"on"+o in window||t('Missing "'+this.name+'" event. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#events'),this.node.addEventListener(o,n,!1)),this.node._ractive.events[o]=this}}(D,ze,Di),Fi=function(){"string"!=typeof this.action&&this.action.teardown(),this.dynamicParams&&this.dynamicParams.teardown()},qi=function(t){return function(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,t,!1)}}(Di),$i=function(t,e,n,r,i,o){var a=function(t,e,n){this.init(t,e,n)};return a.prototype={fire:t,init:e,rebind:n,render:r,teardown:i,unrender:o},a}(Ri,Li,Pi,ji,Fi,qi),Vi=function(t){return function(e,n){var r,i,o,a,s=[];for(i in n)if(n.hasOwnProperty(i))for(o=i.split("-"),r=o.length;r--;)a=new t(e,o[r],n[i]),s.push(a);return s}}($i),Hi=function(t,e,n){var r,i,o;return e.push(function(){r=e.Fragment}),i={args:!0},o=function(e,o){var a,s,u,c=this;c.element=e,c.root=a=e.root,s=o.n||o,"string"!=typeof s&&(u=new r({template:s,root:a,owner:e}),s=u.toString(),u.unbind()),o.a?c.params=o.a:o.d&&(c.fragment=new r({template:o.d,root:a,owner:e}),c.params=c.fragment.getValue(i),c.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,c.params=this.getValue(i),c.ready&&c.update()}),c.fn=n.registries.decorators.find(a,s),c.fn||t.error({debug:a.debug,message:"missingPlugin",args:{plugin:"decorator",name:s}})},o.prototype={init:function(){var t,e,n,r=this;if(t=r.element.node,r.params?(n=[t].concat(r.params),e=r.fn.apply(r.root,n)):e=r.fn.call(r.root,t),!e||!e.teardown)throw new Error("Decorator definition must return an object with a teardown method");r.actual=e,r.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},teardown:function(t){this.actual.teardown(),!t&&this.fragment&&this.fragment.unbind()}},o}(Zn,o,ze),Wi=function(t){function e(t,e){for(var n=t.length;n--;)if(t[n]==e)return!0}return function(n){var r,i,o,a,s;r=n.node,r&&(a=t(r.options),i=n.getAttribute("value"),o=n.getAttribute("multiple"),void 0!==i?(a.forEach(function(t){var n,r;n=t._ractive?t._ractive.value:t.value,r=o?e(i,n):i==n,r&&(s=!0),t.selected=r}),s||(a[0]&&(a[0].selected=!0),n.binding&&n.binding.forceUpdate())):n.binding&&n.binding.forceUpdate())}}(Mr),zi=function(t,e){return function(){var n=this;this.dirty||(this.dirty=!0,t.scheduleTask(function(){e(n),n.dirty=!1})),this.parentFragment.bubble()}}(b,Wi),Ui=function(t){do if("select"===t.name)return t;while(t=t.parent)},Bi=function(t){return function(e,n){e.select=t(e.parent),e.select.options.push(e),n.a||(n.a={}),n.a.value||n.a.hasOwnProperty("disabled")||(n.a.value=n.f),"selected"in n.a&&void 0!==e.select.getAttribute("value")&&delete n.a.selected}}(Ui),Xi=function(t,e,n,r,i,o,a,s,u){var c;return u.push(function(){c=u.Fragment}),function(u){var l,f,h,p,d;this.type=t.ELEMENT,l=this.parentFragment=u.parentFragment,f=this.template=u.template,this.parent=u.pElement||l.pElement,this.root=h=l.root,this.index=u.index,this.name=e(f.e),"option"===this.name&&s(this,f),"select"===this.name&&(this.options=[],this.bubble=a),this.attributes=n(this,f.a),f.f&&(this.fragment=new c({template:f.f,root:h,owner:this,pElement:this})),h.twoway&&(p=r(this,f.a))&&(this.binding=p,d=this.root._twowayBindings[p.keypath]||(this.root._twowayBindings[p.keypath]=[]),d.push(p)),f.v&&(this.eventHandlers=i(this,f.v)),f.o&&(this.decorator=new o(this,f.o)),this.intro=f.t0||f.t1,this.outro=f.t0||f.t2}}(H,Br,vi,Oi,Vi,Hi,zi,Bi,o),Yi=function(t){return function(e,n){return e===n||t(e,n)}}(Yn),Gi=function(t,e){return function(n,r,i,o){var a=n[r];a&&!t(a,o)&&t(a,i)&&(n[r]=e(a,i,o))}}(Yi,Gn),Zi=function(t){return function(e,n,r,i){function o(t){t.rebind(e,n,r,i)}var a,s,u,c;if(this.attributes&&this.attributes.forEach(o),this.eventHandlers&&this.eventHandlers.forEach(o),this.fragment&&o(this.fragment),u=this.liveQueries)for(c=this.root,a=u.length;a--;)u[a]._makeDirty();this.node&&(s=this.node._ractive)&&(t(s,"keypath",r,i),void 0!=e&&(s.index[e]=n))}}(Gi),Ji=function(t){var e,n,r;((e=t.getAttribute("width"))||(n=t.getAttribute("height")))&&t.node.addEventListener("load",r=function(){e&&(t.node.width=e.value),n&&(t.node.height=n.value),t.node.removeEventListener("load",r,!1)},!1)},Qi=function(t,e,n){var r,i={};return n.push(function(){r=n.Fragment}),function(n,o,a){var s,u,c,l=this;return l.element=n,l.root=s=n.root,l.isIntro=a,u=o.n||o,"string"!=typeof u&&(c=new r({template:u,root:s,owner:n}),u=c.toString(),c.unbind()),l.name=u,o.a?l.params=o.a:o.d&&(c=new r({template:o.d,root:s,owner:n}),l.params=c.getValue(i),c.unbind()),l._fn=e.registries.transitions.find(s,u),l._fn?void 0:void t.error({debug:s.debug,message:"missingPlugin",args:{plugin:"transition",name:u}})}}(Zn,ze,o),Ki=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})},to=function(t,e,n,r){var i,o,a;return t?(o={},a=n("div").style,i=function(t){var n,i,s;if(t=r(t),!o[t])if(void 0!==a[t])o[t]=t;else for(s=t.charAt(0).toUpperCase()+t.substring(1),n=e.length;n--;)if(i=e[n],void 0!==a[i+s]){o[t]=i+s;break}return o[t]}):i=null,i}(S,O,C,Ki),eo=function(t,e,n,r){var i,o;return e?(o=window.getComputedStyle||t.getComputedStyle,i=function(t){var e,i,a,s,u;if(e=o(this.node),"string"==typeof t)return u=e[r(t)],"0px"===u&&(u=0),u;if(!n(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(i={},a=t.length;a--;)s=t[a],u=e[r(s)],"0px"===u&&(u=0),i[s]=u;return i}):i=null,i}(we,S,s,to),no=function(t){return function(e,n){var r;if("string"==typeof e)this.node.style[t(e)]=n;else for(r in e)e.hasOwnProperty(r)&&(this.node.style[t(r)]=e[r]);return this}}(to),ro=function(t,e,n){function r(t){return t}var i=function(i){var o;this.duration=i.duration,this.step=i.step,this.complete=i.complete,"string"==typeof i.easing?(o=i.root.easing[i.easing],o||(t('Missing easing function ("'+i.easing+'"). You may need to download a plugin from [TODO]'),o=r)):o="function"==typeof i.easing?i.easing:r,this.easing=o,this.start=e(),this.end=this.start+this.duration,this.running=!0,n.add(this)};return i.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}},i}(D,L,P),io=function(t){var e=new RegExp("^-(?:"+t.join("|")+")-");return function(t){return t.replace(e,"")}}(O),oo=function(t){var e=new RegExp("^(?:"+t.join("|")+")([A-Z])");return function(t){var n;return t?(e.test(t)&&(t="-"+t),n=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""}}(O),ao=function(t,e,n,r,i,o,a,s,u){var c,l,f,h,p,d,g,v,m={},y={};return t?(l=n("div").style,function(){void 0!==l.transition?(f="transition",h="transitionend",p=!0):void 0!==l.webkitTransition?(f="webkitTransition",h="webkitTransitionEnd",p=!0):p=!1}(),f&&(d=f+"Duration",g=f+"Property",v=f+"TimingFunction"),c=function(t,n,c,l,f){setTimeout(function(){var w,b,x,E,_;E=function(){b&&x&&(t.root.fire(t.name+":end",t.node,t.isIntro),f())},w=(t.node.namespaceURI||"")+t.node.tagName,t.node.style[g]=l.map(a).map(u).join(","),t.node.style[v]=u(c.easing||"linear"),t.node.style[d]=c.duration/1e3+"s",_=function(e){var n;n=l.indexOf(r(s(e.propertyName))),-1!==n&&l.splice(n,1),l.length||(t.node.removeEventListener(h,_,!1),x=!0,E())},t.node.addEventListener(h,_,!1),setTimeout(function(){for(var s,u,f,d,g,v=l.length,T=[];v--;)d=l[v],s=w+d,p&&!y[s]&&(t.node.style[a(d)]=n[d],m[s]||(u=t.getStyle(d),m[s]=t.getStyle(d)!=n[d],y[s]=!m[s],y[s]&&(t.node.style[a(d)]=u))),(!p||y[s])&&(void 0===u&&(u=t.getStyle(d)),f=l.indexOf(d),-1===f?e("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):l.splice(f,1),g=/[^\d]*$/.exec(n[d])[0],T.push({name:a(d),interpolator:i(parseFloat(u),parseFloat(n[d])),suffix:g}));T.length?new o({root:t.root,duration:c.duration,easing:r(c.easing||""),step:function(e){var n,r;for(r=T.length;r--;)n=T[r],t.node.style[n.name]=n.interpolator(e)+n.suffix},complete:function(){b=!0,E()}}):b=!0,l.length||(t.node.removeEventListener(h,_,!1),x=!0,E())},0)},c.delay||0)}):c=null,c}(S,D,C,Ki,Ue,ro,to,io,oo),so=function(t){function e(){u.hidden=document[i]}function n(){u.hidden=!0}function r(){u.hidden=!1}var i,o,a,s,u;if("undefined"!=typeof document){if(i="hidden",u={},i in document)a="";else for(s=t.length;s--;)o=t[s],i=o+"Hidden",i in document&&(a=o);void 0!==a?(document.addEventListener(a+"visibilitychange",e),e()):("onfocusout"in document?(document.addEventListener("focusout",n),document.addEventListener("focusin",r)):(window.addEventListener("pagehide",n),window.addEventListener("blur",n),window.addEventListener("pageshow",r),window.addEventListener("focus",r)),u.hidden=!1)}return u}(O),uo=function(t,e,n,r,i,o,a){var s,u,c;return e?(u=window.getComputedStyle||t.getComputedStyle,s=function(t,e,s,l){var f,h=this;if(a.hidden)return this.setStyle(t,e),c||(c=r.resolve());"string"==typeof t?(f={},f[t]=e):(f=t,l=s,s=e),s||(n('The "'+h.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),s=h,l=h.complete);var p=new r(function(t){var e,n,r,a,c,l,p;if(!s.duration)return h.setStyle(f),void t();for(e=Object.keys(f),n=[],r=u(h.node),c={},l=e.length;l--;)p=e[l],a=r[i(p)],"0px"===a&&(a=0),a!=f[p]&&(n.push(p),h.node.style[i(p)]=a);return n.length?void o(h,f,s,n,t):void t()});return l&&(n("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)"),p.then(l)),p}):s=null,s}(we,S,D,p,to,ao,so),co=function(t,e){var n;for(n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n]);return t},lo=function(t){return function(e,n){return"number"==typeof e?e={duration:e}:"string"==typeof e?e="slow"===e?{duration:600}:"fast"===e?{duration:200}:{duration:400}:e||(e={}),t(e,n)}}(co),fo=function(){function t(t,e){e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"))}return function(){var e,n,r=this;return e=r.node=r.element.node,n=e.getAttribute("style"),r.complete=function(i){!i&&r.isIntro&&t(e,n),e._ractive.transition=null,r._manager.remove(r)},r._fn?void r._fn.apply(r.root,[r].concat(r.params)):void r.complete()}}(),ho=function(t,e,n,r,i,o,a){var s,u;return a.push(function(){s=a.Fragment}),u=function(t,e,n){this.init(t,e,n)},u.prototype={init:t,start:o,getStyle:e,setStyle:n,animateStyle:r,processParams:i},u}(Qi,eo,no,uo,lo,fo,o),po=function(t,e,n,r,i,o,a,s,u,c,l){function f(e){var n,r,i;return n=(r=e.getAttribute("xmlns"))?r:"svg"===e.name?t.svg:(i=e.parent)?"foreignObject"===i.name?t.html:i.node.namespaceURI:e.root.el.namespaceURI}function h(t){var n,r,i;if(r=t.select.getAttribute("value"),void 0!==r)if(n=t.getAttribute("value"),t.select.node.multiple&&e(r)){for(i=r.length;i--;)if(n==r[i]){t.node.selected=!0;break}}else t.node.selected=n==r}function p(t){var e,n,r,i,o;e=t.root;do for(n=e._liveQueries,r=n.length;r--;)i=n[r],o=n["_"+i],o._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(o);while(e=e._parent)}var d,g;return d=function(){var t=this.node,e=this.fragment.toString(!1);if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},g=function(){this.node.type&&"text/javascript"!==this.node.type||n("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)},function(){var t,e,n=this,v=this.root;if(t=f(this),e=this.node=i(this.name,t),v.constructor.css&&this.parentFragment.getNode()===v.el&&this.node.setAttribute("data-rvcguid",v.constructor._guid),o(this.node,"_ractive",{value:{proxy:this,keypath:u(this.parentFragment),index:this.parentFragment.indexRefs,events:r(null),root:v}}),this.attributes.forEach(function(t){return t.render(e)}),this.fragment&&("script"===this.name?(this.bubble=g,this.node.text=this.fragment.toString(!1),this.fragment.unrender=a):"style"===this.name?(this.bubble=d,this.bubble(),this.fragment.unrender=a):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=a:this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),"img"===this.name&&c(this),this.decorator&&this.decorator.fn&&s.scheduleTask(function(){n.decorator.init()}),v.transitionsEnabled&&this.intro){var m=new l(this,this.intro,!0);s.registerTransition(m),s.scheduleTask(function(){return m.start()})}return"option"===this.name&&h(this),this.node.autofocus&&s.scheduleTask(function(){return n.node.focus()}),p(this),this.node}}(T,s,D,W,C,A,Ve,b,g,Ji,ho),go=function(t,e){function n(t){var n,r,i;if(n=t.getAttribute("value"),void 0===n)return!1;if(r=t.select.getAttribute("value"),r==n)return!0;if(t.select.getAttribute("multiple")&&e(r))for(i=r.length;i--;)if(r[i]==n)return!0}function r(t){var e,n,r,i;return e=t.attributes,n=e.type,r=e.value,i=e.name,n&&"radio"===n.value&&r&&i.interpolator&&r.value===i.interpolator.value?!0:void 0}function i(t){var e=t.toString();return e?" "+e:""}return function(){var e,o;return e="<"+(this.template.y?"!DOCTYPE":this.template.e),e+=this.attributes.map(i).join(""),"option"===this.name&&n(this)&&(e+=" selected"),"input"===this.name&&r(this)&&(e+=" checked"),e+=">",this.fragment&&(o="script"!==this.name&&"style"!==this.name,e+=this.fragment.toString(o)),t.test(this.template.e)||(e+="</"+this.template.e+">"),e}}(_e,s),vo=function(t){return function(e){t(e.select.options,e)}}(h),mo=function(t){function e(t){t.unbind()}return function(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),"option"===this.name&&t(this),this.attributes.forEach(e)}}(vo),yo=function(t,e){function n(t){var e,n,r;for(r=t.liveQueries.length;r--;)e=t.liveQueries[r],n=e.selector,e._remove(t.node)}return function(r){var i,o;if("option"===this.name?this.detach():r&&t.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(i=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,o=this.root._twowayBindings[i.keypath],o.splice(o.indexOf(i),1)),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.unrender()}),this.decorator&&this.decorator.teardown(),this.root.transitionsEnabled&&this.outro){var a=new e(this,this.outro,!1);t.registerTransition(a),t.scheduleTask(function(){return a.start()})}this.liveQueries&&n(this)}}(b,ho),wo=function(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d){var g=function(t){this.init(t)};return g.prototype={bubble:t,detach:e,find:n,findAll:r,findAllComponents:i,findComponent:o,findNextNode:a,firstNode:s,getAttribute:u,init:c,rebind:l,render:f,toString:h,unbind:p,unrender:d},g}(jr,Fr,qr,$r,Vr,Hr,Wr,zr,Ur,Xi,Zi,po,go,mo,yo),bo=function(){function t(t,e){var r=n.exec(e)[0];return null===t||r.length<t.length?r:t}var e=/^\s*$/,n=/^\s*/;return function(n){var r,i,o,a;return r=n.split("\n"),i=r[0],void 0!==i&&e.test(i)&&r.shift(),o=r[r.length-1],void 0!==o&&e.test(o)&&r.pop(),a=r.reduce(t,null),a&&(n=r.map(function(t){return t.replace(a,"")}).join("\n")),n}}(),xo=function(t,e,n,r){function i(r,i){var o=e.registries.partials,a=o.findInstance(r,i);if(a){var s,u=a.partials[i];if("function"==typeof u&&(s=u.bind(a),s.isOwner=a.partials.hasOwnProperty(i),u=s(a.data,n)),!u)return void t.warn({debug:r.debug,message:"noRegistryFunctionReturn",args:{registry:"partial",name:i}});if(!n.isParsed(u)){var c=n.parse(u,n.getParseOptions(a));c.p&&t.warn({debug:r.debug,message:"noNestedPartials",args:{rname:i}});var l=s?a:o.findOwner(a,i);l.partials[i]=u=c.t}return s&&(u._fn=s),u.v?u.t:u}}return function(e,o){var a;if(a=i(e,o))return a;if(a=n.fromId(o,{noThrow:!0})){a=r(a);var s=n.parse(a,n.getParseOptions(e));return e.partials[o]=s.t}return t.error({debug:e.debug,message:"noTemplateForPartial",args:{name:o}}),[]}}(Zn,ze,je,bo),Eo=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},_o=function(t,e,n,r){var i,o;return r.push(function(){o=r.Fragment}),i=function(n){var r,i=this.parentFragment=n.parentFragment;if(this.type=t.PARTIAL,this.name=n.template.r,this.index=n.index,this.root=i.root,!n.template.r)throw new Error("Partials must have a static reference (no expressions). This may change in a future version of Ractive.");r=e(i.root,n.template.r),this.fragment=new o({template:r,root:i.root,owner:this,pElement:i.pElement})},i.prototype={bubble:function(){this.parentFragment.bubble()},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.fragment.detach()},render:function(){return this.fragment.render()},unrender:function(t){this.fragment.unrender(t)},rebind:function(t,e,n,r){return this.fragment.rebind(t,e,n,r)},unbind:function(){this.fragment.unbind()},toString:function(e){var r,i,o,a;return r=this.fragment.toString(e),i=this.parentFragment.items[this.index-1],i&&i.type===t.TEXT?(o=i.template.split("\n").pop(),(a=/^\s+$/.exec(o))?n(r,a[0]):r):r},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},getValue:function(){return this.fragment.getValue()}},i}(H,xo,Eo,o),To=function(t,e,n){var r;return n.push(function(){r=n.Ractive}),function i(n,r){var o,a=t.registries.components.findInstance(n,r);if(a&&(o=a.components[r],!o._parent)){var s=o.bind(a);if(s.isOwner=a.components.hasOwnProperty(r),o=s(a.data),!o)return void e.warn({debug:n.debug,message:"noRegistryFunctionReturn",args:{registry:"component",name:r}});"string"==typeof o&&(o=i(n,o)),o._fn=s,a.components[r]=o}return o}}(ze,Zn,o),Co=function(){return this.instance.fragment.detach()},So=function(t){return this.instance.fragment.find(t)},Ao=function(t,e){return this.instance.fragment.findAll(t,e)},ko=function(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)},Mo=function(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance},No=function(){return this.parentFragment.findNextNode(this)},Io=function(){return this.rendered?this.instance.fragment.firstNode():null},Oo=function(t,e){var n,r;return e.push(function(){n=e.Fragment}),r=function(t,e,r){this.parentFragment=t.parentFragment,this.component=t,this.key=e,this.fragment=new n({template:r,root:t.root,owner:this}),this.value=this.fragment.getValue()},r.prototype={bubble:function(){this.dirty||(this.dirty=!0,t.addView(this))},update:function(){var e=this.fragment.getValue();this.component.instance.viewmodel.set(this.key,e),t.addViewmodel(this.component.instance.viewmodel),this.value=e,this.dirty=!1},rebind:function(t,e,n,r){this.fragment.rebind(t,e,n,r)},unbind:function(){this.fragment.unbind()}},r}(b,o),Ro=function(t,e,n,r){function i(i,o,a,s){var u,c,l,f,h,p;return l=i.root,f=i.parentFragment,"string"==typeof a?(c=e(a),c?c.value:a):null===a?!0:1===a.length&&a[0].t===t.INTERPOLATOR&&a[0].r?f.indexRefs&&void 0!==f.indexRefs[p=a[0].r]?(i.indexRefBindings[p]=o,f.indexRefs[p]):(h=n(l,a[0].r,f)||a[0].r,s.push({childKeypath:o,parentKeypath:h}),l.viewmodel.get(h)):(u=new r(i,o,a),i.complexParameters.push(u),u.value)
}return function(t,e,n,r){var o,a,s={};t.complexParameters=[];for(o in n)n.hasOwnProperty(o)&&(a=i(t,o,n[o],r),(void 0!==a||void 0===e[o])&&(s[o]=a));return s}}(H,Me,y,Oo),Lo=function(t,e,n,r){var i,o,a,s;return o=t.parentFragment,s=t.root,a={content:r||[]},i=new e({append:!0,data:n,partials:a,magic:s.magic||e.defaults.magic,modifyArrays:s.modifyArrays,_parent:s,_component:t,adapt:s.adapt})},Po=function(t){return function(e,n){n.forEach(function(n){var r,i;t(e,e.root,n.parentKeypath,n.childKeypath),r=e.instance.viewmodel.get(n.childKeypath),i=e.root.viewmodel.get(n.parentKeypath),void 0!==r&&void 0===i&&e.root.viewmodel.set(n.parentKeypath,r)})}}(m),Do=function(t){function e(e,n,r,i){"string"!=typeof i&&t.error({debug:n.debug,message:"noComponentEventArguments"}),e.on(r,function(){var t=Array.prototype.slice.call(arguments);t.unshift(i),n.fire.apply(n,t)})}return function(t,n){var r;for(r in n)n.hasOwnProperty(r)&&e(t.instance,t.root,r,n[r])}}(Zn),jo=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries["_"+t.name])&&n.push(t.instance),e=e._parent},Fo=function(t,e,n,r,i,o,a){return function(s,u){var c,l,f,h;if(c=this.parentFragment=s.parentFragment,l=c.root,this.root=l,this.type=t.COMPONENT,this.name=s.template.e,this.index=s.index,this.indexRefBindings={},this.bindings=[],!u)throw new Error('Component "'+this.name+'" not found');h=[],f=n(this,u.defaults.data||{},s.template.a,h),r(this,u,f,s.template.f),i(this,h),o(this,s.template.v),(s.template.t1||s.template.t2||s.template.o)&&e('The "intro", "outro" and "decorator" directives have no effect on components'),a(this)}}(H,D,Ro,Lo,Po,Do,jo),qo=function(t,e){return function(n,r,i,o){var a,s,u=this.instance,c=u._parent;this.bindings.forEach(function(t){var n;t.root===c&&(n=e(t.keypath,i,o))&&t.rebind(n)}),this.complexParameters.forEach(function(t){t.rebind(n,r,i,o)}),(a=this.indexRefBindings[n])&&(t.addViewmodel(u.viewmodel),u.viewmodel.set(a,r)),(s=this.root._liveComponentQueries["_"+this.name])&&s._makeDirty()}}(b,Gn),$o=function(){var t=this.instance;return t.render(this.parentFragment.getNode()),this.rendered=!0,t.detach()},Vo=function(){return this.instance.fragment.toString()},Ho=function(){function t(t){t.unbind()}function e(t){var e,n;e=t.root;do(n=e._liveComponentQueries["_"+t.name])&&n._remove(t);while(e=e._parent)}return function(){this.complexParameters.forEach(t),this.bindings.forEach(t),e(this),this.instance.fragment.unbind()}}(),Wo=function(t){this.instance.fire("teardown"),this.shouldDestroy=t,this.instance.unrender()},zo=function(t,e,n,r,i,o,a,s,u,c,l,f,h){var p=function(t,e){this.init(t,e)};return p.prototype={detach:t,find:e,findAll:n,findAllComponents:r,findComponent:i,findNextNode:o,firstNode:a,init:s,rebind:u,render:c,toString:l,unbind:f,unrender:h},p}(Co,So,Ao,ko,Mo,No,Io,Fo,qo,$o,Vo,Ho,Wo),Uo=function(t,e){var n=function(e){this.type=t.COMMENT,this.value=e.template.c};return n.prototype={detach:e,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(t){t&&this.node.parentNode.removeChild(this.node)}},n}(H,Wn),Bo=function(t,e,n,r,i,o,a,s,u,c){return function(l){if("string"==typeof l.template)return new e(l);switch(l.template.t){case t.INTERPOLATOR:return new n(l);case t.SECTION:return new r(l);case t.TRIPLE:return new i(l);case t.ELEMENT:var f;return(f=s(l.parentFragment.root,l.template.e))?new u(l,f):new o(l);case t.PARTIAL:return new a(l);case t.COMMENT:return new c(l);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}}(H,zn,ar,_r,Dr,wo,_o,To,zo,Uo),Xo=function(t,e,n){return function(r){var i,o,a,s=this;if(this.owner=r.owner,i=this.parent=this.owner.parentFragment,this.root=r.root,this.pElement=r.pElement,this.context=r.context,this.owner.type===t.SECTION&&(this.index=r.index),i&&(o=i.indexRefs)){this.indexRefs=e(null);for(a in o)this.indexRefs[a]=o[a]}this.priority=i?i.priority+1:1,r.indexRef&&(this.indexRefs||(this.indexRefs={}),this.indexRefs[r.indexRef]=r.index),"string"==typeof r.template?r.template=[r.template]:r.template||(r.template=[]),this.items=r.template.map(function(t,e){return n({parentFragment:s,pElement:r.pElement,template:t,index:e})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.inited=!0}}(H,W,Bo),Yo=function(t){return function(e,n,r,i){t(this,"context",r,i),this.indexRefs&&void 0!==this.indexRefs[e]&&(this.indexRefs[e]=n),this.items.forEach(function(t){t.rebind&&t.rebind(e,n,r,i)})}}(Gi),Go=function(){var t;return 1===this.items.length?t=this.items[0].render():(t=document.createDocumentFragment(),this.items.forEach(function(e){t.appendChild(e.render())})),this.rendered=!0,t},Zo=function(t){return this.items?this.items.map(function(e){return e.toString(t)}).join(""):""},Jo=function(){function t(t){t.unbind&&t.unbind()}return function(){this.items.forEach(t)}}(),Qo=function(t){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(e){return e.unrender(t)})},Ko=function(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,g,v){var m=function(t){this.init(t)};return m.prototype={bubble:t,detach:e,find:n,findAll:r,findAllComponents:i,findComponent:o,findNextNode:a,firstNode:s,getNode:u,getValue:c,init:l,rebind:f,render:h,toString:p,unbind:d,unrender:g},v.Fragment=m,m}(In,On,Rn,Ln,Pn,Dn,jn,Fn,qn,$n,Xo,Yo,Go,Zo,Jo,Qo,o),ta=function(t,e,n){var r=["template","partials","components","decorators","events"];return function(i,o){var a,s,u,c,l;if("function"!=typeof i||o?i=i||{}:(o=i,i={}),"object"!=typeof i)throw new Error("The reset method takes either no arguments, or an object containing new data");for((s=this.viewmodel.wrapped[""])&&s.reset?s.reset(i)===!1&&(this.data=i):this.data=i,u=n.reset(this),c=u.length;c--;)if(r.indexOf(u[c])>-1){l=!0;break}if(l){var f;this.viewmodel.mark(""),(f=this.component)&&(f.shouldDestroy=!0),this.unrender(),f&&(f.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new e({template:this.template,root:this,owner:this})),a=this.render(this.el,this.anchor)}else a=t.start(this,!0),this.viewmodel.mark(""),t.end();return this.fire("reset",i),o&&a.then(o),a}}(b,Ko,ze),ea=function(t,e){return function(n){var r,i;t.template.init(null,this,{template:n}),r=this.transitionsEnabled,this.transitionsEnabled=!1,(i=this.component)&&(i.shouldDestroy=!0),this.unrender(),i&&(i.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new e({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=r}}(ze,Ko),na=function(t){return t("reverse")}(Sn),ra=function(t,e,n,r){var i=/\*/;return function(o,a,s){var u,c,l=this;if(c=t.start(this,!0),e(o)){u=o,s=a;for(o in u)u.hasOwnProperty(o)&&(a=u[o],o=n(o),this.viewmodel.set(o,a))}else o=n(o),i.test(o)?r(this,o).forEach(function(t){l.viewmodel.set(t,a)}):this.viewmodel.set(o,a);return t.end(),s&&c.then(s.bind(this)),c}}(b,u,I,gn),ia=function(t){return t("shift")}(Sn),oa=function(t){return t("sort")}(Sn),aa=function(t){return t("splice")}(Sn),sa=function(t){return function(e,n){return t(this,e,void 0===n?-1:-n)}}(M),ua=function(t){return function(e){var n;return this.fire("teardown"),this.fragment.unbind(),this.viewmodel.teardown(),n=this.rendered?this.unrender():t.resolve(),e&&n.then(e.bind(this)),n}}(p),ca=function(t){return function(e,n){var r;return"string"!=typeof e&&t.errorOnly({debug:this.debug,messsage:"badArguments",arg:{arguments:e}}),r=this.get(e),this.set(e,!r,n)}}(Zn),la=function(){return this.fragment.toString(!0)},fa=function(t,e,n){return function(){var r,i,o=this;if(!this.rendered)throw new Error("ractive.unrender() was called on a Ractive instance that was not rendered");for(r=e.start(this,!0),i=!this.component||this.component.shouldDestroy,i=i||this.shouldDestroy,this.constructor.css&&r.then(function(){n.remove(o.constructor)});this._animations[0];)this._animations[0].stop();return this.fragment.unrender(i),this.rendered=!1,t(this.el.__ractive_instances__,this),e.end(),r}}(h,b,Mn),ha=function(t){return t("unshift")}(Sn),pa=function(t){return function(e,n){var r;return"function"==typeof e?(n=e,e=""):e=e||"",r=t.start(this,!0),this.viewmodel.mark(e),t.end(),this.fire("update",e),n&&r.then(n.bind(this)),r}}(b),da=function(t,e){function n(r,i,o,a){var s,u,c,l,f,h,p=[];if(s=r._twowayBindings[i],s&&(c=s.length))for(;c--;)l=s[c],(!l.radioName||l.element.node.checked)&&(l.checkboxName?p[l.keypath]||l.changed()||(p.push(l.keypath),p[l.keypath]=l):(f=l.attribute.value,h=l.getValue(),t(f,h)||e(f,h)||(o[i]=h)));if(p.length&&p.forEach(function(e){var n,r,i;n=p[e],r=n.attribute.value,i=n.getValue(),t(r,i)||(o[e]=i)}),a&&(u=r.viewmodel.depsMap["default"][i]))for(c=u.length;c--;)n(r,u[c],o,a)}return function(t,e){var r;return"string"!=typeof t&&(t="",e=!0),n(this,t,r={},e),this.set(r)}}(Ai,v),ga=function(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,g,v,m,y,w,b,x,E,_,T,C,S,A,k,M,N,I){return{add:t,animate:e,detach:n,find:r,findAll:i,findAllComponents:o,findComponent:a,fire:s,get:u,insert:c,merge:l,observe:f,off:h,on:p,pop:d,push:g,render:v,reset:m,resetTemplate:y,reverse:w,set:b,shift:x,sort:E,splice:_,subtract:T,teardown:C,toggle:S,toHTML:A,unrender:k,unshift:M,update:N,updateModel:I}}(N,Xe,Ye,Ge,an,sn,un,cn,ln,hn,pn,wn,En,_n,An,kn,Nn,ta,ea,na,ra,ia,oa,aa,sa,ua,ca,la,fa,ha,pa,da),va=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e,n;return e=16*Math.random()|0,n="x"==t?e:3&e|8,n.toString(16)})},ma=function(){var t=0;return function(){return"r-"+t++}}(),ya=function(t,e,n,r){var i=t.root,o=t.keypath;return"sort"===n||"reverse"===n?void i.viewmodel.set(o,e):void(r&&i.viewmodel.splice(o,r))},wa=function(t,e,n,r,i){var o,a,s,u=[],c=["pop","push","reverse","shift","sort","splice","unshift"];return c.forEach(function(o){var a=function(){var e,a,s,u,c;for(e=n(this,o,Array.prototype.slice.call(arguments)),a=r(this,e),s=Array.prototype[o].apply(this,arguments),this._ractive.setting=!0,c=this._ractive.wrappers.length;c--;)u=this._ractive.wrappers[c],t.start(u.root),i(u,this,o,a),t.end();return this._ractive.setting=!1,s};e(u,o,{value:a})}),o={},o.__proto__?(a=function(t){t.__proto__=u},s=function(t){t.__proto__=Array.prototype}):(a=function(t){var n,r;for(n=c.length;n--;)r=c[n],e(t,r,{value:u[r],configurable:!0})},s=function(t){var e;for(e=c.length;e--;)delete t[c[e]]}),a.unpatch=s,a}(b,A,Tn,Cn,ya),ba=function(t,e,n){var r,i,o;return r={filter:function(t){return e(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new i(t,e,n)}},i=function(e,r,i){this.root=e,this.value=r,this.keypath=i,r._ractive||(t(r,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),n(r)),r._ractive.instances[e._guid]||(r._ractive.instances[e._guid]=0,r._ractive.instances.push(e)),r._ractive.instances[e._guid]+=1,r._ractive.wrappers.push(this)},i.prototype={get:function(){return this.value},teardown:function(){var t,e,r,i,a;if(t=this.value,e=t._ractive,r=e.wrappers,i=e.instances,e.setting)return!1;if(a=r.indexOf(this),-1===a)throw new Error(o);if(r.splice(a,1),r.length){if(i[this.root._guid]-=1,!i[this.root._guid]){if(a=i.indexOf(this.root),-1===a)throw new Error(o);i.splice(a,1)}}else delete t._ractive,n.unpatch(this.value)}},o="Something went wrong in a rather interesting way",r}(A,s,wa),xa=function(t,e){var n,r;return t&&(n={filter:function(n,r,i){return t.filter(n,r,i)&&e.filter(n)},wrap:function(t,e,n){return new r(t,e,n)}},r=function(n,r,i){this.value=r,this.magic=!0,this.magicWrapper=t.wrap(n,r,i),this.arrayWrapper=e.wrap(n,r,i)},r.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}}),n}(E,ba),Ea=function(t,e,n,r){function i(t,e){var n,r={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(r[e+n]=t[n]);return r}function o(t){var e;return a[t]||(e=t?t+".":"",a[t]=function(n,r){var o;return"string"==typeof n?(o={},o[e+n]=r,o):"object"==typeof n?e?i(n,t):n:void 0}),a[t]}var a={};return function(i,a){var s,u,c,l,f=this.ractive;for(s=f.adapt.length,u=0;s>u;u+=1){if(c=f.adapt[u],"string"==typeof c){var h=t.registries.adaptors.find(f,c);if(!h)throw new Error('Missing adaptor "'+c+'"');c=f.adapt[u]=h}if(c.filter(a,i,f))return l=this.wrapped[i]=c.wrap(f,a,i,o(i)),l.value=a,a}return f.magic?r.filter(a,i,f)?this.wrapped[i]=r.wrap(f,a,i):n.filter(a,i,f)&&(this.wrapped[i]=n.wrap(f,a,i)):f.modifyArrays&&e.filter(a,i,f)&&(this.wrapped[i]=e.wrap(f,a,i)),a}}(ze,ba,E,xa),_a=function(t){var e,n,r,i,o=[""];for(e=t.length;e--;)for(n=t[e],r=n.split(".");r.length>1;)r.pop(),i=r.join("."),-1===o.indexOf(i)&&o.push(i);return o},Ta=function(){function t(t){var n,r,i,o,a,s="";if(!e[t]){for(i=[];s.length<t;)s+=1;for(n=parseInt(s,2),o=function(t){return"1"===t},a=0;n>=a;a+=1){for(r=a.toString(2);r.length<t;)r="0"+r;i[a]=Array.prototype.map.call(r,o)}e[t]=i}return e[t]}var e={};return function(e){var n,r,i,o;return n=e.split("."),r=t(n.length),i=function(t,e){return t?"*":n[e]},o=r.map(function(t){return t.map(i).join(".")})}}(),Ca=function(t){function e(e,i,o){var a;r(e,i),o||(a=t(i),a.forEach(function(t){n(e,t,i)}))}function n(t,e,o){var a,s,u;a=t.depsMap.patternObservers,s=a[e],s&&s.forEach(function(e){var a=i.exec(e)[0];u=o?o+"."+a:a,r(t,u),n(t,e,u)})}function r(t,e){t.patternObservers.forEach(function(t){t.regex.test(e)&&t.update(e)})}var i=/[^\.]+$/;return e}(Ta),Sa=function(t,e){function n(t){t.update()}function r(t,e,n){var r,i;(r=o(t,e,n))&&(i=t.get(e),r.forEach(function(t){return t.setValue(i)}))}function i(t,e,n){function r(t){t.forEach(i),t.forEach(a)}function i(e){var r=o(t,e,n);r&&u.push({keypath:e,deps:r})}function a(e){var i;(i=t.depsMap[n][e])&&r(i)}function s(e){var n=t.get(e.keypath);e.deps.forEach(function(t){return t.setValue(n)})}var u=[];r(e),u.forEach(s)}function o(t,e,n){var r=t.deps[n];return r?r[e]:null}function a(t,e){e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)})}var s=["observers","default"];return function(){var o,u,c,l,f,h=this,p=this,d=[],g={};if(this.changes.length){l=function(t){var e;(e=p.deps.computed[t])&&a(c,e)},f=function(t){var e;l(t),(e=p.depsMap.computed[t])&&e.forEach(f)};do o=this.changes,a(d,o),this.changes=[],c=[],u=t(o),u.forEach(l),o.forEach(f),c.forEach(n);while(this.changes.length);return u=t(d),this.patternObservers.length&&(u.forEach(function(t){return e(h,t,!0)}),d.forEach(function(t){return e(h,t)})),s.forEach(function(t){h.deps[t]&&(u.forEach(function(e){return r(h,e,t)}),i(h,d,t))}),d.forEach(function(t){g[t]=h.get(t)}),this.implicitChanges={},g}}}(_a,Ca),Aa=function(){this.capturing=!0,this.captured=[]},ka=function(t,e){var n,r,i;if(e||(r=this.wrapped[t])&&r.teardown()!==!1&&(this.wrapped[t]=null),(i=this.computations[t])&&i.compute(),this.cache[t]=void 0,n=this.cacheMap[t])for(;n.length;)this.clearCache(n.pop())},Ma={FAILED_LOOKUP:!0},Na=function(t,e){var n={},r=function(t,r){this.viewmodel=t,this.root=t.ractive,this.ref=r,this.parentFragment=n,t.unresolvedImplicitDependencies[r]=!0,t.unresolvedImplicitDependencies.push(this),e.addUnresolved(this)};return r.prototype={resolve:function(){this.viewmodel.mark(this.ref),this.viewmodel.unresolvedImplicitDependencies[this.ref]=!1,t(this.viewmodel.unresolvedImplicitDependencies,this)},teardown:function(){e.removeUnresolved(this)}},r}(h,b),Ia=function(t,e){function n(e,n){var r,i,o,a,s,u,c;return r=n.split("."),i=r.pop(),o=r.join("."),a=e.get(o),(c=e.wrapped[o])&&(a=c.get()),null!==a&&void 0!==a?((s=e.cacheMap[o])?-1===s.indexOf(n)&&s.push(n):e.cacheMap[o]=[n],"object"!=typeof a||i in a?(u=a[i],e.adapt(n,u,!1),e.cache[n]=u,u):e.cache[n]=t):void 0}var r={};return function(i){var o=arguments[1];void 0===o&&(o=r);var a,s,u,c,l=this.ractive,f=this.cache;return void 0===f[i]?((s=this.computations[i])?a=s.value:(u=this.wrapped[i])?a=u.value:i?a=(c=this.evaluators[i])?c.value:n(this,i):(this.adapt("",l.data),a=l.data),f[i]=a):a=f[i],o.evaluateWrapped&&(u=this.wrapped[i])&&(a=u.get()),o.capture&&this.capturing&&-1===this.captured.indexOf(i)&&(this.captured.push(i),a===t&&this.unresolvedImplicitDependencies[i]!==!0&&new e(this,i)),a===t?void 0:a}}(Ma,Na),Oa=function(t,e){e&&(this.implicitChanges[t]=!0),-1===this.changes.indexOf(t)&&(this.changes.push(t),this.clearCache(t))},Ra=function(t,e){var n,r,i,o;return n={},r=0,i=t.map(function(t,i){var a,s,u;s=r,u=e.length;do{if(a=e.indexOf(t,s),-1===a)return o=!0,-1;s=a+1}while(n[a]&&u>s);return a===r&&(r+=1),a!==i&&(o=!0),n[a]=!0,a}),i.unchanged=!o,i},La=function(t,e,n){function r(e){return"function"==typeof e.merge&&(!e.subtype||e.subtype===t.SECTION_EACH)}function i(t){return JSON.stringify(t)}function o(t){if(t===!0)return i;if("string"==typeof t)return a[t]||(a[t]=function(e){return e[t]}),a[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}var a={};return function(t,i,a,s){var u,c,l,f,h,p=this;if(this.mark(t),s&&s.compare){l=o(s.compare);try{u=i.map(l),c=a.map(l)}catch(d){if(this.debug)throw d;e("Merge operation: comparison failed. Falling back to identity checking"),u=i,c=a}}else u=i,c=a;f=n(u,c),f.forEach(function(e,n){-1===e&&p.mark(t+"."+n)}),this.set(t,a,!0),(h=this.deps["default"][t])&&h.filter(r).forEach(function(t){return t.merge(f)}),i.length!==a.length&&this.mark(t+".length",!0)}}(H,D,Ra),Pa=function(){function t(t,e,n){var r,i,o,a;for(r=e.split(".");r.length;)r.pop(),i=r.join("."),o=t.depsMap[n]||(t.depsMap[n]={}),a=o[i]||(o[i]=[]),void 0===a[e]&&(a[e]=0,a.push(e)),a[e]+=1,e=i}return function(e,n){var r=arguments[2];void 0===r&&(r="default");var i,o,a;n.isStatic||(i=this.deps[r]||(this.deps[r]={}),o=i[e]||(i[e]=[]),o.push(n),e&&((a=this.evaluators[e])&&(a.dependants||a.wake(),a.dependants+=1),t(this,e,r)))}}(),Da=function(){return this.capturing=!1,this.captured},ja=function(t,e){return function(n,r,i){var o,a,s,u,c,l,f,h;t(this.cache[n],r)||(c=this.computations[n],l=this.wrapped[n],f=this.evaluators[n],c&&!c.setting&&c.set(r),l&&l.reset&&(h=l.reset(r)!==!1,h&&(r=l.get())),f&&(f.value=r),c||f||h||(o=n.split("."),a=o.pop(),s=o.join("."),l=this.wrapped[s],l&&l.set?l.set(a,r):(u=l?l.get():this.get(s),u||(u=e(a),this.set(s,u,!0)),u[a]=r)),i?this.clearCache(n):this.mark(n))}}(v,x),Fa=function(t){function e(e){return e.type===t.SECTION&&(!e.subtype||e.subtype===t.SECTION_EACH)&&e.rendered}return function(t,n){var r,i,o=this;for(r=n.rangeStart;r<n.rangeEnd;r+=1)o.mark(t+"."+r);n.balance&&o.mark(t+".length",!0),(i=o.deps["default"][t])&&i.filter(e).forEach(function(t){return t.splice(n)})}}(H),qa=function(){var t,e=this;for(Object.keys(this.cache).forEach(function(t){return e.clearCache(t)});t=this.unresolvedImplicitDependencies.pop();)t.teardown()},$a=function(){function t(t,e,n){var r,i,o,a;for(r=e.split(".");r.length;)r.pop(),i=r.join("."),o=t.depsMap[n],a=o[i],a[e]-=1,a[e]||(a.splice(a.indexOf(e),1),a[e]=void 0),e=i}return function(e,n){var r=arguments[2];void 0===r&&(r="default");var i,o,a;if(!n.isStatic){if(i=this.deps[r][e],o=i.indexOf(n),-1===o)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");i.splice(o,1),e&&((a=this.evaluators[e])&&(a.dependants-=1,a.dependants||a.sleep()),t(this,e,r))}}}(),Va=function(){function t(t){var n="var __ractive=this;return("+t.replace(e,function(t,e){return'__ractive.get("'+e+'")'})+")";return new Function(n)}var e=/\$\{([^\}]+)\}/g;return function(e){return"function"==typeof e?{get:e}:"string"==typeof e?{get:t(e)}:("object"==typeof e&&"string"==typeof e.get&&(e={get:t(e.get),set:e.set}),e)}}(),Ha=function(t,e,n){var r=function(t,e,n){this.ractive=t,this.viewmodel=t.viewmodel,this.key=e,this.getter=n.get,this.setter=n.set,this.dependencies=[],this.update()};return r.prototype={set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter.call(this.ractive,t)},compute:function(){var e,r,i;e=this.ractive,e.viewmodel.capture();try{this.value=this.getter.call(e)}catch(o){t.warn({debug:e.debug,message:"failedComputation",args:{key:this.key,err:o.message||o}}),r=!0}return i=e.viewmodel.release(),n(this,this.dependencies,i),r?!1:!0},update:function(){var t=this.value;this.compute()&&!e(this.value,t)&&this.ractive.viewmodel.mark(this.key)}},r}(Zn,v,Jn),Wa=function(t,e){return function(n,r){var i,o;for(i in r)o=t(r[i]),n.viewmodel.computations[i]=new e(n,i,o)}}(Va,Ha),za=function(){function t(t){return"string"==typeof t&&(t=[t]),t}var e={lookup:function(t,e){var n,r=t.adapt;if(!r||!r.length)return r;if(e&&Object.keys(e).length&&(n=r.length))for(;n--;){var i=r[n];"string"==typeof i&&(r[n]=e[i]||i)}return r},combine:function(e,n){return e=t(e),n=t(n),e&&e.length?n&&n.length?(e.forEach(function(t){-1===n.indexOf(t)&&n.push(t)}),n):e.slice():n}};return e}(),Ua=function(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,g){var v;try{Object.defineProperty({},"test",{value:0})}catch(m){v=!0}var y=function(e){this.ractive=e,y.extend(e.constructor,e),this.cache={},this.cacheMap=t(null),this.deps={computed:{},"default":{}},this.depsMap={computed:{},"default":{}},this.patternObservers=[],this.wrapped=t(null),this.evaluators=t(null),this.computations=t(null),this.captured=null,this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={}};return y.extend=function(t,e){if(e.magic&&v)throw new Error("Getters and setters (magic mode) are not supported in this browser");e.adapt=g.combine(t.prototype.adapt,e.adapt)||[],e.adapt=g.lookup(e,e.adaptors)},y.prototype={adapt:e,applyChanges:n,capture:r,clearCache:i,get:o,mark:a,merge:s,register:u,release:c,set:l,splice:f,teardown:h,unregister:p,compute:function(){d(this.ractive,this.ractive.computed)}},y}(W,Ea,Sa,Aa,ka,Ia,Oa,La,Pa,Da,ja,Fa,qa,$a,Wa,za),Ba=function(t,e,n,r,i,o){function a(t){var e;if(e=n(t.el)){var r=t.transitionsEnabled;if(t.noIntro&&(t.transitionsEnabled=!1),e&&!t.append){if(e.__ractive_instances__)try{e.__ractive_instances__.splice(0,e.__ractive_instances__.length).forEach(function(t){return t.teardown()})}catch(i){}e.innerHTML=""}t.render(e,t.append),t.transitionsEnabled=r}}function s(t,n){t._guid=r(),t._subs=e(null),t._config={},t._twowayBindings=e(null),t._animations=[],t.nodes={},t._liveQueries=[],t._liveComponentQueries=[],n._parent&&n._component&&(t._parent=n._parent,t.component=n._component,n._component.instance=t)}return function(e){var n=arguments[1];void 0===n&&(n={}),s(e,n),t.init(e.constructor,e,n),e.viewmodel=new i(e),e.viewmodel.compute(),e.template&&(e.fragment=new o({template:e.template,root:e,owner:e})),e.viewmodel.applyChanges(),a(e)}}(ze,W,fn,ma,Ua,Ko),Xa=function(t){return function(e,n,r){e.beforeInit&&e.beforeInit(r),t(e,r)}}(Ba),Ya=function(t,e,n,r){function i(e,n,r){for(var i in r)if(!(i in u)&&r.hasOwnProperty(i)){var o=r[i];"function"==typeof o&&(o=t(e,i,o)),n[i]=o}}function o(t){if(!(t.prototype instanceof s))return t;for(var n={};t;)l.forEach(function(e){a(e.useDefaults?t.prototype:t,n,e.name)}),Object.keys(t.prototype).forEach(function(r){if("computed"!==r){var i=t.prototype[r];if(r in n){if("function"==typeof n[r]&&"function"==typeof i&&n[r]._method){var o,a=i._method;a&&(i=i._method),o=e(n[r]._method,i),a&&(o._method=o),n[r]=o}}else n[r]=i._method?i._method:i}}),t=t._parent!==s?t._parent:!1;return n}function a(t,e,n){var r,i=Object.keys(t[n]);i.length&&((r=e[n])||(r=e[n]={}),i.filter(function(t){return!(t in r)}).forEach(function(e){return r[e]=t[n][e]}))}var s,u={_parent:!0,_component:!0},c={toPrototype:i,toOptions:o},l=n.registries;return n.keys.forEach(function(t){return u[t]=!0}),r.push(function(){s=r.Ractive}),c}(He,q,ze,o),Ga=function(t,e,n,r,i,o,a){return function s(){var u=arguments[0];void 0===u&&(u={});var c,l,f,h=this;return u=a.toOptions(u),c=function(t){i(this,c,t)},l=t(h.prototype),l.constructor=c,f={_guid:{value:n()},defaults:{value:l},extend:{value:s,writable:!0,configurable:!0},_parent:{value:h}},e(c,f),r.extend(h,l,u),o.extend(h,l),a.toPrototype(h.prototype,l,u),c.prototype=l,c}}(W,k,va,ze,Xa,Ua,Ya),Za=function(t,e,n,r,i,o,a,s,u,c,l,f,h){var p,d;for(p=function(t){f(this,t)},d={extend:{value:c},parse:{value:l},Promise:{value:s},svg:{value:r},magic:{value:i},VERSION:{value:"0.5.5"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:e},events:{writable:!0,value:{}},interpolators:{writable:!0,value:n},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},o(p,d),p.prototype=u(a,t),p.prototype.constructor=p,p.defaults=p.prototype,h.Ractive=p;h.length;)h.pop()();var g="function";if(typeof Date.now!==g||typeof String.prototype.trim!==g||typeof Object.keys!==g||typeof Array.prototype.indexOf!==g||typeof Array.prototype.forEach!==g||typeof Array.prototype.map!==g||typeof Array.prototype.filter!==g||"undefined"!=typeof window&&typeof window.addEventListener!==g)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return p}(r,i,l,f,_,k,ga,p,mi,Ga,Le,Ba,o);"undefined"!=typeof e&&e.exports?e.exports=Za:"function"==typeof define&&define.amd&&define(function(){return Za}),t.Ractive=Za,Za.noConflict=function(){return t.Ractive=n,Za}}("undefined"!=typeof window?window:this)},{}],44:[function(t,e,n){(function(){var t=this,r=t._,i={},o=Array.prototype,a=Object.prototype,s=Function.prototype,u=o.push,c=o.slice,l=o.concat,f=a.toString,h=a.hasOwnProperty,p=o.forEach,d=o.map,g=o.reduce,v=o.reduceRight,m=o.filter,y=o.every,w=o.some,b=o.indexOf,x=o.lastIndexOf,E=Array.isArray,_=Object.keys,T=s.bind,C=function(t){return t instanceof C?t:this instanceof C?void(this._wrapped=t):new C(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=C),n._=C):t._=C,C.VERSION="1.6.0";var S=C.each=C.forEach=function(t,e,n){if(null==t)return t;if(p&&t.forEach===p)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,o=t.length;o>r;r++)if(e.call(n,t[r],r,t)===i)return}else for(var a=C.keys(t),r=0,o=a.length;o>r;r++)if(e.call(n,t[a[r]],a[r],t)===i)return;return t};C.map=C.collect=function(t,e,n){var r=[];return null==t?r:d&&t.map===d?t.map(e,n):(S(t,function(t,i,o){r.push(e.call(n,t,i,o))}),r)};var A="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),g&&t.reduce===g)return r&&(e=C.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(S(t,function(t,o,a){i?n=e.call(r,n,t,o,a):(n=t,i=!0)}),!i)throw new TypeError(A);return n},C.reduceRight=C.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),v&&t.reduceRight===v)return r&&(e=C.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var a=C.keys(t);o=a.length}if(S(t,function(s,u,c){u=a?a[--o]:--o,i?n=e.call(r,n,t[u],u,c):(n=t[u],i=!0)}),!i)throw new TypeError(A);return n},C.find=C.detect=function(t,e,n){var r;return k(t,function(t,i,o){return e.call(n,t,i,o)?(r=t,!0):void 0}),r},C.filter=C.select=function(t,e,n){var r=[];return null==t?r:m&&t.filter===m?t.filter(e,n):(S(t,function(t,i,o){e.call(n,t,i,o)&&r.push(t)}),r)},C.reject=function(t,e,n){return C.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},C.every=C.all=function(t,e,n){e||(e=C.identity);var r=!0;return null==t?r:y&&t.every===y?t.every(e,n):(S(t,function(t,o,a){return(r=r&&e.call(n,t,o,a))?void 0:i}),!!r)};var k=C.some=C.any=function(t,e,n){e||(e=C.identity);var r=!1;return null==t?r:w&&t.some===w?t.some(e,n):(S(t,function(t,o,a){return r||(r=e.call(n,t,o,a))?i:void 0}),!!r)};C.contains=C.include=function(t,e){return null==t?!1:b&&t.indexOf===b?-1!=t.indexOf(e):k(t,function(t){return t===e})},C.invoke=function(t,e){var n=c.call(arguments,2),r=C.isFunction(e);return C.map(t,function(t){return(r?e:t[e]).apply(t,n)})},C.pluck=function(t,e){return C.map(t,C.property(e))},C.where=function(t,e){return C.filter(t,C.matches(e))},C.findWhere=function(t,e){return C.find(t,C.matches(e))},C.max=function(t,e,n){if(!e&&C.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var r=-1/0,i=-1/0;return S(t,function(t,o,a){var s=e?e.call(n,t,o,a):t;s>i&&(r=t,i=s)}),r},C.min=function(t,e,n){if(!e&&C.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var r=1/0,i=1/0;return S(t,function(t,o,a){var s=e?e.call(n,t,o,a):t;i>s&&(r=t,i=s)}),r},C.shuffle=function(t){var e,n=0,r=[];return S(t,function(t){e=C.random(n++),r[n-1]=r[e],r[e]=t}),r},C.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=C.values(t)),t[C.random(t.length-1)]):C.shuffle(t).slice(0,Math.max(0,e))};var M=function(t){return null==t?C.identity:C.isFunction(t)?t:C.property(t)};C.sortBy=function(t,e,n){return e=M(e),C.pluck(C.map(t,function(t,r,i){return{value:t,index:r,criteria:e.call(n,t,r,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var N=function(t){return function(e,n,r){var i={};return n=M(n),S(e,function(o,a){var s=n.call(r,o,a,e);t(i,s,o)}),i}};C.groupBy=N(function(t,e,n){C.has(t,e)?t[e].push(n):t[e]=[n]}),C.indexBy=N(function(t,e,n){t[e]=n}),C.countBy=N(function(t,e){C.has(t,e)?t[e]++:t[e]=1}),C.sortedIndex=function(t,e,n,r){n=M(n);for(var i=n.call(r,e),o=0,a=t.length;a>o;){var s=o+a>>>1;n.call(r,t[s])<i?o=s+1:a=s}return o},C.toArray=function(t){return t?C.isArray(t)?c.call(t):t.length===+t.length?C.map(t,C.identity):C.values(t):[]},C.size=function(t){return null==t?0:t.length===+t.length?t.length:C.keys(t).length},C.first=C.head=C.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:c.call(t,0,e)},C.initial=function(t,e,n){return c.call(t,0,t.length-(null==e||n?1:e))},C.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:c.call(t,Math.max(t.length-e,0))},C.rest=C.tail=C.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},C.compact=function(t){return C.filter(t,C.identity)};var I=function(t,e,n){return e&&C.every(t,C.isArray)?l.apply(n,t):(S(t,function(t){C.isArray(t)||C.isArguments(t)?e?u.apply(n,t):I(t,e,n):n.push(t)}),n)};C.flatten=function(t,e){return I(t,e,[])},C.without=function(t){return C.difference(t,c.call(arguments,1))},C.partition=function(t,e){var n=[],r=[];return S(t,function(t){(e(t)?n:r).push(t)}),[n,r]},C.uniq=C.unique=function(t,e,n,r){C.isFunction(e)&&(r=n,n=e,e=!1);var i=n?C.map(t,n,r):t,o=[],a=[];return S(i,function(n,r){(e?r&&a[a.length-1]===n:C.contains(a,n))||(a.push(n),o.push(t[r]))}),o},C.union=function(){return C.uniq(C.flatten(arguments,!0))},C.intersection=function(t){var e=c.call(arguments,1);return C.filter(C.uniq(t),function(t){return C.every(e,function(e){return C.contains(e,t)})})},C.difference=function(t){var e=l.apply(o,c.call(arguments,1));return C.filter(t,function(t){return!C.contains(e,t)})},C.zip=function(){for(var t=C.max(C.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=C.pluck(arguments,""+n);return e},C.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},C.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=C.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}if(b&&t.indexOf===b)return t.indexOf(e,n);for(;i>r;r++)if(t[r]===e)return r;return-1},C.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(x&&t.lastIndexOf===x)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},C.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;
for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=new Array(r);r>i;)o[i++]=t,t+=n;return o};var O=function(){};C.bind=function(t,e){var n,r;if(T&&t.bind===T)return T.apply(t,c.call(arguments,1));if(!C.isFunction(t))throw new TypeError;return n=c.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(c.call(arguments)));O.prototype=t.prototype;var i=new O;O.prototype=null;var o=t.apply(i,n.concat(c.call(arguments)));return Object(o)===o?o:i}},C.partial=function(t){var e=c.call(arguments,1);return function(){for(var n=0,r=e.slice(),i=0,o=r.length;o>i;i++)r[i]===C&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return t.apply(this,r)}},C.bindAll=function(t){var e=c.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return S(e,function(e){t[e]=C.bind(t[e],t)}),t},C.memoize=function(t,e){var n={};return e||(e=C.identity),function(){var r=e.apply(this,arguments);return C.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},C.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},C.defer=function(t){return C.delay.apply(C,[t,1].concat(c.call(arguments,1)))},C.throttle=function(t,e,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:C.now(),a=null,o=t.apply(r,i),r=i=null};return function(){var c=C.now();s||n.leading!==!1||(s=c);var l=e-(c-s);return r=this,i=arguments,0>=l?(clearTimeout(a),a=null,s=c,o=t.apply(r,i),r=i=null):a||n.trailing===!1||(a=setTimeout(u,l)),o}},C.debounce=function(t,e,n){var r,i,o,a,s,u=function(){var c=C.now()-a;e>c?r=setTimeout(u,e-c):(r=null,n||(s=t.apply(o,i),o=i=null))};return function(){o=this,i=arguments,a=C.now();var c=n&&!r;return r||(r=setTimeout(u,e)),c&&(s=t.apply(o,i),o=i=null),s}},C.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},C.wrap=function(t,e){return C.partial(e,t)},C.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},C.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},C.keys=function(t){if(!C.isObject(t))return[];if(_)return _(t);var e=[];for(var n in t)C.has(t,n)&&e.push(n);return e},C.values=function(t){for(var e=C.keys(t),n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},C.pairs=function(t){for(var e=C.keys(t),n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},C.invert=function(t){for(var e={},n=C.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},C.functions=C.methods=function(t){var e=[];for(var n in t)C.isFunction(t[n])&&e.push(n);return e.sort()},C.extend=function(t){return S(c.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},C.pick=function(t){var e={},n=l.apply(o,c.call(arguments,1));return S(n,function(n){n in t&&(e[n]=t[n])}),e},C.omit=function(t){var e={},n=l.apply(o,c.call(arguments,1));for(var r in t)C.contains(n,r)||(e[r]=t[r]);return e},C.defaults=function(t){return S(c.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},C.clone=function(t){return C.isObject(t)?C.isArray(t)?t.slice():C.extend({},t):t},C.tap=function(t,e){return e(t),t};var R=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof C&&(t=t._wrapped),e instanceof C&&(e=e._wrapped);var i=f.call(t);if(i!=f.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;var a=t.constructor,s=e.constructor;if(a!==s&&!(C.isFunction(a)&&a instanceof a&&C.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1;n.push(t),r.push(e);var u=0,c=!0;if("[object Array]"==i){if(u=t.length,c=u==e.length)for(;u--&&(c=R(t[u],e[u],n,r)););}else{for(var l in t)if(C.has(t,l)&&(u++,!(c=C.has(e,l)&&R(t[l],e[l],n,r))))break;if(c){for(l in e)if(C.has(e,l)&&!u--)break;c=!u}}return n.pop(),r.pop(),c};C.isEqual=function(t,e){return R(t,e,[],[])},C.isEmpty=function(t){if(null==t)return!0;if(C.isArray(t)||C.isString(t))return 0===t.length;for(var e in t)if(C.has(t,e))return!1;return!0},C.isElement=function(t){return!(!t||1!==t.nodeType)},C.isArray=E||function(t){return"[object Array]"==f.call(t)},C.isObject=function(t){return t===Object(t)},S(["Arguments","Function","String","Number","Date","RegExp"],function(t){C["is"+t]=function(e){return f.call(e)=="[object "+t+"]"}}),C.isArguments(arguments)||(C.isArguments=function(t){return!(!t||!C.has(t,"callee"))}),"function"!=typeof/./&&(C.isFunction=function(t){return"function"==typeof t}),C.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},C.isNaN=function(t){return C.isNumber(t)&&t!=+t},C.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==f.call(t)},C.isNull=function(t){return null===t},C.isUndefined=function(t){return void 0===t},C.has=function(t,e){return h.call(t,e)},C.noConflict=function(){return t._=r,this},C.identity=function(t){return t},C.constant=function(t){return function(){return t}},C.property=function(t){return function(e){return e[t]}},C.matches=function(t){return function(e){if(e===t)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0}},C.times=function(t,e,n){for(var r=Array(Math.max(0,t)),i=0;t>i;i++)r[i]=e.call(n,i);return r},C.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},C.now=Date.now||function(){return(new Date).getTime()};var L={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};L.unescape=C.invert(L.escape);var P={escape:new RegExp("["+C.keys(L.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(L.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(t){C[t]=function(e){return null==e?"":(""+e).replace(P[t],function(e){return L[t][e]})}}),C.result=function(t,e){if(null==t)return void 0;var n=t[e];return C.isFunction(n)?n.call(t):n},C.mixin=function(t){S(C.functions(t),function(e){var n=C[e]=t[e];C.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),$.call(this,n.apply(C,t))}})};var D=0;C.uniqueId=function(t){var e=++D+"";return t?t+e:e},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(t,e,n){var r;n=C.defaults({},n,C.templateSettings);var i=new RegExp([(n.escape||j).source,(n.interpolate||j).source,(n.evaluate||j).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(i,function(e,n,r,i,s){return a+=t.slice(o,s).replace(q,function(t){return"\\"+F[t]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),o=s+e.length,e}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(e)return r(e,C);var u=function(t){return r.call(this,t,C)};return u.source="function("+(n.variable||"obj")+"){\n"+a+"}",u},C.chain=function(t){return C(t).chain()};var $=function(t){return this._chain?C(t).chain():t};C.mixin(C),S(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];C.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],$.call(this,n)}}),S(["concat","join","slice"],function(t){var e=o[t];C.prototype[t]=function(){return $.call(this,e.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return C})}).call(this)},{}]},{},[1]);